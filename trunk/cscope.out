cscope 15 /mnt/kys/kys/src               0000319035
	@cmd.h

29 #ide
__CMD_H__


30 
	#__CMD_H__


	)

32 
CmdS˕
(
st16
** 
cmd
);

33 
CmdSnFadeIn
(
st16
** 
cmd
);

34 
CmdSnFadeOut
(
st16
** 
cmd
);

	@const.h

29 #ide
__CONST_H__


30 
	#__CONST_H__


	)

38 
	#HAN_FONT
 "ft/bkai00mp.f"

	)

39 
	#ENG_FONT
 "ft/csa.f"

	)

41 
	#SCREEN_WIDTH
 640

	)

42 
	#SCREEN_HEIGHT
 480

	)

44 
	#SCREEN_CENTER_X
 (
SCREEN_WIDTH
 / 2)

	)

45 
	#SCREEN_CENTER_Y
 (
SCREEN_HEIGHT
 / 2)

	)

47 
	#CELL_WIDTH
 36

	)

48 
	#CELL_HEIGHT
 (
CELL_WIDTH
 / 2)

	)

50 
	#BIG_PIC_WIDTH
 320

	)

51 
	#BIG_PIC_HEIGHT
 200

	)

52 
	#BIG_PIC_SIZE
 (
BIG_PIC_WIDTH
 * 
BIG_PIC_HEIGHT
)

	)

54 
	#SCENCE_PIC_WIDTH
 ((
SCENCE_HEIGHT
 + 
SCENCE_WIDTH
* 
CELL_WIDTH
 / 2)

	)

55 
	#SCENCE_PIC_HEIGHT
 ((
SCENCE_WIDTH
 + 
SCENCE_HEIGHT
* 
CELL_HEIGHT
 / 2)

	)

57 
	#MAP_PIC_WIDTH
 ((
MAP_HEIGHT
 + 
MAP_WIDTH
* 
CELL_WIDTH
 / 2)

	)

58 
	#MAP_PIC_HEIGHT
 ((
MAP_WIDTH
 + 
MAP_HEIGHT
* 
CELL_HEIGHT
 / 2)

	)

60 
	#RECTANGLE_D
 5

	)

61 
	#RECTANGLE_N
 8

	)

63 
	#STATUS_FRAME_X
 40

	)

64 
	#STATUS_FRAME_Y
 40

	)

65 
	#STATUS_FRAME_W
 560

	)

66 
	#STATUS_FRAME_H
 400

	)

68 
	#STATUS_TEXT_TOP_X
 80

	)

69 
	#STATUS_TEXT_LEFT_Y
 65

	)

71 
	#STATUS_TEXT_W
 80

	)

72 
	#STATUS_TEXT_H
 25

	)

74 
	#STATUS_TEXT_X
(
x
(
STATUS_TEXT_TOP_X
 + 
STATUS_TEXT_W
 * (x))

	)

75 
	#STATUS_TEXT_Y
(
y
(
STATUS_TEXT_LEFT_Y
 + 
STATUS_TEXT_H
 * (y))

	)

77 
	#STATUS_NUM_FORMAT_1
 "%7d"

	)

78 
	#STATUS_NUM_FORMAT_2
 "%3d"

	)

79 
	#STATUS_NUM_FORMAT_3
 "/%3d"

	)

80 
	#STATUS_NUM_FORMAT_4
 "%3d/%3d"

	)

82 
	#STATUS_FACE_X
 100

	)

83 
	#STATUS_FACE_Y
 80 + 
FACE_PIC_H


	)

85 
	#STATUS_NAME_X
 
STATUS_FACE_X


	)

86 
	#STATUS_NAME_Y
 
STATUS_FACE_Y
 + 10

	)

88 
	#FACE_PIC_W
 56

	)

89 
	#FACE_PIC_H
 58

	)

91 
	#TEXT_COLOR
 0x23

	)

92 
	#TEXT_NORMAL_COLOR
 0x07

	)

93 
	#TEXT_FATAL_COLOR
 0x16

	)

94 
	#TEXT_SERIOUS_COLOR
 0x10

	)

95 
	#TEXT_YIN_COLOR
 0x50

	)

96 
	#TEXT_YANG_COLOR
 
TEXT_NORMAL_COLOR


	)

97 
	#TEXT_UNIFIED_COLOR
 0x66

	)

99 
	#FRAME_TEXT_ALPHA
 0x4f

	)

100 
	#FRAME_TEXT_PADDING
 5

	)

106 
	#KEY_REPEAT_DELAY
 200

	)

107 
	#KEY_REPEAT
 100

	)

109 
	#KEYUP
 -1

	)

115 
	#TEXT_BIG5_LEN
 1024

	)

116 
	#TEXT_UTF8_LEN
 (
TEXT_BIG5_LEN
 * 4)

	)

118 
	#NAME_LEN
 20

	)

119 
	#NAME_UTF8_LEN
 (
NAME_LEN
 * 4)

	)

121 
	#ITEM_BEGIN_PIC
 3501

122 
	#SOFTSTAR_BEGIN_TALK
 2547

123 
	#SOFTSTAR_NUM_TALK
 18

124 
	#MAX_PHYSICAL_POWER
 100

125 
	#MONEY_ID
 174

126 
	#COMPASS_ID
 182

127 
	#BEGIN_LEAVE_EVENT
 950

128 
	#BEGIN_BATTLE_ROLE_PIC
 2553

129 
	#MAX_LEVEL
 30

130 
	#MAX_WEAPON_MATCH
 7

131 
	#MIN_KNOWLEDGE
 80

132 

	)

133 
	#ITEM_NUM
 200

134 
	#ROLE_NUM
 320

	)

135 
	#SCENCE_NUM
 84

	)

136 
	#MAGIC_NUM
 93

	)

137 
	#SHOP_NUM
 5

	)

139 
	#MAX_TEAM_ROLE
 6

	)

141 
	#SCENCE_WIDTH
 64

	)

142 
	#SCENCE_HEIGHT
 
SCENCE_WIDTH


	)

144 
	#SCENCE_EVENT_NUM
 200

	)

146 
	#MAP_WIDTH
 480

	)

147 
	#MAP_HEIGHT
 
MAP_WIDTH


	)

149 
	#MAX_HP
 999

150 
	#MAX_MP
 999

151 
	#LIFE_HURT
 10

152 
	#THE_BOOKS_OFFSET
 144

153 
	#MAX_HEAD_NUM
 189

154 

	)

155 
	#WALK_PIC_OFFSET
 2501

156 
	#WALK_PIC_NUM
 7

	)

158 
	#REST_PIC_OFFSET
 2528

159 
	#REST_PIC_NUM
 6

	)

161 
	#SHIP_PIC_OFFSET
 3714

162 
	#SHIP_PIC_NUM
 4

	)

164 
	#MAX_PRO_LIST_OFFSET
 43

	)

166 
	#WOUND_SERIOUS
 33

	)

167 
	#WOUND_FATAL
 66

	)

169 
	#MAGIC_MAX_NUM
 10

	)

170 
	#MAGIC_MAX_LEVEL
 10

	)

172 
	#MAGIC_NEXT_EXP_NA
 -1

	)

173 
	#MAGIC_NEXT_EXP_NOTHING
 0

	)

175 
	#EVENT_NOTHING
 -1

	)

176 
	#EVENT_GAME_START
 691

177 

	)

178 
	#SCENCE_HOME
 70

179 
	#SCENCE_EXIT
 -1

	)

181 
	#GAME_START_SX
 20

182 
	#GAME_START_SY
 19

183 

	)

	@func.h

29 #ide
__FUNC_H__


30 
	#__FUNC_H__


	)

32 
st32
 
Rdom
(st32 
a
, st32 
b
);

34 
Qu
();

35 
PyXMI
(
dex
, 
times
);

36 
StXMI
();

37 
PyWAV
(
dex
, 
times
);

38 
PyWAVFe
(* 
fame
, 
times
);

40 
LdGame
(

);

41 
SaveGame
(

);

43 
WaAnyKey
();

44 
bo
 
PicInAa
(
x
, 
y
, 
T_PicRe
 
picRe
, 
T_Re
 
deRe
);

45 
T_Posi
 
GPosiOnSn
(
x
, 
y
, 
cx
, 
cy
);

47 
ut32
 
GRGBAPix
(
ut8
 
c
, ut8 
pha
, 
highlight
);

48 
ut32
 
GPPix
(
SDL_PixFm
* 
fm
, 
ut8
 
c
, ut8 
pha
, 
highlight
);

49 
	#COLOR
(
c

	`GRGBAPix
((c), 255, 0)

	)

50 
	#COLORA
(
c
, 
a

	`GRGBAPix
((c), (a), 0)

	)

51 
	#COLORH
(
c
, 
h

	`GRGBAPix
((c), 255, (h))

	)

52 
PutPix
(
SDL_Sur
* 
sur
, 
x
, 
y
, 
ut32
 
pix
);

53 
DwFmeReg
(
x
, 
y
, 
w
, 
h
, 
ut8
 
mC
, ut8 
sC
, ut8 
pha
);

54 
DwRLE8Pic
(
SDL_Sur
* 
sur
, 
dex
, 
x
, 
y
, 
ut32
* 
idxBufr
, 
by
* 
picBufr
, 
highlight
);

56 
DwPic
(
SDL_Sur
* 
deSur
, 
dex
, 
x
, 
y
, 
ut32
* 
idxBufr
, 
by
* 
picBufr
, 
highlight
);

57 
	#DwPicOnSn
(
dex
, 
x
, 
y
, 
idxBufr
, 
picBufr
, 
highlight
) \

58 
	`DwPic
(
g_snSur
, (
dex
), (
x
), (
y
), (
idxBufr
), (
picBufr
), (
highlight
))

	)

59 
DwBigPicOnSn
(
dex
, 
by
* 
bufr
);

60 
DwTPic
(
dex
, 
x
, 
y
);

62 
DwSnPic
(
dex
, 
x
, 
y
);

63 
DwSnWhoutRe
(
sx
, 
sy
);

64 
DwReOnSn
(
x
, 
y
);

65 
DwSnWhoutUpde
();

67 
DwMPic
(
dex
, 
x
, 
y
);

69 
DwFaPic
(
dex
, 
x
, 
y
);

70 
DwBFPic
(
dex
, 
x
, 
y
, 
highlight
);

71 
DwPicToBFPic
(
dex
, 
x
, 
y
);

72 
DwEf
(
dex
, 
x
, 
y
);

73 
DwAi
(
dex
, 
x
, 
y
);

75 * 
Utf8ToBig5
(* 
utf8
);

76 * 
Big5ToUtf8
(* 
big5
);

78 
DwFmeText
(* 
r
, 
ut8
 
txtC
, ut8 
mC
);

79 
T_Posi
 
DwText
(* 
r
, 
x
, 
y
, 
ut8
 
c
);

80 
T_Posi
 
DwShadowText
(* 
r
, 
x
, 
y
, 
ut8
 
c
);

81 
T_Posi
 
DwBig5Text
(* 
big5
, 
x
, 
y
, 
ut8
 
c
);

82 
T_Posi
 
DwBig5ShadowText
(* 
big5
, 
x
, 
y
, 
ut8
 
c
);

84 * 
LdFe
(* 
fame
, * 
bufr
, 
size_t
 
size
);

85 
bo
 
GoThrouht
(
x
, 
y
, bo* 
Bt
);

86 
bo
 
GoThroughSn
(
x
, 
y
);

87 
DwSnOnSn
(
x
, 
y
);

88 
ShowSnName
(
sn
);

90 
DwM
();

91 
DwMWhoutUpde
();

92 
DwSn
();

93 
RedwWhoutUpde
();

95 
Redw
();

96 
RdFes
();

97 
UpdeSn
();

99 
S
();

100 
InlRe
();

101 
ShowStus
(
dex
);

102 
bo
 
MagicLeveup
(
re
, * 
xtLevExp
);

103 
InGame
(
bo
 
t
);

104 
InSn
(
sn
, 
EmInSn
 
Sn
);

	@jinyong.c

33 
	~<lims.h
>

34 
	~<icv.h
>

35 
	~<time.h
>

37 
	~<SDL/SDL.h
>

38 
	~<SDL/SDL_f.h
>

39 
	~<SDL/SDL_evts.h
>

40 
	~<SDL/SDL_video.h
>

41 
	~<SDL/SDL_rozoom.h
>

42 
	~<SDL/SDL_mix.h
>

43 
	~<SDL/SDL_gfxPrimives.h
>

45 
	~"cڡ.h
"

46 
	~"tydef.h
"

47 
	~"func.h
"

48 
	~"cmd.h
"

55 cڡ 
ut8
 
	gMAX_PRO_LIST
[58 - 43 + 1] = {

58 
icv_t
 
	gg_utf8ToBig5
 = 0;

59 
icv_t
 
	gg_big5ToUtf8
 = 0;

61 
ut16
 
	gg_HFtSize
 = 20;

62 
ut16
 
	gg_EngFtSize
 = 18;

65 
ut32
* 
	gg_mIdxBuff
 = 
NULL
;

66 
by
* 
	gg_mPicBuff
 = 
NULL
;

68 
ut32
* 
	gg_snIdxBuff
 = 
NULL
;

69 
by
* 
	gg_snPicBuff
 = 
NULL
;

71 
ut32
* 
	gg_bfIdxBuff
 = 
NULL
;

72 
by
* 
	gg_bfPicBuff
 = 
NULL
;

74 
ut32
* 
	gg_effIdxBuff
 = 
NULL
;

75 
by
* 
	gg_efBuff
 = 
NULL
;

77 
ut32
* 
	gg_aIdxBuff
 = 
NULL
;

78 
by
* 
	gg_aiBuff
 = 
NULL
;

80 
ut32
* 
	gg_IdxBuff
 = 
NULL
;

81 
by
* 
	gg_PicBuff
 = 
NULL
;

83 
ut32
* 
	gg_cmdIdxBuff
 = 
NULL
;

84 
by
* 
	gg_cmdGBuff
 = 
NULL
;

87 
st16
 
	gg_m
[
MAP_WIDTH
][
MAP_HEIGHT
] = {{0}};

88 
st16
 
	gg_sur
[
MAP_WIDTH
][
MAP_HEIGHT
] = {{0}};

89 
st16
 
	gg_budg
[
MAP_WIDTH
][
MAP_HEIGHT
] = {{0}};

90 
st16
 
	gg_budgX
[
MAP_WIDTH
][
MAP_HEIGHT
] = {{0}};

91 
st16
 
	gg_budgY
[
MAP_WIDTH
][
MAP_HEIGHT
] = {{0}};

93 
st16
 
	gg_s
[
MAP_WIDTH
][
MAP_HEIGHT
] = {{0}};

96 
T_RGB
 
	gg_ˉe
[256];

99 
	gg_mSp
 = 0;

100 
	gg_mRe
 = 0;

101 
	gg_mSh
 = 0;

103 
bo
 
	gg_
 = 0;

104 
bo
 
	gg_sh
 = 0;

106 
	gg_ex
 = 0;

107 
	gg_ey
 = 0;

109 
	gg_sFa
 = 0;

110 
	gg_sSp
 = 0;

112 
	gg_curSn
 = 0;

113 
	gg_curEvt
 = 0;

114 
	gcurIm
 = 0;

115 
	gcutBe
 = 0;

116 
EmInGame
 
	gg_Game
 = 0;

121 
	gg_veSl
 = 0;

123 
T_ReDa
 
	gg_reDa
;

124 
	#g_sx
 (
g_reDa
.
comm
.
sx
)

	)

125 
	#g_sy
 (
g_reDa
.
comm
.
sy
)

	)

126 
	#g_mx
 (
g_reDa
.
comm
.
mx
)

	)

127 
	#g_my
 (
g_reDa
.
comm
.
my
)

	)

128 
	#g_mFa
 (
g_reDa
.
comm
.
mFa
)

	)

130 
st16
 
	gemLi
[500] = {0};

133 
st16
 
	gg_snDa
[
SCENCE_NUM
][
SCENCE_LAYER_NUM
][
SCENCE_WIDTH
][
SCENCE_HEIGHT
] = {{{{0}}}};

134 
	#g_curSnDa
 (
g_snDa
[
g_curSn
])

	)

136 
T_Evt
 
	gg_snEvtDa
[
SCENCE_NUM
][
SCENCE_EVENT_NUM
];

137 
	#g_curSnEvtDa
 (
g_snEvtDa
[
g_curSn
])

	)

138 
	#g_curEvtDa
 (
g_curSnEvtDa
[
g_curEvt
])

	)

139 
	#CurSnXYEvtDa
(
sx
, 
xy
(
g_curSnEvtDa
[
g_curSnDa
[
EmSnLayEvt
][(sx)][(
sy
)]])

	)

143 
ut32
 
	gsnImg
[2304][1152];

147 
st16
 
	gbFld
[8][64][64];

150 
st16
 
	gwS
[0x5e];

152 
T_BeRe
 
	gbRe
[100];

156 
	gbReAmou
 = 0;

158 
	gbx
 = 0;

159 
	gby
 = 0;

160 
	gax
 = 0;

161 
	gay
 = 0;

163 
	gbStus
 = 0;

166 
	gg_aveLi
[100];

167 
	gg_efLi
[200];

168 
	gg_vupLi
[100];

169 
	gg_mchLi
[100][3];

172 
bo
 
	gg_fuSn
 = 
FALSE
;

175 
SDL_Sur
* 
	gg_snSur
 = 
NULL
;

176 
SDL_Sur
* 
	gg_snSur
 = 
NULL
;

177 
SDL_Sur
* 
	gg_bfSur
 = 
NULL
;

179 
SDL_Evt
 
	gevt
;

180 
TTF_Ft
* 
	gg_HFt
;

181 
TTF_Ft
* 
	gg_EngFt
;

182 
SDL_C
 
	gxtC
;

183 
SDL_Sur
* 
	g
 = 
NULL
;

185 
Mix_Music
* 
	gg_music
 = 
NULL
;

186 
Mix_Chunk
* 
	gg_sound
 = 
NULL
;

187 
	gexSnMusicNum
 = 0;

189 
	gmusicName
[256] = {0};

191 
	gmuSg
[1024] = {0};

192 
	gmuEngSg
[1024] = {0};

196 
	gx50
[0x7FFF - -0x8000 + 1] = {0};

197 
	#X50_OFFSET
 (-0x8000)

	)

204 
	$ma
()

206 
	`d
(
	`ock
());

208 
g_utf8ToBig5
 = 
	`icv_ݒ
("BIG5", "UTF8");

209 
g_big5ToUtf8
 = 
	`icv_ݒ
("UTF8", "BIG5");

212 
	`TTF_In
();

213 
g_HFt
 = 
	`TTF_OnFt
(
HAN_FONT
, 
g_HFtSize
);

214 
g_EngFt
 = 
	`TTF_OnFt
(
ENG_FONT
, 
g_EngFtSize
);

215 i(
g_HFt
 =
NULL
) {

217 
	`tf
("E %s\n", 
	`SDL_GE
());

223 i((
	`SDL_In
(
SDL_INIT_VIDEO
) < 0)) {

225 
	`tf
("C'lizSDL : %s\n", 
	`SDL_GE
());

226 
	`SDL_Qu
();

231 
	`SDL_In
(
SDL_INIT_AUDIO
);

232 
	`Mix_OnAudio
(
MIX_DEFAULT_FREQUENCY
, 
MIX_DEFAULT_FORMAT
, 2, 4096);

233 
g_music
 = 
NULL
;

235 
g_snSur
 = 
	`SDL_SVideoMode
(
SCREEN_WIDTH
, 
SCREEN_HEIGHT
, 32, 
SDL_SWSURFACE
 | 
g_fuSn
 ? 
SDL_FULLSCREEN
 : 0);

237 i(
g_snSur
 =
NULL
) {

239 
	`tf
("C'%dx%d videmod: %s\n", 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
, 
	`SDL_GE
());

240 
	`SDL_Qu
();

241 
	`ex
(1);

244 
	`SDL_WM_SCti
("All Heros in Kam Yung's Stories - Replicated Edition - Pascal2C", "Pascal: s.weyl");

246 
	`SDL_EbKeyRt
(
KEY_REPEAT
, KEY_REPEAT);

248 
	`S
();

250 
	`Qu
();

253 
	}
}

256 
	$Qu
()

258 i(
g_sound

	`Mix_FeChunk
(g_sound);

259 i(
g_music

	`Mix_FeMusic
(g_music);

261 
	`TTF_CloFt
(
g_HFt
);

262 
	`TTF_CloFt
(
g_EngFt
);

264 
	`TTF_Qu
();

265 
	`SDL_Qu
();

267 
	`icv_o
(
g_utf8ToBig5
);

268 
	`icv_o
(
g_big5ToUtf8
);

270 
	`ex
(0);

271 
	}
}

274 
	$PyXMI
(
dex
, 
times
)

276 
r
[
PATH_MAX
];

277 
	`rtf
(
r
, "game%02d.xmi", 
dex
);

279 i(
g_music

	`Mix_FeMusic
(g_music);

280 
g_music
 = 
	`Mix_LdMUS
(
r
);

281 
	`Mix_VumeMusic
(
MIX_MAX_VOLUME
 / 3);

282 
	`Mix_PyMusic
(
g_music
, 
times
);

283 
	}
}

286 
PyMP3
(
fame
: 
pch
; 
times
 = 0); 
	$ovld
()

288 i(
	`fxis
(
fame
))

290 
g_music
 = 
	`Mix_LdMUS
(
fame
);

291 
	`Mix_vumemusic
(
MIX_MAX_VOLUME
 / 3);

292 
	`Mix_PyMusic
(
g_music
, 
times
);

294 
	}
}

298 
	$StXMI
()

300 i(
g_music
)

302 
	`Mix_HtMusic
();

303 
	`Mix_FeMusic
(
g_music
);

304 
g_music
 = 
NULL
;

308 
	}
}

311 
	$PyWAV
(
dex
, 
times
)

313 
r
[
PATH_MAX
];

315 
	`rtf
(
r
, "e%02d.wav", 
dex
);

317 i(
g_sound

	`Mix_FeChunk
(g_sound);

318 
g_sound
 = 
	`Mix_LdWAV
(
r
);

319 
	`Mix_PyChl
(-1, 
g_sound
, 
times
);

320 
	}
}

323 
PySound
(
SoundNum
 = 0); 
	$ovld
()

324 
v


325 
i
 = 0;

326 
r
: 
rg
;

328 
r
 = "g_sound/e" + 
	`fm
("%2d", [
soundnum
]) + ".wav";

329 
i
 = 1 
to
 
	`ngth
(
r
) do

330 i(
r
[
i
] == " ") str[i] = "0";

331 i(
	`fxis
(
	`pch
(
r
)))

333 
g_sound
 = 
	`Mix_LdWav
(
	`pch
(
r
));

334 
	`Mix_PyChl
(-1, 
g_sound
, 0);

336 
	}
}

339 
	$PyWAVFe
(* 
fame
, 
times
)

341 i(
fame
) {

342 
g_sound
 = 
	`Mix_LdWAV
(
fame
);

343 
	`Mix_PyChl
(-1, 
g_sound
, 
times
);

345 
	}
}

348 
	$LdGame
(

)

350 
gName
[
PATH_MAX
];

352 
g_veSl
 = 

;

354 i(

) {

355 
	`rtf
(
gName
, "r%d.g", 

);

357 
	`ry
(
gName
, "ranger.grp");

360 
	`LdFe
(
gName
, &
g_reDa
, (
T_ReDa
));

363 
	`memt
(
g_s
, 0xff, (g_entrances));

364 
i
;

365 
i
 = 0; i < 
SCENCE_NUM
; i++) {

366 
g_s
[
g_reDa
.
sns
[
i
].
mEn1X
][g_reDa.sns[i].
mEn1Y
] = i;

367 
g_s
[
g_reDa
.
sns
[
i
].
mEn2X
][g_reDa.sns[i].
mEn2Y
] = i;

370 i(

) {

371 
gName
[0] = 's';

373 
	`ry
(
gName
, "allsin.grp");

376 
	`LdFe
(
gName
, 
g_snDa
, (g_scenceData));

378 i(

) {

379 
gName
[0] = 'd';

381 
	`ry
(
gName
, "alldef.grp");

384 
	`LdFe
(
gName
, 
g_snEvtDa
, (g_scenceEventData));

385 
	}
}

388 
	$SaveGame
(

)

390 
gName
[
PATH_MAX
];

391 
FILE
* 
g
 = 0;

393 
g_veSl
 = 

;

395 i(

) {

396 
	`rtf
(
gName
, "r%d.g", 

);

398 
	`ry
(
gName
, "ranger.grp");

401 i((
g
 = 
	`fݒ
(
gName
, "w"))) {

402 
	`fwre
(&
g_reDa
, (
T_ReDa
), 1, 
g
);

403 
	`fo
(
g
);

405 
	`tf
("OR fed, sl = %d\n", 

);

409 i(

) {

410 
gName
[0] = 'S';

412 
	`ry
(
gName
, "allsin.grp");

415 i((
g
 = 
	`fݒ
(
gName
, "w"))) {

416 
	`fwre
(
g_snDa
, (g_snDa), 1, 
g
);

417 
	`fo
(
g
);

419 
	`tf
("OS fed, sl = %d\n", 

);

423 i(

) {

424 
gName
[0] = 'D';

426 
	`ry
(
gName
, "alldef.grp");

429 i((
g
 = 
	`fݒ
(
gName
, "w"))) {

430 
	`fwre
(
g_snEvtDa
, (g_snEvtDa), 1, 
g
);

431 
	`fo
(
g
);

433 
	`tf
("OD fed, sl = %d\n", 

);

436 
	}
}

438 
	$PlKey
()

440 
key
 = 0;

442 
SDL_Evt
 
evt
;

443 i(
	`SDL_PlEvt
(&
evt
)) {

444 
evt
.
ty
) {

445 
SDL_QUIT
:

446 
	`Qu
();

448 
SDL_KEYDOWN
:

449 i(
evt
.
key
.
keysym
.
sym
) {

450 
key
 = 
evt
.key.
keysym
.
sym
;

453 
SDL_KEYUP
:

454 
key
 = -1;

461  
key
;

462 
	}
}

465 
	$WaKey
()

467 
key
 = 0;

469 
SDL_Evt
 
evt
;

470 
	`SDL_WaEvt
(&
evt
)) {

471 i(
evt
.
ty
 =
SDL_QUIT
) {

472 
	`Qu
();

473 } i(
evt
.
ty
 =
SDL_KEYDOWN
) {

474 i(
evt
.
key
.
keysym
.
sym
) {

475 
key
 = 
evt
.key.
keysym
.
sym
;

478 } i(
evt
.
ty
 =
SDL_KEYUP
) {

479 
key
 = -1;

483  
key
;

484 
	}
}

486 
SDL_C
 
	$GSDLC
(
ut8
 
c
)

488 
ut32
 
rgba
 = 
	`COLOR
(
c
);

489 
SDL_C
 
sdlC
 = {

490 .
r
 = (
rgba
 & 0xff000000) >> 24,

491 .
g
 = (
rgba
 & 0x00ff0000) >> 16,

492 .
b
 = (
rgba
 & 0x0000ff00) >> 8

495  
sdlC
;

496 
	}
}

498 
ut32
 
	$GRGBAPix
(
ut8
 
c
, ut8 
pha
, 
highlight
)

500 
ut32
 
pix
 = 0;

502 
pix
 = (((
g_ˉe
[
c
].
r
 << 2+ (g_ˉe[c].>> 4- 
highlight
) << 24)

503 + (((
g_ˉe
[
c
].
g
 << 2+ (g_ˉe[c].g >> 4- 
highlight
) << 16)

504 + (((
g_ˉe
[
c
].
b
 << 2+ (g_ˉe[c].b >> 4- 
highlight
) << 8)

505 + 
pha
;

507  
pix
;

508 
	}
}

510 
ut32
 
	$GPPix
(
SDL_PixFm
* 
fm
, 
ut8
 
c
, ut8 
pha
, 
highlight
)

512 
ut32
 
pix
 = 0;

514 i(
fm
) {

515 
pix
 = 
	`SDL_MRGBA
(
fm
,

516 (
g_ˉe
[
c
].
r
 << 2+ (g_ˉe[c].>> 4- 
highlight
,

517 (
g_ˉe
[
c
].
g
 << 2+ (g_ˉe[c].g >> 4- 
highlight
,

518 (
g_ˉe
[
c
].
b
 << 2+ (g_ˉe[c].b >> 4- 
highlight
,

519 
pha
);

522  
pix
;

523 
	}
}

527 
	$DwBMP
(
SDL_Sur
* 
sur
, * 
fame
, 
x
, 
y
)

529 
SDL_Sur
* 
image
;

530 
SDL_Re
 
de
 = {

531 .
x
 = x,

532 .
y
 = y,

533 .
w
 = 
SCREEN_WIDTH
,

534 .
h
 = 
SCREEN_HEIGHT


537 i((
image
 = 
	`SDL_LdBMP
(
fame
))) {

538 
	`SDL_BlSur
(
image
, 
NULL
, 
sur
, &
de
);

540 
	`SDL_FeSur
(
image
);

542 
	`tf
("C'ld %: %s", 
fe_me
, 
	`SDL_GE
());

544 
	}
}

547 
	$PutPix
(
SDL_Sur
* 
sur
, 
x
, 
y
, 
ut32
 
pix
)

549 i(
sur
 && 
x
 >0 && x < sur->
w
 && 
y
 >0 && y < sur->
h
) {

550 
by
* 
pixs
 = 
sur
->pixels;

551 *(
ut32
*)(
pixs
 + 
y
 * 
sur
->
pch
 + 
x
 * sur->
fm
->
BysPPix

pix
;

553 
	}
}

556 
	$DwRLE8Pic
(
SDL_Sur
* 
sur
, 
dex
, 
x
, 
y
, 
ut32
* 
idxBufr
, 
by
* 
picBufr
, 
highlight
)

558 
T_PicRe
* 
picRe
 = 
NULL
;

559 
by
* 
xtPicBufr
 = 
NULL
;

561 i(
dex
) {

562 
picBufr
 +*(
idxBufr
 + 
dex
 - 1);

565 
picRe
 = (
T_PicRe
*)
picBufr
;

566 
picBufr
 +(
T_PicRe
);

567 
xtPicBufr
 = 
picBufr
 + *(
idxBufr
 + 
dex
);

569 i(
sur
) {

572 
px
 = 0;

573 
py
 = 0;

574 
py
 = 0;y < 
picRe
->
h
;y++) {

575 i(
picBufr
 < 
xtPicBufr
) {

576 
by
* 
xtLe
 = 
picBufr
 + *picBuffer + 1;

577 
picBufr
++;

579 
px
 = 0;

580 
picBufr
 < 
xtLe
) {

581 
px
 +*(
picBufr
++);

583 
by
* 
xt
 = 
picBufr
 + *picBuffer + 1;

584 
picBufr
++;

585 ; 
picBufr
 < 
xt
;icBuffer++) {

586 
	`PutPix
(
sur
, 
x
 + 
px
++ - 
picRe
->
dx
, 
y
 + 
py
 -icRe->
dy
, 
	`GPPix
(sur->
fm
, *
picBufr
, 255, 
highlight
));

594 
	}
}

596 
	$DwBigPicOnSn
(
dex
, 
by
* 
bufr
)

598 
SDL_Sur
* 
sur
 = 
NULL
;

599 
px
;

600 
py
;

602 i(
bufr
) {

603 i((
sur
 = 
	`SDL_CeRGBSur
(
SDL_HWSURFACE
, 
BIG_PIC_WIDTH
, 
BIG_PIC_HEIGHT
,

607 
bufr
 +
dex
 * 
BIG_PIC_SIZE
;

608 
py
 = 0;y < 
BIG_PIC_HEIGHT
;y++) {

609 
px
 = 0;x < 
BIG_PIC_WIDTH
;x++) {

610 
	`PutPix
(
sur
, 
px
, 
py
, 
	`GPPix
(sur->
fm
, *(
bufr
++), 255, 0));

616 
zoom
 = ()
SCREEN_WIDTH
 / 
BIG_PIC_WIDTH
;

617 
h
 = 
BIG_PIC_HEIGHT
 * 
zoom
;

618 
y
 = (
SCREEN_HEIGHT
 - 
h
) / 2;

621 
SDL_Sur
* 
zoomedSur
 = 
NULL
;

622 i((
zoomedSur
 = 
	`zoomSur
(
sur
, 
zoom
, zoom, 
TRUE
))) {

623 
	`SDL_BlSur
(
zoomedSur
, 
NULL
, 
g_snSur
, &(
SDL_Re
){0, 
y
, 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
});

624 
	`SDL_FeSur
(
zoomedSur
);

627 
	`SDL_FeSur
(
sur
);

630 
	}
}

632 
	$DwPic
(
SDL_Sur
* 
deSur
, 
dex
, 
x
, 
y
, 
ut32
* 
idxBufr
, 
by
* 
picBufr
, 
highlight
)

634 i(
deSur
) {

635 
	`DwRLE8Pic
(
deSur
, 
dex
, 
x
, 
y
, 
idxBufr
, 
picBufr
, 
highlight
);

637 
	}
}

640 
T_Posi
 
	$GSnBufrXYPos
(
sx
, 
sy
)

642 
T_Posi
 
pos
 = {.
x
 = 0, .
y
 = 0};

643 
pos
.
x
 = -
sx
 * 
CELL_WIDTH
 / 2 + 
sy
 * CELL_WIDTH / 2 + 
SCENCE_PIC_WIDTH
 / 2;

644 
pos
.
y
 = 
sx
 * 
CELL_HEIGHT
 / 2 + 
sy
 * CELL_HEIGHT / 2 + CELL_HEIGHT / 2;

646  
pos
;

647 
	}
}

650 
T_Posi
 
	$GSnPosInSn
(
sx
, 
sy
)

652 
T_Posi
 
pos
 = {.
x
 = 0, .
y
 = 0};

653 
pos
.
x
 = -
sx
 * 
CELL_WIDTH
 / 2 + 
sy
 * CELL_WIDTH / 2 + 
SCENCE_PIC_WIDTH
 / 2 - 
SCREEN_CENTER_X
;

654 
pos
.
y
 = 
sx
 * 
CELL_HEIGHT
 / 2 + 
sy
 * CELL_HEIGHT / 2 + CELL_HEIGHT / 2 - 
SCREEN_CENTER_Y
;

656  
pos
;

657 
	}
}

660 
T_Posi
 
	$GMSnXYPos
(
mx
, 
my
, 
cmx
, 
cmy
)

662 
T_Posi
 
pos
 = {.
x
 = 0, .
y
 = 0};

663 
pos
.
x
 = -(
mx
 - 
cmx
* 
CELL_WIDTH
 / 2 + (
my
 - 
cmy
* CELL_WIDTH / 2 + 
SCREEN_CENTER_X
;

664 
pos
.
y
 = (
mx
 - 
cmx
* 
CELL_HEIGHT
 / 2 + (
my
 - 
cmy
* CELL_HEIGHT / 2 + 
SCREEN_CENTER_Y
;

666  
pos
;

667 
	}
}

670 
	$DwTPic
(
dex
, 
x
, 
y
)

672 
ut32
* 
idxBufr
 = 
NULL
;

673 
by
* 
gBufr
 = 
NULL
;

675 
idxBufr
 = 
	`LdFe
("t.idx", 
NULL
, 0);

676 
gBufr
 = 
	`LdFe
("t.g", 
NULL
, 0);

678 i(
idxBufr
 && 
gBufr
) {

679 
	`DwPicOnSn
(
dex
, 
x
, 
y
, 
idxBufr
, 
gBufr
, 0);

680 
	`UpdeSn
(0);

682 
	`
(
idxBufr
);

683 
	`
(
gBufr
);

685 
	}
}

688 
bo
 
	$PicInAa
(
x
, 
y
, 
T_PicRe
 
picRe
, 
T_Re
 
deRe
)

690 i(
x
 + 
picRe
.
w
 +icRe.
dx
 >= 0

691 && 
x
 + 
picRe
.
dx
 < 
deRe
.
w


692 && 
y
 + 
picRe
.
dy
 + 
deRe
.
h
 >= 0

693 && 
y
 + 
picRe
.
dy
 < 
deRe
.
h
) {

694  
TRUE
;

696  
FALSE
;

698 
	}
}

702 
	$DwMPic
(
dex
, 
x
, 
y
)

704 
	`DwPicOnSn
(
dex
, 
x
, 
y
, 
g_mIdxBuff
, 
g_mPicBuff
, 0);

705 
	}
}

708 
	$DwFaPic
(
dex
, 
x
, 
y
)

710 
	`DwPicOnSn
(
dex
, 
x
, 
y
, 
g_IdxBuff
, 
g_PicBuff
, 0);

711 
	}
}

714 
	$DwBFPic
(
dex
, 
x
, 
y
, 
highlight
)

716 
	`DwPicOnSn
(
dex
, 
x
, 
y
, 
g_bfIdxBuff
, 
g_bfPicBuff
, 
highlight
);

717 
	}
}

722 
	$DwBFPicInRe
(
num
, 
px
, 
py
, 
highlight
, 
x
, 
y
, 
w
, 
h
 = 0)()

723 
v


724 
Aa
: 
TRe
;

726 
Aa
.
x
 = x;

727 
Aa
.
y
 = y;

728 
Aa
.
w
 = w;

729 
Aa
.
h
 = h;

730 
	`DwPic
(
num
, 
px
, 
py
, @
g_bfIdxBuff
[0], @
g_bfPicBuff
[0], 
Aa
, 
NULL
, 
highlight
);

732 
	}
}

736 
	$DwPicToBFPic
(
dex
, 
x
, 
y
)

738 
	`DwPic
(
g_bfSur
, 
dex
, 
x
, 
y
, 
g_bfIdxBuff
, 
g_bfPicBuff
, 0);

739 
	}
}

742 
	$DwEf
(
dex
, 
x
, 
y
)

744 
	`DwPicOnSn
(
dex
, 
x
, 
y
, 
g_effIdxBuff
, 
g_efBuff
, 0);

745 
	}
}

748 
	$DwAi
(
dex
, 
x
, 
y
)

750 
	`DwPicOnSn
(
dex
, 
x
, 
y
, 
g_aIdxBuff
, 
g_aiBuff
, 0);

751 
	}
}

754 
T_Posi
 
	$DwText
(* 
r
, 
x
, 
y
, 
ut8
 
c
)

756 
T_Posi
 
pos
;

758 
SDL_Sur
* 
xt
 = 
	`TTF_RdUTF8_Bnded
(
g_HFt
, 
r
, 
	`GSDLC
(
c
));

759 i(
xt
) {

760 
pos
.
x
 = x + 
xt
->
w
;

761 
pos
.
y
 = y + 
xt
->
h
;

763 
	`SDL_BlSur
(
xt
, 
NULL
, 
g_snSur
, &(
SDL_Re
){
x
, 
y
,ext->
w
,ext->
h
});

765 
	`SDL_FeSur
(
xt
);

768  
pos
;

769 
	}
}

773 
T_Posi
 
	$DwAhnumText
(* 
r
, 
x
, 
y
, 
ut8
 
c
)

775 
T_Posi
 
pos
;

777 
SDL_Sur
* 
xt
 = 
	`TTF_RdText_Bnded
(
g_EngFt
, 
r
, 
	`GSDLC
(
c
));

778 i(
xt
) {

779 
pos
.
x
 = x + 
xt
->
w
;

780 
pos
.
y
 = y + 
xt
->
h
;

782 
	`SDL_BlSur
(
xt
, 
NULL
, 
g_snSur
, &(
SDL_Re
){
x
, 
y
,ext->
w
,ext->
h
});

784 
	`SDL_FeSur
(
xt
);

787  
pos
;

788 
	}
}

792 
T_Posi
 
	$DwShadowText
(* 
r
, 
x
, 
y
, 
ut8
 
c
)

794 
T_Posi
 
pos
;

796 i(
c
 >= 2) {

797 
	`DwText
(
r
, 
x
 + 1, 
y
, 
c
 - 2);

800 
pos
 = 
	`DwText
(
r
, 
x
, 
y
, 
c
);

802  
pos
;

803 
	}
}

808 
DwEngShadowText
(
wd
: 
PUt16
; 
x_pos
 = 0;

809 
y_pos
 = 0; 
c1
, 
c2
: 
Ut32
)()

811 
DwAhnumText
(
wd
, 
x_pos
 + 1, 
y_pos
, 
c2
);

812 
DwAhnumText
(
wd
, 
x_pos
, 
y_pos
, 
c1
);

818 
	$DwFmeText
(* 
r
, 
ut8
 
txtC
, ut8 
mC
)

820 
ut8
 
shdC
 = 
txtC
 >= 2 ?xtColor -2 : 0xff;

821 
SDL_Sur
* 
shadow
 = 
	`TTF_RdUTF8_Bnded
(
g_HFt
, 
r
, 
	`GSDLC
(
shdC
));

822 
SDL_Sur
* 
xt
 = 
	`TTF_RdUTF8_Bnded
(
g_HFt
, 
r
, 
	`GSDLC
(
txtC
));

823 i(
shadow
 && 
xt
) {

824 
x
 = 
SCREEN_CENTER_X
 - (
xt
->
w
 + 
FRAME_TEXT_PADDING
 * 2 + 1) /2;

825 
y
 = 
SCREEN_CENTER_Y
 - (
xt
->
h
 + 
FRAME_TEXT_PADDING
 * 2) /2;

827 
	`DwFmeReg
(
x
, 
y
, 
xt
->
w
 + 
FRAME_TEXT_PADDING
 * 2 + 1,ext->
h
 + FRAME_TEXT_PADDING * 2, 
mC
, 0, 
FRAME_TEXT_ALPHA
);

830 
	`SDL_BlSur
(
shadow
, 
NULL
, 
g_snSur
, &(
SDL_Re
){
x
 + 
FRAME_TEXT_PADDING
 + 1, 
y
 + FRAME_TEXT_PADDING, g_snSur->
w
, g_snSur->
h
});

831 
	`SDL_BlSur
(
xt
, 
NULL
, 
g_snSur
, &(
SDL_Re
){
x
 + 
FRAME_TEXT_PADDING
, 
y
 + FRAME_TEXT_PADDING, g_snSur->
w
, g_snSur->
h
});

833 
	`SDL_FeSur
(
shadow
);

834 
	`SDL_FeSur
(
xt
);

836 
	}
}

839 
T_Posi
 
	$DwBig5Text
(* 
big5
, 
x
, 
y
, 
ut8
 
c
)

841 
T_Posi
 
pos
;

843 i(
big5
) {

844 
pos
 = 
	`DwText
(
	`Utf8ToBig5
(
big5
), 
x
, 
y
, 
c
);

847  
pos
;

848 
	}
}

851 * 
	$Utf8ToBig5
(* 
utf8
)

853 
big5
[
TEXT_BIG5_LEN
];

854 
	`memt
(
big5
, 0, 
TEXT_BIG5_LEN
);

856 i(
utf8
) {

857 
size_t
 
utf8L
 = 
	`
(
utf8
);

858 
size_t
 
big5L
 = 
TEXT_BIG5_LEN
;

860 * 

 = 
utf8
;

861 * 
out
 = 
big5
;

862 
	`icv
(
g_utf8ToBig5
, &

, &
utf8L
, &
out
, &
big5L
);

865  
utf8
;

866 
	}
}

869 * 
	$Big5ToUtf8
(* 
big5
)

871 
utf8
[
TEXT_UTF8_LEN
];

872 
	`memt
(
utf8
, 0, 
TEXT_UTF8_LEN
);

874 i(
big5
) {

875 
size_t
 
big5L
 = 
	`
(
big5
);

876 
size_t
 
utf8L
 = 
TEXT_UTF8_LEN
;

878 * 

 = 
big5
;

879 * 
out
 = 
utf8
;

880 
	`icv
(
g_big5ToUtf8
, &

, &
big5L
, &
out
, &
utf8L
);

883  
utf8
;

884 
	}
}

887 
T_Posi
 
	$DwBig5ShadowText
(* 
big5
, 
x
, 
y
, 
ut8
 
c
)

889 
T_Posi
 
pos
;

891 i(
big5
) {

892 * 
utf8
 = 
	`Utf8ToBig5
(
big5
);

893 i(
c
 >= 2) {

894 
	`DwText
(
utf8
, 
x
 + 1, 
y
, 
c
 - 2);

896 
pos
 = 
	`DwText
(
utf8
, 
x
, 
y
, 
c
);

899  
pos
;

900 
	}
}

903 
	$DwFmeReg
(
x
, 
y
, 
w
, 
h
, 
ut8
 
mC
, ut8 
sC
, ut8 
pha
)

906 
st16
 
vx
[
RECTANGLE_N
] = {
x
 + 
RECTANGLE_D
, x + 
w
 - RECTANGLE_D, x + w, x + w, x + w - RECTANGLE_D, x + RECTANGLE_D, x, x};

907 
st16
 
vy
[
RECTANGLE_N
] = {
y
, y, y + 
RECTANGLE_D
, y + 
h
 - RECTANGLE_D, y + h, y + h, y + h - RECTANGLE_D, y + RECTANGLE_D};

909 
	`fdPygC
(
g_snSur
, 
vx
, 
vy
, 
RECTANGLE_N
, 
	`COLORA
(
sC
, 
pha
));

910 
	`pygC
(
g_snSur
, 
vx
, 
vy
, 
RECTANGLE_N
, 
	`COLOR
(
mC
));

912 
	}
}

914 
	$DwMWhoutUpde
()

916 
i1
 = 0;

917 
i2
 = 0;

918 
i
 = 0;

919 
sum
 = 0;

920 
x
 = 0;

921 
y
 = 0;

922 
st16
 
mp
[
MAP_WIDTH
][
MAP_HEIGHT
];

923 
T_Posi
 
pos
;

926 
sum
 = -29; sum < 41; sum++) {

927 
i
 = -15; i < 16; i++) {

928 
i1
 = 
g_mx
 + 
i
 + (
sum
 / 2);

929 
i2
 = 
g_my
 - 
i
 + (
sum
 - sum / 2);

930 
pos
 = 
	`GMSnXYPos
(
i1
, 
i2
, 
g_mx
, 
g_my
);

931 i((
i1
 >0&& (i1 < 480&& (
i2
 >= 0) && (i2 < 480))

933 i((
sum
 >-27&& (sum <28&& (
i
 >= -9) && (i <= 9))

935 
	`DwMPic
(
g_m
[
i1
][
i2
] / 2, 
pos
.
x
,os.
y
);

936 i(
g_sur
[
i1
][
i2
] > 0)

937 
	`DwMPic
(
g_sur
[
i1
][
i2
] / 2, 
pos
.
x
,os.
y
);

939 
mp
[
i1
][
i2
] = 
g_budg
[i1][i2];

941 
	`DwMPic
(0, 
pos
.
x
,os.
y
);

947 
sum
 = -29 
to
 40 do

948 
i
 = -15 
to
 15 do

950 
i1
 = 
g_mx
 + 
i
 + (
sum
 / 2);

951 
i2
 = 
g_my
 - 
i
 + (
sum
 - sum / 2);

952 i((
i1
 >0&& (i1 < 480&& (
i2
 >= 0) && (i2 < 480))

954 
x
 = 
g_budgY
[
i1
, 
i2
];

955 
y
 = 
g_budgX
[
i1
, 
i2
];

956 
Pos
 = 
	`GMSnXYPos
(
x
, 
y
, 
g_mx
, 
g_my
);

957 i(
g_budgX
[
i1
, 
i2
] > 0) && (((g_buildingX[i1 - 1, i2 - 1] <> g_buildingX[i1, i2]) && (g_buildingX[i1 + 1, i2 + 1] <> g_buildingX[i1, i2]))

958 || ((
g_budgY
[
i1
 - 1, 
i2
 - 1] <> g_budgY[i1, i2]&& (g_budgY[i1 + 1, i2 + 1] <> g_budgY[i1, i2]))
th


961 i(
mp
[
x
, 
y
] > 0)

963 
	`DwMPic
(
g_budg
[
x
, 
y
] / 2, 
pos
.x,os.y);

964 
mp
[
x
, 
y
] = 0;

969 i((
i1
 =
g_mx
&& (
i2
 =
g_my
))

970 i((
g_sh
 == 0))

971 i(
g_
 == 0)

972 
	`DwMPic
(
WALK_PIC_OFFSET
 + 
g_mFa
 * 
WALK_PIC_NUM
 + 
g_mSp
, 
SCREEN_CENTER_X
, 
SCREEN_CENTER_Y
)

974 
	`DwMPic
(2528 + 
g_mFa
 * 6 + 
g_mSp
, 
SCREEN_CENTER_X
, 
SCREEN_CENTER_Y
)

976 
	`DwMPic
(3714 + 
g_mFa
 * 4 + (
g_mSp
 + 1/ 2, 
SCREEN_CENTER_X
, 
SCREEN_CENTER_Y
);

977 i((
mp
[
i1
, 
i2
] > 0&& (
g_budgX
[i1, i2] == i2))

979 
	`DwMPic
(
g_budg
[
i1
, 
i2
] / 2, 
pos
.
x
,os.
y
);

980 
mp
[
i1
, 
i2
] = 0;

988 
	}
}

991 
	$DwM
()

993 
	`DwMWhoutUpde
();

994 
	`UpdeSn
();

995 
	}
}

998 
bo
 
	$GoThrough
(
mx
, 
my
)

1000 
bo
 
goThrough
 = 
FALSE
;

1002 i(
mx
 >0 && mx < 
MAP_WIDTH
 && 
my
 >0 && my < 
MAP_HEIGHT
) {

1003 
goThrough
 &
g_budgX
[
mx
][
my
] == 0;

1004 
goThrough
 &
g_m
[
mx
][
my
] != 838;

1005 
goThrough
 &
g_m
[
mx
][
my
] < 621 || g_map[mx][my] > 670;

1008 
g_sh
 = 
g_m
[
mx
][
my
] < 358 || g_map[mx][my] > 362;

1009 
g_sh
 &
g_m
[
mx
][
my
] < 506 || g_map[mx][my] > 670;

1010 
g_sh
 &
g_m
[
mx
][
my
] < 1016 || g_map[mx][my] > 1022;

1012 
	`tf
("GoThrough: %d\n", 
goThrough
);

1013  
goThrough
;

1014 
	}
}

1017 
bo
 
	$GoThroughSn
(
sx
, 
sy
)

1019 
bo
 
goThroughSn
 = 
FALSE
;

1021 i(
sx
 >0 && sx < 
SCENCE_WIDTH
 && 
sy
 >0 && sy < 
SCENCE_HEIGHT
) {

1022 
goThroughSn
 = 
g_curSnDa
[
EmSnLayBudg
][
sx
][
sy
] == 0;

1023 
goThroughSn
 &
g_curSnDa
[
EmSnLayEvt
][
sx
][
sy
] < 0

1024 || !
	`CurSnXYEvtDa
(
sx
, 
sy
).
block
;

1026 
goThroughSn
 &
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
]

1027 < 358 || 
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
] > 362;

1028 
goThroughSn
 &
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
]

1029 < 522 || 
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
] > 1022;

1030 
goThroughSn
 &
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
]

1031 < 1324 || 
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
] > 1330;

1032 
goThroughSn
 &
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
] != 1348;

1035  
goThroughSn
;

1036 
	}
}

1039 
	$DwBFldOnSn
(
x
, 
y
)

1041 
maxW
 = 
g_snSur
->
w
 - 
x
;

1042 
maxH
 = 
g_snSur
->
h
 - 
y
;

1043 
SDL_Re
 

 = {

1044 
x
 = x, .
y
 = y,

1045 .
w
 = 
SCREEN_WIDTH
 < 
maxW
 ? SCREEN_WIDTH : maxW,

1046 .
h
 = 
SCREEN_HEIGHT
 < 
maxH
 ? SCREEN_HEIGHT : maxH

1049 
	`SDL_BlSur
(
g_bfSur
, &

, 
g_snSur
, &(
SDL_Re
){0, 0, 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
});

1050 
	}
}

1053 
	$DwSnPic
(
dex
, 
x
, 
y
)

1055 
	`DwPicOnSn
(
dex
, 
x
, 
y
, 
g_snIdxBuff
, 
g_snPicBuff
, 0);

1056 
	}
}

1060 
	$InlSnLay
(
dex
, 
x
, 
y
)

1062 
	`DwPic
(
g_snSur
, 
dex
, 
x
, 
y
, 
g_snIdxBuff
, 
g_snPicBuff
, 0);

1063 
	}
}

1066 
	$InlSn
()

1068 
sx
;

1069 
sy
;

1070 
sy
 = 0; sy < 
SCENCE_WIDTH
; sy++) {

1071 
sx
 = 0; sx < 
SCENCE_WIDTH
; sx++) {

1072 
T_Posi
 
pos
 = 
	`GSnBufrXYPos
(
sx
, 
sy
);

1073 
T_Posi
 
pos
 = 
	`GSnPosInSn
(
sx
, 
sy
);

1075 
	`InlSnLay
(
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
] / 2, 
pos
.
x
,os.
y
);

1077 i(
g_curSnDa
[
EmSnLayBudg
][
sx
][
sy
] > 0) {

1078 
	`InlSnLay
(
g_curSnDa
[
EmSnLayBudg
][
sx
][
sy
] / 2,

1079 
pos
.
x
,os.
y
 - 
g_curSnDa
[
EmSnLayBudgOfft
][
sx
][
sy
]);

1082 i(
g_curSnDa
[
EmSnLaySky
][
sx
][
sy
] > 0) {

1083 
	`InlSnLay
(
g_curSnDa
[
EmSnLaySky
][
sx
][
sy
] / 2,

1084 
pos
.
x
,os.
y
 - 
g_curSnDa
[
EmSnLaySkyOfft
][
sx
][
sy
]);

1087 i(
g_curSnDa
[
EmSnLayEvt
][
sx
][
sy
] >0 && 
	`CurSnXYEvtDa
(sx, 
xy
).
pic1
 > 0) {

1088 
	`InlSnLay
(
	`CurSnXYEvtDa
(
sx
, 
xy
).
pic1
 / 2,

1089 
pos
.
x
,os.
y
 - 
g_curSnDa
[
EmSnLayBudgOfft
][
sx
][
sy
]);

1093 
	}
}

1096 
	$DwSnWhoutRe
(
sx
, 
sy
)

1098 
T_Posi
 
pos
 = 
	`GSnPosInSn
(
sx
, 
sy
);

1099 
maxW
 = 
g_snSur
->
w
 - 
pos
.
x
;

1100 
maxH
 = 
g_snSur
->
h
 - 
pos
.
y
;

1101 
SDL_Re
 

 = {

1102 .
x
 = 
pos
.x, .
y
 =os.y,

1103 .
w
 = 
SCREEN_WIDTH
 < 
maxW
 ? SCREEN_WIDTH : maxW,

1104 .
h
 = 
SCREEN_HEIGHT
 < 
maxH
 ? SCREEN_HEIGHT : maxH

1107 
	`SDL_BlSur
(
g_snSur
, &

, 
g_snSur
, &(
SDL_Re
){0, 0, 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
});

1108 
	}
}

1111 
	$DwReOnSn
(
x
, 
y
)

1113 
sx
 = 0;

1114 
sy
 = 0;

1116 
T_Posi
 
pos
 = 
	`GMSnXYPos
(
g_sx
, 
g_sy
, 
x
, 
y
);

1117 
	`DwSnPic
(
WALK_PIC_OFFSET
 + 
g_sFa
 * (
WALK_PIC_NUM
+ 
g_sSp
, 
pos
.
x
,os.
y
 - 
g_curSnDa
[
EmSnLayEvt
][
g_sx
][
g_sy
]);

1119 
sy
 = 
g_sy
 + 1; sy < 
SCENCE_HEIGHT
; sy++) {

1120 
sx
 = 
g_sx
 + 1; sx < 
SCENCE_WIDTH
; sx++) {

1121 
T_Posi
 
pos1
 = 
	`GMSnXYPos
(
sx
, 
sy
, 
x
, 
y
);

1122 i(
pos
.
x
 < 
SCREEN_WIDTH
 ||os.
y
 < 
SCREEN_HEIGHT
) {

1123 
	`DwSnPic
(
g_curSnDa
[
EmSnLayGround
][
sx
][
sy
] / 2, 
pos1
.
x
,os1.
y
);

1125 i(
g_curSnDa
[
EmSnLayBudg
][
sx
][
sy
] > 0 && (sy > 
g_sy
 || sx > 
g_sx
)) {

1126 
	`DwSnPic
(
g_curSnDa
[
EmSnLayBudg
][
sx
][
sy
] / 2, 
pos1
.
x
,os1.
y
 - g_curSnDa[
EmSnLayBudgOfft
][sx][sy]);

1129 i(
g_curSnDa
[
EmSnLaySky
][
sx
][
sy
] > 0 && (sy > 
g_sy
 || sx > 
g_sx
)) {

1130 
	`DwSnPic
(
g_curSnDa
[
EmSnLaySky
][
sx
][
sy
] / 2, 
pos1
.
x
,os1.
y
 - g_curSnDa[
EmSnLaySkyOfft
][sx][sy]);

1133 i(
g_curSnDa
[
EmSnLayEvt
][
sx
][
sy
] >0 && (sy > 
g_sy
 || sx > 
g_sx
&& 
	`CurSnXYEvtDa
(sx, 
xy
).
pic1
 > 0) {

1134 
	`DwSnPic
(
	`CurSnXYEvtDa
(
sx
, 
xy
).
pic1
 / 2, 
pos1
.
x
,os1.
y
 - 
g_curSnDa
[
EmSnLaySky
][sx][
sy
]);

1139 
	}
}

1141 
	$DwSnWhoutUpde
()

1145 i(
g_curEvt
 =
EVENT_NOTHING
) {

1146 
	`DwSnWhoutRe
(
g_sx
, 
g_sy
);

1147 
	`DwReOnSn
(
g_sx
, 
g_sy
);

1149 
	`DwSnWhoutRe
(
g_ex
, 
g_ey
);

1150 i(
g_curEvtDa
.
x
 =
g_sx
 && g_curEvtDa.
y
 =
g_sy
) {

1151 i(
g_curEvtDa
.
pic1
 <= 0) {

1152 
	`DwReOnSn
(
g_ex
, 
g_ey
);

1155 
	`DwReOnSn
(
g_ex
, 
g_ey
);

1158 
	}
}

1161 
	$DwSn
()

1163 
	`DwSnWhoutUpde
();

1164 
	`UpdeSn
();

1165 
	}
}

1169 
	$DwBFldWhoutRe
(
x
, 
y
 = 0)()

1170 
v


1171 
i1
 = 0;

1172 
i2
 = 0;

1173 
xpot
 = 0;

1174 
ypot
 = 0;

1176 i((
	`SDL_MuLock
(
g_snSur
)))

1178 i((
	`SDL_LockSur
(
g_snSur
) < 0))

1180 
	`MesgeBox
(0, 
	`PCh
(
	`Fm
("C'lock g_snSur : %s", [
SDL_GE
])), "E", 
MB_OK
 || 
MB_ICONHAND
);

1181 
ex
;

1185 
	`DwBFldOnSn
(-
x
 * 18 + 
y
 * 18 + 1151 - 
SCREEN_CENTER_X
, x * 9 + y * 9 + 9 - 
SCREEN_CENTER_Y
);

1187 i((
	`SDL_MuLock
(
g_snSur
)))

1189 
	`SDL_UockSur
(
g_snSur
);

1193 
	}
}

1197 
	$DwReg
(
x
, 
y
, 
w
, 
h
, 
ut8
 
c
, ut8 
pha
)

1199 
	`boxC
(
g_snSur
, 
x
, 
y
, x + 
w
, y + 
h
, 
	`COLORA
(
c
, 
pha
));

1200 
	}
}

1203 
	$RedwWhoutUpde
()

1205 
g_Game
) {

1206 
EmInGameM
:

1209 
EmInGameSn
:

1210 
	`DwSnWhoutUpde
();

1212 
EmInGameBeFld
:

1215 
EmInGameT
:

1219 
	}
}

1223 
	$UpdeSn
(
sx
, 
sy
)

1225 
T_Posi
 
pos
 = 
GSnBufrXpos
.
	`Yos
(
sx
, 
xy
);

1226 
pic
 = -1;

1229 
pic
 = 
	`CurSnXYEvtDa
(
sx
, 
sy
).
pic1
 / 2;

1230 i(
g_curEvt
 =
EVENT_NOTHING
 && 
pic
 > 0) {

1231 
offt
 = 
g_snIdxBuff
[
pic
 - 1];

1232 
pos
.
x
 =os.x - (
g_snPicBuff
[
offt
 + 4] + 256 * g_scencePicBuff[offset + 5]) - 3;

1233 
pos
.
y
 =os.y - (
g_snPicBuff
[
offt
 + 6] + 256 * g_snPicBuff[off+ 7]- 3 - 
g_curSnDa
[ 4, 
xs
, 
ys
];

1234 
w
 = (
g_snPicBuff
[
offt
] + 256 * g_scencePicBuff[offset + 1]) + 20;

1235 
h
 = (
g_snPicBuff
[
offt
 + 2] + 256 * g_scencePicBuff[offset + 3]) + 6;

1238 
pos
.
x
 =os.x - 30;

1239 
pos
.
y
 =os.y - 120;

1240 
w
 = 100;

1241 
h
 = 130;

1244 
offt
 = 
	`max
(
h
 / 18, 
w
 / 36);

1245 
i1
 = 
xs
 - 
offt
 
to
 xs + 5 do

1246 
i2
 = 
ys
 - 
offt
 
to
 ys + 5 do

1248 
x
 = -
i1
 * 18 + 
i2
 * 18 + 1151;

1249 
y
 = 
i1
 * 9 + 
i2
 * 9 + 9;

1250 
	`InlSnLay
(
g_curSnDa
[ 0, 
i1
, 
i2
] / 2, 
x
, 
y
, 
pos
.x,os.y, 
w
, 
h
);

1251 i((
i1
 < 0|| (
i2
 < 0|| (i1 > 63|| (i2 > 63)
	`InlSnLay
(0, 
x
, 
y
, 
pos
.x,os.y, 
w
, 
h
)

1254 i((
g_curSnDa
[ 1, 
i1
, 
i2
] > 0))

1255 
	`InlSnLay
(
g_curSnDa
[ 1, 
i1
, 
i2
] / 2, 
x
, 
y
 - g_curSnDa[ 4, i1, i2], 
pos
.x,os.y, 
w
, 
h
);

1258 i((
g_curSnDa
[ 2, 
i1
, 
i2
] > 0))

1259 
	`InlSnLay
(
g_curSnDa
[ 2, 
i1
, 
i2
] / 2, 
x
, 
y
 - g_curSnDa[ 5, i1, i2], 
pos
.x,os.y, 
w
, 
h
);

1260 i((
g_curSnDa
[ 3, 
i1
, 
i2
] >0&& (
g_curSnEvtDa
[ g_curScenceData[ 3, i1, i2], 5] > 0))

1261 
	`InlSnLay
(
g_curSnEvtDa
[ 
g_curSnDa
[ 3, 
i1
, 
i2
], 5] / 2, 
x
, 
y
 - g_curSnDa[ 4, i1, i2], 
pos
.x,os.y, 
w
, 
h
);

1268 
	}
}

1308 * 
	$LdFe
(* 
fame
, * 
bufr
, 
size_t
 
size
)

1310 
FILE
* 
fe
 = 
NULL
;

1312 i(
fame
) {

1313 i((
fe
 = 
	`fݒ
(
fame
, "rb"))) {

1314 i(
size
 == 0) {

1315 
	`fek
(
fe
, 0, 
SEEK_END
);

1316 
size
 = 
	`l
(
fe
);

1317 
	`wd
(
fe
);

1320 i(
bufr
 =
NULL
) {

1321 
bufr
 = 
	`mloc
(
size
);

1324 i(
bufr
) {

1325 
	`d
(
bufr
, 
size
, 1, 
fe
);

1327 
	`fo
(
fe
);

1330 
	`tf
("LdFe: Faedld \"%s\"\n", 
fame
);

1334  
bufr
;

1335 
	}
}

1338 
	$RdFes
()

1340 
	`LdFe
("mm.c", 
g_ˉe
, (g_palette));

1342 i(
g_mIdxBuff
) {

1343 
	`
(
g_mIdxBuff
);

1344 
g_mIdxBuff
 = 
NULL
;

1346 
g_mIdxBuff
 = 
	`LdFe
("mm.idx", 
NULL
, 0);

1347 i(
g_mPicBuff
) {

1348 
	`
(
g_mPicBuff
);

1349 
g_mPicBuff
 = 
NULL
;

1351 
g_mPicBuff
 = 
	`LdFe
("mm.g", 
NULL
, 0);

1376 i(
g_cmdIdxBuff
) {

1377 
	`
(
g_cmdIdxBuff
);

1378 
g_cmdIdxBuff
 = 
NULL
;

1380 
g_cmdIdxBuff
 = 
	`LdFe
("kdef.idx", 
NULL
, 0);

1381 i(
g_cmdGBuff
) {

1382 
	`
(
g_cmdGBuff
);

1383 
g_cmdGBuff
 = 
NULL
;

1385 
g_cmdGBuff
 = 
	`LdFe
("kdef.g", 
NULL
, 0);

1387 i(
g_effIdxBuff
) {

1388 
	`
(
g_effIdxBuff
);

1389 
g_effIdxBuff
 = 
NULL
;

1391 
g_effIdxBuff
 = 
	`LdFe
("e.idx", 
NULL
, 0);

1392 i(
g_efBuff
) {

1393 
	`
(
g_efBuff
);

1394 
g_efBuff
 = 
NULL
;

1396 
g_efBuff
 = 
	`LdFe
("e.g", 
NULL
, 0);

1398 i(
g_IdxBuff
) {

1399 
	`
(
g_IdxBuff
);

1400 
g_IdxBuff
 = 
NULL
;

1402 
g_IdxBuff
 = 
	`LdFe
("hdg.idx", 
NULL
, 0);

1403 i(
g_PicBuff
) {

1404 
	`
(
g_PicBuff
);

1405 
g_PicBuff
 = 
NULL
;

1407 
g_PicBuff
 = 
	`LdFe
("hdg.g", 
NULL
, 0);

1409 
	`LdFe
("h.002", 
g_m
, (g_map));

1411 
	`LdFe
("sur.002", 
g_sur
, (g_surface));

1413 
	`LdFe
("budg.002", 
g_budg
, (g_building));

1415 
	`LdFe
("budx.002", 
g_budgX
, (g_buildingX));

1417 
	`LdFe
("budy.002", 
g_budgY
, (g_buildingY));

1428 
	}
}

1430 
	$UpdeSn
()

1432 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
);

1433 
	}
}

1436 
	$S
()

1438 
	`RdFes
();

1440 
	`memt
(
g_s
, 0, (g_entrances));

1441 
g_mSp
 = 0;

1442 
g_fuSn
 = 
FALSE
;

1443 
EmMaMu
 
mu
 = 
EmMaMuNew
;

1445 
by
* 
bigBufr
 = 
NULL
;

1446 
ut32
* 
idxBufr
 = 
NULL
;

1447 
by
* 
gBufr
 = 
NULL
;

1449 
bigBufr
 = 
	`LdFe
("t.big", 
NULL
, 0);

1450 
idxBufr
 = 
	`LdFe
("t.idx", 
NULL
, 0);

1451 
gBufr
 = 
	`LdFe
("t.g", 
NULL
, 0);

1454 
	`UpdeSn
();

1460 
key
;

1462 
TRUE
) {

1463 
	`DwBigPicOnSn
(0, 
bigBufr
);

1464 
	`DwPicOnSn
(0, 275, 250, 
idxBufr
, 
gBufr
, 0);

1465 
	`DwPicOnSn
(
mu
 + 1, 275, 250 + mu * 20, 
idxBufr
, 
gBufr
, 0);

1466 
	`UpdeSn
();

1468 
key
 = 
	`WaKey
();

1469 
key
) {

1470 
SDLK_RETURN
:

1471 
SDLK_SPACE
:

1472 
mu
) {

1473 
EmMaMuNew
:

1474 
	`LdGame
(0);

1481 
TRUE
) {

1482 
	`DwBigPicOnSn
(0, 
bigBufr
);

1484 
	`InlRe
();

1485 
	`ShowStus
(0);

1487 
key
 = 
	`WaKey
();

1488 i(
key
 =
SDLK_y
 || key =
SDLK_ESCAPE
) {

1493 i(
key
 =
SDLK_y
) {

1494 
	`InGame
(
TRUE
);

1497 
EmMaMuLd
:

1498 
	`DwBigPicOnSn
(0, 
bigBufr
);

1502 
	`UpdeSn
();

1506 
EmMaMuEx
:

1507 
	`
(
bigBufr
);

1508 
	`
(
idxBufr
);

1509 
	`
(
gBufr
);

1510 
	`Qu
();

1515 
	`UpdeSn
();

1517 
SDLK_UP
:

1518 i(
mu
-- <0mu = 
EmMaMuEx
;

1520 
SDLK_DOWN
:

1521 i(
mu
++ >
EmMaMuEx
) menu = 0;

1527 
	}
}

1529 
st32
 
	$Rdom
(
st32
 
a
, st32 
b
)

1531 
b
++;

1532  
	`nd
(% (
b
 - 
a
) +;

1533 
	}
}

1536 
	$InlRe
()

1538 
T_Re
* 
ho
 = &
g_reDa
.
res
[0];

1540 
	`ry
(
ho
->
me
, 
	`Utf8ToBig5
("江湖小蝦米"));

1541 
ho
->
maxLi
 = 
	`Rdom
(25, 50);

1542 
ho
->
maxNei
 = 
	`Rdom
(25, 50);

1543 
ho
->
ÞiTy
 = 
	`Rdom
(0, 2);

1544 
ho
->
cLi
 = 
	`Rdom
(1, 10);

1545 
ho
->
ck
 = 
	`Rdom
(25, 30);

1546 
ho
->
d
 = 
	`Rdom
(25, 30);

1547 
ho
->
den
 = 
	`Rdom
(25, 30);

1548 
ho
->
medce
 = 
	`Rdom
(25, 30);

1549 
ho
->
uPoi
 = 
	`Rdom
(25, 30);

1550 
ho
->
medPoi
 = 
	`Rdom
(25, 30);

1551 
ho
->
fi
 = 
	`Rdom
(25, 30);

1552 
ho
->
swd
 = 
	`Rdom
(25, 30);

1553 
ho
->
bde
 = 
	`Rdom
(25, 30);

1554 
ho
->
unusu
 = 
	`Rdom
(25, 30);

1555 
ho
->
hidWp
 = 
	`Rdom
(25, 30);

1556 
ho
->
tude
 = 
	`Rdom
(1, 100);

1558 
ho
->
li
 = ho->
maxLi
;

1559 
ho
->
Þi
 = ho->
maxNei
;

1560 
ho
->
phyPow
 = 
MAX_PHYSICAL_POWER
;

1561 
	}
}

1564 
	$InM
()

1566 
ut32
 
xt_time
 = 
	`SDL_GTicks
() + 3000;

1567 
g_Game
 = 
EmInGameM
;

1569 
	`CmdSnFadeIn
(
NULL
);

1571 
g_
 = 
FALSE
;

1572 
ϡMx
 = 
g_mx
;

1573 
ϡMy
 = 
g_my
;

1578 
TRUE
) {

1582 
mx
 = 
g_mx
;

1583 
my
 = 
g_my
;

1584 
g_sFa
) {

1586 
mx
--;

1589 
my
++;

1592 
my
--;

1595 
mx
++;

1601 i(
	`GoIn
(
mx
, 
my
)) {

1602 
	`CmdSnFadeOut
(
NULL
);

1603 
	`InSn
(
g_s
[
mx
][
my
], 
EmInSnE
);

1604 
g_Game
 = 
EmInGameM
;

1605 
	`CmdSnFadeIn
(
NULL
);

1609 
ut32
 
now
 = 
	`SDL_GTicks
();

1610 i(
now
 - 
xt_time
 > 0) {

1611 i((
ϡMx
 =
g_mx
&& (
ϡMy
 =
g_my
))

1613 
g_
 = 
TRUE
;

1614 i(
g_mRe
 > 
REST_PIC_NUM
) {

1615 
g_mRe
 = 0;

1616 
g_
 = 
FALSE
;

1620 
ϡMx
 = 
g_mx
;

1621 
ϡMy
 = 
g_my
;

1623 i(
g_
) {

1624 
xt_time
 = 
now
 + 500;

1626 
xt_time
 = 
now
 + 3000;

1630 
	`DwM
();

1632 
key
 = 
	`PlKey
();

1633 
key
) {

1634 
SDLK_ESCAPE
:

1637 
SDLK_UP
:

1638 
g_
 = 
FALSE
;

1639 
g_mFa
 = 0;

1640 i(++
g_mSp
 >
WALK_PIC_NUM
) g_mStep = 1;

1641 i(
	`GoThrough
(
g_mx
 - 1, 
g_my
)) {

1642 
g_mx
--;

1645 
SDLK_RIGHT
:

1646 
g_
 = 
FALSE
;

1647 
g_mFa
 = 1;

1648 i(++
g_mSp
 >
WALK_PIC_NUM
) g_mStep = 1;

1649 i(
	`GoThrough
(
g_mx
, 
g_my
 + 1)) {

1650 
g_my
++;

1653 
SDLK_LEFT
:

1654 
g_
 = 
FALSE
;

1655 
g_mFa
 = 2;

1656 i(++
g_mSp
 >
WALK_PIC_NUM
) g_mStep = 1;

1657 i(
	`GoThrough
(
g_mx
, 
g_my
 - 1)) {

1658 
g_my
--;

1661 
SDLK_DOWN
:

1662 
g_
 = 
FALSE
;

1663 
g_mFa
 = 3;

1664 i(++
g_mSp
 >
WALK_PIC_NUM
) g_mStep = 1;

1665 i(
	`GoThrough
(
g_mx
 + 1, 
g_my
)) {

1666 
g_mx
++;

1673 
	}
}

1676 
bo
 
	$GoIn
(
mx
, 
my
)

1678 
bo
 
goIn
 = 
FALSE
;

1680 
sn
 = -1;

1681 i((
sn
 = 
g_s
[
mx
][
my
] >= 0)) {

1682 i((
g_reDa
.
sns
[
sn
].
Cdi
 == 0)) {

1683 
goIn
 = 
TRUE
;

1684 } i((
g_reDa
.
sns
[
sn
].
Cdi
 == 2)) {

1685 
i
;

1686 
i
 = 0; i < 
MAX_TEAM_ROLE
; i++) {

1687 i(
g_reDa
.
comm
.
am
[
i
] >0 && g_reDa.
res
[g_reDa.comm.am[i]].
d
 > 70) {

1688 
goIn
 = 
TRUE
;

1695  
goIn
;

1696 
	}
}

1700 
	$UpdeSnAmi
()

1701 
v


1702 
now
, 
xt_time
: 
ut32
;

1703 
i
 = 0;

1706 
xt_time
=
sdl_gticks
;

1707 
now
=
sdl_gticks
;

1708 
ue
 do

1710 
now
=
sdl_gticks
;

1711 i(
now
>=
xt_time
)

1713 
LockSn
=
ue
;

1714 
i
=0 
to
 199 do

1715 i(
g_curSnEvtDa
[ 
i
,6]<>g_curScenceEventData[ i,7])

1717 i((
g_curSnEvtDa
[ 
i
,5]<5498) || (g_curScenceEventData[ i,5]>5692))

1719 
g_curSnEvtDa
[ 
i
,5]=g_curScenceEventData[ i,5]+2;

1720 i(
g_curSnEvtDa
[ 
i
,5]>g_curScenceEventData[ i,6]) g_curScenceEventData[ i,5]=g_curScenceEventData[ i,7];

1721 
	`updesn
(
g_curSnEvtDa
[ 
i
,10],g_curScenceEventData[ i,9]);

1725 
	`sdl_day
(10);

1726 
xt_time
=next_time+200;

1727 
LockSn
=
l
;

1731 
	}
}}

1735 
	$InGame
(
bo
 
t
)

1737 i(
t
) {

1738 
	`InSn
(
SCENCE_HOME
, 
EmInSnS
);

1740 
g_mx
 = 
g_reDa
.
sns
[
SCENCE_HOME
].
mEn1X
;

1741 
g_my
 = 
g_reDa
.
sns
[
SCENCE_HOME
].
mEn1Y
;

1744 
	`InM
();

1745 
	}
}

1750 
	$InSn
(
sn
, 
EmInSn
 
Sn
)

1752 
t
 = 0;

1754 
ϡSx
 = 
g_sx
;

1755 
ϡSy
 = 
g_sy
;

1756 
ut32
* 
ϡIdxBuff
 = 
g_snIdxBuff
;

1757 
by
* 
ϡPicBuff
 = 
g_snPicBuff
;

1758 
SDL_Sur
* 
ϡSur
 = 
g_snSur
;

1760 i((
g_snSur
 = 
	`SDL_CeRGBSur
(
SDL_HWSURFACE
, 
SCENCE_PIC_WIDTH
, 
SCENCE_PIC_HEIGHT
,

1762 
ut32
 
xt_time
 = 
	`SDL_GTicks
();

1764 
g_curEvt
 = 
EVENT_NOTHING
;

1765 
g_Game
 = 
EmInGameSn
;

1766 
g_curSn
 = 
sn
;

1767 
g_sFa
 = 
g_mFa
;

1769 
smpFame
[
PATH_MAX
];

1770 
sdxFame
[
PATH_MAX
];

1771 
	`rtf
(
smpFame
, "smp%03d", 
g_curSn
);

1772 
	`rtf
(
sdxFame
, "sdx%03d", 
g_curSn
);

1774 i((
g_snIdxBuff
 = 
	`LdFe
(
sdxFame
, 
NULL
, 0)&& (
g_snPicBuff
 = LdFe(
smpFame
, NULL, 0))) {

1776 i(
g_reDa
.
sns
[
g_curSn
].
Music
 >= 0) {

1777 
	`StXMI
();

1778 
	`PyXMI
(
g_reDa
.
sns
[
g_curSn
].
Music
, -1);

1781 
Sn
) {

1782 
EmInSnS
:

1783 
g_sx
 = 
GAME_START_SX
;

1784 
g_sy
 = 
GAME_START_SY
;

1785 
g_ex
 = 
g_sx
;

1786 
g_ey
 = 
g_sy
;

1788 
EmInSnJump
:

1789 
g_sx
 = 
g_reDa
.
sns
[
g_curSn
].
jumpEnX
;

1790 
g_sy
 = 
g_reDa
.
sns
[
g_curSn
].
jumpEnY
;

1792 
EmInSnE
:

1794 
g_sx
 = 
g_reDa
.
sns
[
g_curSn
].
X
;

1795 
g_sy
 = 
g_reDa
.
sns
[
g_curSn
].
Y
;

1799 
	`InlSn
(
g_curSn
);

1800 
	`CmdSnFadeIn
(
NULL
);

1802 i(
Sn
 =
EmInSnS
) {

1803 
g_curEvt
 = 
EVENT_GAME_START
;

1805 
g_curEvt
 = 
EVENT_NOTHING
;

1807 
	`ShowSnName
(
g_curSn
);

1813 
TRUE
) {

1815 i((
g_sx
 =
g_reDa
.
sns
[
g_curSn
].
exX
[0] && 
g_sy
 =g_reDa.sns[g_curSn].
exY
[0])

1816 || (
g_sx
 =
g_reDa
.
sns
[
g_curSn
].
exX
[1] && 
g_sy
 =g_reDa.sns[g_curSn].
exY
[1])

1817 || (
g_sx
 =
g_reDa
.
sns
[
g_curSn
].
exX
[2] && 
g_sy
 =g_reDa.sns[g_curSn].
exY
[2])) {

1818 
g_Game
 = 
EmInGameM
;

1819 
t
 = -1;

1824 i(
g_sx
 =
g_reDa
.
sns
[
g_curSn
].
jumpX
 && 
g_sy
 =g_reDa.sns[g_curSn].
jumpY
 && g_reDa.sns[g_curSn].
jumpSn
 >= 0) {

1825 
	`CmdSnFadeOut
(
NULL
);

1827 
EmInSn
 
jumpInSn
 =

1828 
g_reDa
.
sns
[
g_curSn
].
mEn1X


1829 ? 
EmInSnE
 : 
EmInSnJump
;

1830 
	`InSn
(
g_reDa
.
sns
[
g_curSn
].
jumpSn
, 
jumpInSn
);

1832 
g_curSn
 = 
sn
;

1834 
	`InlSn
(
g_curSn
);

1835 
	`CmdSnFadeIn
(
NULL
);

1837 
	`ShowSnName
(
g_curSn
);

1840 
	`DwSn
();

1864 
sx
 = 
g_sx
;

1865 
sy
 = 
g_sy
;

1866 
key
 = 
	`PlKey
();

1867 
key
) {

1868 
KEYUP
:

1869 
g_sSp
 = 0;

1871 
SDLK_ESCAPE
:

1874 
SDLK_RETURN
:

1875 
SDLK_SPACE
:

1876 
sx
 = 
g_sx
;

1877 
sy
 = 
g_sy
;

1878 
g_sFa
) {

1880 
sx
--;

1883 
sy
++;

1886 
sy
--;

1889 
sx
++;

1896 i(
g_curSnDa
[
EmSnLayEvt
][
sx
][
sy
] >= 0) {

1897 
g_curEvt
 = 
g_curSnDa
[
EmSnLayEvt
][
sx
][
sy
];

1898 i(
g_curEvtDa
.
aiEvt
 >= 0) {

1901 
g_curEvt
 = 
EVENT_NOTHING
;

1904 
SDLK_UP
:

1905 
g_sFa
 = 0;

1906 i(++
g_sSp
 >
WALK_PIC_NUM
) g_sStep = 1;

1907 i(
	`GoThroughSn
(
g_sx
 - 1, 
g_sy
)) {

1908 
g_sx
--;

1911 
SDLK_RIGHT
:

1912 
g_sFa
 = 1;

1913 i(++
g_sSp
 >
WALK_PIC_NUM
) g_sStep = 1;

1914 i(
	`GoThroughSn
(
g_sx
, 
g_sy
 + 1)) {

1915 
g_sy
++;

1918 
SDLK_LEFT
:

1919 
g_sFa
 = 2;

1920 i(++
g_sSp
 >
WALK_PIC_NUM
) g_sStep = 1;

1921 i(
	`GoThroughSn
(
g_sx
, 
g_sy
 - 1)) {

1922 
g_sy
--;

1925 
SDLK_DOWN
:

1926 
g_sFa
 = 3;

1927 i(++
g_sSp
 >
WALK_PIC_NUM
) g_sStep = 1;

1928 i(
	`GoThroughSn
(
g_sx
 + 1, 
g_sy
)) {

1929 
g_sx
++;

1937 i(
g_reDa
.
sns
[
g_curSn
].
exMusic
 >= 0) {

1938 
	`StXMI
();

1939 
	`PyXMI
(
g_reDa
.
sns
[
g_curSn
].
exMusic
, -1);

1942 
	`CmdSnFadeOut
(
NULL
);

1943 
	`
(
g_snIdxBuff
);

1944 
	`
(
g_snPicBuff
);

1947 
	`SDL_FeSur
(
g_snSur
);

1950 
g_sx
 = 
ϡSx
;

1951 
g_sy
 = 
ϡSy
;

1952 
g_snIdxBuff
 = 
ϡIdxBuff
;

1953 
g_snPicBuff
 = 
ϡPicBuff
;

1955 
g_snSur
 = 
ϡSur
;

1957 
g_mFa
 = 
g_sFa
 = 3 - g_sFace;

1959  
t
;

1960 
	}
}

1962 
	$ShowSnName
(
sn
)

1966 
	`DwFmeText
(
	`Big5ToUtf8
(
g_reDa
.
sns
[
sn
].
me
), 
TEXT_NORMAL_COLOR
, 
TEXT_COLOR
);

1967 
	`UpdeSn
();

1969 
	`WaKey
();

1970 
	}
}

1975 
	$CheckEvt3
()

1976 
v


1979 
g_curSnDa
[ 3, 
Sx
, 
Sy
];

1980 i((
g_curSnEvtDa
[ , 4] > 0) && (>= 0))

1982 
g_curEvt
 = ;

1983 
WaKey
;

1984 
	`evt
(
g_curSnEvtDa
[ , 4]);

1985 
g_curEvt
 = -1;

1987 
	}
}

1993 
funi
 
CommMu
(
x
 = 0;

1994 
y
 = 0;

1995 
w
 = 0;

1996 
max
 = 0) = 0;

1997 
v


1998 
	gmu
 = 0;

1999 
	gmup
 = 0;

2001 
	gmu
 = 0;

2003 
showcommMu
(
x
, 
y
, 
w
, 
max
, 
mu
);

2004 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
max
 * 22 + 29);

2005 
SDL_WaEvt
(@
evt
) >= 0) do

2007 
evt
.
ty
) {

2008 
SDL_QUITEV
:

2009 i(
mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

2010 
	gSDL_KEYUP
:

2012 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_down
))

2014 
mu
 = menu + 1;

2015 i(
	gmu
 > 
	gmax
) menu = 0;

2016 
showcommMu
(
x
, 
y
, 
w
, 
max
, 
mu
);

2017 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
max
 * 22 + 29);

2019 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_up
))

2021 
mu
 = menu - 1;

2022 i(
	gmu
 < 0mu = 
max
;

2023 
showcommMu
(
x
, 
y
, 
w
, 
max
, 
mu
);

2024 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
max
 * 22 + 29);

2026 i(((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_es
)&& (
g_Game
 <= 2))

2028 
su
 = -1;

2029 
	gReDw
;

2030 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
max
 * 22 + 29);

2033 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_tu
|| (
evt
.
key
.
keysym
.
sym
 =
sdlk_a
))

2035 
su
 = 
mu
;

2036 
	gRedw
;

2037 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
max
 * 22 + 29);

2041 
	gSDL_MOUSEBUTTONUP
:

2043 i((
evt
.
bu
.bu =
sdl_bu_right
&& (
g_Game
 <= 2))

2045 
su
 = -1;

2046 
	gReDw
;

2047 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
max
 * 22 + 29);

2050 i((
	gevt
.
	gbu
.bu =
sdl_bu_
))

2052 
su
 = 
mu
;

2053 
	gRedw
;

2054 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
max
 * 22 + 29);

2058 
	gSDL_MOUSEMOTION
:

2060 i((
evt
.
bu
.
x
 >x&& (evt.bu.x < x + 
w
&& (evt.bu.
y
 > y&& (evt.bu.y < y + 
max
 * 22 + 29))

2062 
mup
 = 
mu
;

2063 
	gmu
 = (
evt
.
bu
.
y
 - y - 2) / 22;

2064 i(
	gmu
 > 
	gmax
mu = 
max
;

2065 i(
	gmu
 < 0) menu = 0;

2066 i(
	gmup
 <> 
	gmu
)

2068 
showcommMu
(
x
, 
y
, 
w
, 
max
, 
mu
);

2069 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
max
 * 22 + 29);

2076 
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 = 0;

2077 
	gevt
.
	gbu
.button = 0;

2084 
	$ShowCommMu
(
x
, 
y
, 
w
, 
max
, 
mu
 = 0)()

2085 
v


2086 
i
 = 0;

2087 
p
 = 0;

2089 
dw
;

2090 
	`DwFmeReg
(
x
, 
y
, 
w
, 
max
 * 22 + 28, 0, 
	`COLOR
(255), 30);

2091 i(
	`ngth
(
Mugrg
> 0
p
 = 1 p = 0;

2092 
i
 = 0 
to
 
max
 do

2093 i(
i
 =
mu
)

2095 
	`dwshadowxt
(@
murg
[
i
][1], 
x
 - 17, 
y
 + 2 + 22 * i, 
	`COLOR
(0x66), COLOR(0x64));

2096 i(
p
 == 1)

2097 
	`dwgshadowxt
(@
mugrg
[
i
][1], 
x
 + 73, 
y
 + 2 + 22 * i, 
	`COLOR
(0x66), COLOR(0x64));

2100 
	`dwshadowxt
(@
murg
[
i
][1], 
x
 - 17, 
y
 + 2 + 22 * i, 
	`COLOR
(0x7), COLOR(0x5));

2101 i(
p
 == 1)

2102 
	`dwgshadowxt
(@
mugrg
[
i
][1], 
x
 + 73, 
y
 + 2 + 22 * i, 
	`COLOR
(0x7), COLOR(0x5));

2105 
	}
}

2109 
funi
 
CommSlMu
(
x
 = 0;

2110 
y
 = 0;

2111 
w
 = 0;

2112 
max
 = 0;

2113 
maxshow
 = 0) = 0;

2114 
v


2115 
	gmu
 = 0;

2116 
	gmup
 = 0;

2117 
	gmut
 = 0;

2119 
	gmu
 = 0;

2120 
	gmut
 = 0;

2122 
showcommslMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
);

2123 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2124 
SDL_WaEvt
(@
evt
) >= 0) do

2126 
evt
.
ty
) {

2127 
SDL_QUITEV
:

2128 i(
mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

2129 
	gSDL_KEYUP
:

2131 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_down
))

2133 
mu
 = menu + 1;

2134 i(
	gmu
 - 
	gmut
 >
maxshow
)

2136 
mut
 = menutop + 1;

2138 i(
	gmu
 > 
	gmax
)

2140 
	gmu
 = 0;

2141 
	gmut
 = 0;

2143 
showcommslMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
);

2144 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2146 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_up
))

2148 
mu
 = menu - 1;

2149 i(
	gmu
 <
mut
)

2151 
mut
 = 
mu
;

2153 i(
	gmu
 < 0)

2155 
	gmu
 = 
max
;

2156 
	gmut
 = 
mu
 - 
maxshow
 + 1;

2158 
showcommslMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
);

2159 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2161 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_gedown
))

2163 
mu
 = mu + 
maxshow
;

2164 
	gmut
 = 
mut
 + 
maxshow
;

2165 i(
	gmu
 > 
	gmax
)

2167 
	gmu
 = 
max
;

2169 i(
	gmut
 > 
	gmax
 - 
	gmaxshow
 + 1)

2171 
	gmut
 = 
max
 - 
maxshow
 + 1;

2173 
showcommslMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
);

2174 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2176 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_geup
))

2178 
mu
 = mu - 
maxshow
;

2179 
	gmut
 = 
mut
 - 
maxshow
;

2180 i(
	gmu
 < 0)

2182 
	gmu
 = 0;

2184 i(
	gmut
 < 0)

2186 
	gmut
 = 0;

2188 
showcommslMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
);

2189 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2191 i(((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_es
)&& (
g_Game
 <= 2))

2193 
su
 = -1;

2194 
	gReDw
;

2195 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2198 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_tu
|| (
evt
.
key
.
keysym
.
sym
 =
sdlk_a
))

2200 
su
 = 
mu
;

2201 
	gRedw
;

2202 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2206 
	gSDL_MOUSEBUTTONUP
:

2208 i((
evt
.
bu
.bu =
sdl_bu_right
&& (
g_Game
 <= 2))

2210 
su
 = -1;

2211 
	gReDw
;

2212 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2215 i((
	gevt
.
	gbu
.bu =
sdl_bu_
))

2217 
su
 = 
mu
;

2218 
	gRedw
;

2219 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2222 i((
	gevt
.
	gbu
.bu =
sdl_bu_whldown
))

2224 
mu
 = menu + 1;

2225 i(
	gmu
 - 
	gmut
 >
maxshow
)

2227 
mut
 = menutop + 1;

2229 i(
	gmu
 > 
	gmax
)

2231 
	gmu
 = 0;

2232 
	gmut
 = 0;

2234 
showcommslMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
);

2235 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2237 i((
	gevt
.
	gbu
.bu =
sdl_bu_whlup
))

2239 
mu
 = menu - 1;

2240 i(
	gmu
 <
mut
)

2242 
mut
 = 
mu
;

2244 i(
	gmu
 < 0)

2246 
	gmu
 = 
max
;

2247 
	gmut
 = 
mu
 - 
maxshow
 + 1;

2249 
showcommslMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
);

2250 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2253 
	gSDL_MOUSEMOTION
:

2255 i((
evt
.
bu
.
x
 >x&& (evt.bu.x < x + 
w
&& (evt.bu.
y
 > y&& (evt.bu.y < y + 
max
 * 22 + 29))

2257 
mup
 = 
mu
;

2258 
	gmu
 = (
evt
.
bu
.
y
 - y - 2/ 22 + 
mut
;

2259 i(
	gmu
 > 
	gmax
mu = 
max
;

2260 i(
	gmu
 < 0) menu = 0;

2261 i(
	gmup
 <> 
	gmu
)

2263 
showcommslMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
);

2264 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 
maxshow
 * 22 + 29);

2271 
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 = 0;

2272 
	gevt
.
	gbu
.button = 0;

2277 
	$ShowCommSlMu
(
x
, 
y
, 
w
, 
max
, 
maxshow
, 
mu
, 
mut
 = 0)()

2278 
v


2279 
i
 = 0;

2280 
p
 = 0;

2282 
dw
;

2284 i(
max
 + 1 < 
maxshow
) maxshow = max + 1;

2285 
	`DwFmeReg
(
x
, 
y
, 
w
, 
maxshow
 * 22 + 6, 0, 
	`COLOR
(255), 30);

2286 i(
	`ngth
(
Mugrg
> 0
p
 = 1 p = 0;

2287 
i
 = 
mut
 
to
 mut + 
maxshow
 - 1 do

2288 i(
i
 =
mu
)

2290 
	`dwshadowxt
(@
murg
[
i
][1], 
x
 - 17, 
y
 + 2 + 22 * (- 
mut
), 
	`COLOR
(0x66), COLOR(0x64));

2291 i(
p
 == 1)

2292 
	`dwgshadowxt
(@
mugrg
[
i
][1], 
x
 + 73, 
y
 + 2 + 22 * (- 
mut
), 
	`COLOR
(0x66), COLOR(0x64));

2295 
	`dwshadowxt
(@
murg
[
i
][1], 
x
 - 17, 
y
 + 2 + 22 * (- 
mut
), 
	`COLOR
(0x7), COLOR(0x5));

2296 i(
p
 == 1)

2297 
	`dwgshadowxt
(@
mugrg
[
i
][1], 
x
 + 73, 
y
 + 2 + 22 * (- 
mut
), 
	`COLOR
(0x7), COLOR(0x5));

2300 
	}
}

2305 
funi
 
CommMu2
(
x
 = 0;

2306 
y
 = 0;

2307 
w
 = 0) = 0;

2308 
v


2309 
	gmu
 = 0;

2310 
	gmup
 = 0;

2312 
	gmu
 = 0;

2314 
showcommMu2
(
x
, 
y
, 
w
, 
mu
);

2315 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 29);

2316 
SDL_WaEvt
(@
evt
) >= 0) do

2318 
evt
.
ty
) {

2319 
SDL_QUITEV
:

2320 i(
mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

2321 
	gSDL_KEYUP
:

2323 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_
|| (evt.key.keysym.sym =
sdlk_right
))

2325 i(
mu
 == 1) menu = 0 menu = 1;

2326 
showcommMu2
(
x
, 
y
, 
w
, 
mu
);

2327 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 29);

2329 i(((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_es
)&& (
g_Game
 <= 2))

2331 
su
 = -1;

2332 
	gReDw
;

2333 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 29);

2336 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_tu
|| (
evt
.
key
.
keysym
.
sym
 =
sdlk_a
))

2338 
su
 = 
mu
;

2339 
	gRedw
;

2340 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 29);

2344 
	gSDL_MOUSEBUTTONUP
:

2346 i((
evt
.
bu
.bu =
sdl_bu_right
&& (
g_Game
 <= 2))

2348 
su
 = -1;

2349 
	gReDw
;

2350 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 29);

2353 i((
	gevt
.
	gbu
.bu =
sdl_bu_
))

2355 
su
 = 
mu
;

2356 
	gRedw
;

2357 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 29);

2361 
	gSDL_MOUSEMOTION
:

2363 i((
evt
.
bu
.
x
 >x&& (evt.bu.x < x + 
w
&& (evt.bu.
y
 > y) && (event.button.y < y + 29))

2365 
mup
 = 
mu
;

2366 
	gmu
 = (
evt
.
bu
.
x
 - x - 2) / 50;

2367 i(
	gmu
 > 1) menu = 1;

2368 i(
	gmu
 < 0) menu = 0;

2369 i(
	gmup
 <> 
	gmu
)

2371 
showcommMu2
(
x
, 
y
, 
w
, 
mu
);

2372 
SDL_UpdeRe
(
g_snSur
, 
x
, 
y
, 
w
 + 1, 29);

2379 
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 = 0;

2380 
	gevt
.
	gbu
.button = 0;

2386 
	$ShowCommMu2
(
x
, 
y
, 
w
, 
mu
 = 0)()

2387 
v


2388 
i
 = 0;

2389 
p
 = 0;

2391 
dw
;

2392 
	`DwFmeReg
(
x
, 
y
, 
w
, 28, 0, 
	`COLOR
(255), 30);

2394 
i
 = 0 
to
 1 do

2395 i(
i
 =
mu
)

2397 
	`dwshadowxt
(@
murg
[
i
][1], 
x
 - 17 + i * 50, 
y
 + 2, 
	`COLOR
(0x66), COLOR(0x64));

2400 
	`dwshadowxt
(@
murg
[
i
][1], 
x
 - 17 + i * 50, 
y
 + 2, 
	`COLOR
(0x7), COLOR(0x5));

2403 
	}
}

2408 
funi
 
SeOTmMemb
(
x
 = 0;

2409 
y
 = 0; 
r
: 
rg
; 
li1
 = 0;

2410 
li2
 = 0) = 0;

2411 
v


2412 
	gi
 = 0;

2413 
	gamou
 = 0;

2415 
gth
(
Murg
, 6);

2416 i(
	gr
 <> ""
gth
(
Mugrg
, 6) setlength(Menuengstring, 0);

2417 
	gamou
 = 0;

2419 
	gi
 = 0 
to
 5 do

2421 i(
Tmli
[
i
] >= 0)

2423 
murg
[
i
] = 
Big5toUTF8
(@
RRe
[
Tmli
[i]].
Name
);

2424 i(
	gr
 <> "")

2426 
	gmugrg
[
i
] = 
fm
(
r
, [
Rre
[
amli
[i]].
da
[
li1
], Rre[amli[i]].da[
li2
]]);

2428 
	gamou
 = 
amou
 + 1;

2431 i(
	gr
 =""
su
 = 
commmu
(
x
, 
y
, 85, 
amou
 - 1)

2432 
	gsu
 = 
commmu
(
x
, 
y
, 85 + 
ngth
(
mugrg
[0]* 10, 
amou
 - 1);

2438 
	$MuEsc
()

2439 
v


2440 
mu
 = 0;

2441 
mup
 = 0;

2443 
mu
 = 0;

2445 
	`showMu
(
mu
);

2447 
	`SDL_WaEvt
(@
evt
) >= 0) do

2449 i(
g_Game
 >= 3)

2453 
evt
.
ty
) {

2454 
SDL_QUITEV
:

2455 i(
	`mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

2456 
SDL_KEYUP
:

2458 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_down
))

2460 
mu
 = menu + 1;

2461 i(
mu
 > 5 - 
g_Game
 * 2) menu = 0;

2462 
	`showMu
(
mu
);

2464 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_up
))

2466 
mu
 = menu - 1;

2467 i(
mu
 < 0mu = 5 - 
g_Game
 * 2;

2468 
	`showMu
(
mu
);

2470 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_es
))

2472 
ReDw
;

2473 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2476 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_tu
|| (evt.key.keysym.sym =
sdlk_a
))

2478 
mu
) {

2479 0: 
MuMedce
;

2480 1: 
MuMedPoisi
;

2481 2: 
MuIm
;

2482 5: 
MuSyem
;

2483 4: 
MuLve
;

2484 3: 
MuStus
;

2486 
	`showmu
(
mu
);

2489 
SDL_MOUSEBUTTONUP
:

2491 i(
evt
.
bu
.bu =
sdl_bu_right
)

2493 
ReDw
;

2494 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2497 i(
evt
.
bu
.bu =
sdl_bu_
)

2499 i((
evt
.
bu
.
y
 > 32&& (evt.bu.y < 32 + 22 * (6 - 
g_Game
 * 2)&& (evt.bu.
x
 > 27) && (event.button.x < 27 + 46))

2501 
	`showmu
(
mu
);

2502 
mu
) {

2503 0: 
MuMedce
;

2504 1: 
MuMedPoisi
;

2505 2: 
MuIm
;

2506 5: 
MuSyem
;

2507 4: 
MuLve
;

2508 3: 
MuStus
;

2510 
	`showmu
(
mu
);

2514 
SDL_MOUSEMOTION
:

2516 i((
evt
.
bu
.
y
 > 32&& (evt.bu.y < 32 + 22 * 6&& (evt.bu.
x
 > 27) && (event.button.x < 27 + 46))

2518 
mup
 = 
mu
;

2519 
mu
 = (
evt
.
bu
.
y
 - 32) / 22;

2520 i(
mu
 > 5 - 
g_Game
 * 2) menu = 5 - g_inGame * 2;

2521 i(
mu
 < 0) menu = 0;

2522 i(
mup
 <> 
mu

	`showmu
(menu);

2528 
evt
.
key
.
keysym
.
sym
 = 0;

2529 
evt
.
bu
.button = 0;

2531 
	}
}

2535 
	$ShowMu
(
mu
 = 0)()

2536 
v


2537 
wd
: 
y
[0..5] 
of
 
Widerg
;

2538 
i
 = 0;

2539 
max
 = 0;

2541 
Wd
[0] = " 醫療";

2542 
Wd
[1] = " 解毒";

2543 
Wd
[2] = " 物品";

2544 
Wd
[3] = " 狀態";

2545 
Wd
[4] = " 離隊";

2546 
Wd
[5] = " 系統";

2547 i(
g_Game
 =0
max
 = 5 max = 3;

2548 
ReDw
;

2549 
	`DwFmeReg
(27, 30, 46, 
max
 * 22 + 28, 0, 
	`COLOR
(255), 30);

2551 
i
 = 0 
to
 
max
 do

2552 i(
i
 =
mu
)

2554 
	`dwxt
(
g_snSur
, @
wd
[
i
][1], 11, 32 + 22 * i, 
	`COLOR
(0x64));

2555 
	`dwxt
(
g_snSur
, @
wd
[
i
][1], 10, 32 + 22 * i, 
	`COLOR
(0x66));

2558 
	`dwxt
(
g_snSur
, @
wd
[
i
][1], 11, 32 + 22 * i, 
	`COLOR
(0x5));

2559 
	`dwxt
(
g_snSur
, @
wd
[
i
][1], 10, 32 + 22 * i, 
	`COLOR
(0x7));

2561 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2563 
	}
}

2567 
	$MuMedce
()

2568 
v


2569 
re1
 = 0;

2570 
re2
 = 0;

2571 
mu
 = 0;

2572 
r
: 
widerg
;

2574 
r
 = " 隊員醫療能力";

2575 
	`dwxtwh
(@
r
[1], 80, 30, 132, 
	`COLOR
(0x23), COLOR(0x21));

2576 
mu
 = 
	`SeOTmMemb
(80, 65, "%3d", 46, 0);

2577 
	`showmu
(0);

2578 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2579 i(
mu
 >= 0)

2581 
re1
 = 
TmLi
[
mu
];

2582 
r
 = " 隊員目前生命";

2583 
	`dwxtwh
(@
r
[1], 80, 30, 132, 
	`COLOR
(0x23), COLOR(0x21));

2584 
mu
 = 
	`SeOTmMemb
(80, 65, "%4d/%4d", 17, 18);

2585 
re2
 = 
TmLi
[
mu
];

2586 i(
mu
 >= 0)

2587 
	`EfMedce
(
re1
, 
re2
);

2590 
dw
;

2593 
	}
}

2597 
	$MuMedPoisi
()

2598 
v


2599 
re1
 = 0;

2600 
re2
 = 0;

2601 
mu
 = 0;

2602 
r
: 
widerg
;

2604 
r
 = " 隊員解毒能力";

2605 
	`dwxtwh
(@
r
[1], 80, 30, 132, 
	`COLOR
(0x23), COLOR(0x21));

2606 
mu
 = 
	`SeOTmMemb
(80, 65, "%3d", 48, 0);

2607 
	`showmu
(1);

2608 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2609 i(
mu
 >= 0)

2611 
re1
 = 
TmLi
[
mu
];

2612 
r
 = " 隊員中毒程度";

2613 
	`dwxtwh
(@
r
[1], 80, 30, 132, 
	`COLOR
(0x23), COLOR(0x21));

2614 
mu
 = 
	`SeOTmMemb
(80, 65, "%3d", 20, 0);

2615 
re2
 = 
TmLi
[
mu
];

2616 i(
mu
 >= 0)

2617 
	`EfMedPoisi
(
re1
, 
re2
);

2620 
dw
;

2624 
	}
}

2628 
funi
 
	gMuIm
: 
boޗn
;

2629 
v


2630 
	gpot
 = 0;

2631 
	glu
 = 0;

2632 
	gx
 = 0;

2633 
	gy
 = 0;

2634 
	gc
 = 0;

2635 
	grow
 = 0;

2636 
	gxp
 = 0;

2637 
	gyp
 = 0;

2638 
	gmou
 = 0;

2639 
	gmu
 = 0;

2640 
	gmax
 = 0;

2644 
	gc
 = 9;

2645 
	grow
 = 5;

2646 
	gx
 = 0;

2647 
	gy
 = 0;

2648 
	glu
 = 0;

2649 
gth
(
Mugrg
, 0);

2650 
	gg_Game
) {

2653 
max
 = 5;

2654 
gth
(
murg
, 
max
 + 1);

2655 
	gmurg
[0] = " 全部物品";

2656 
	gmurg
[1] = " 劇情物品";

2657 
	gmurg
[2] = " 神兵寶甲";

2658 
	gmurg
[3] = " 武功秘笈";

2659 
	gmurg
[4] = " 靈丹妙藥";

2660 
	gmurg
[5] = " 傷人暗器";

2661 
	gmu
 = 
commmu
(80, 30, 87, 
max
);

2662 i(
	gmu
 =0
mu
 = 101;

2663 
	gmu
 = 
mu
 - 1;

2667 
max
 = 1;

2668 
gth
(
murg
, 
max
 + 1);

2669 
	gmurg
[0] = " 靈丹妙藥";

2670 
	gmurg
[1] = " 傷人暗器";

2671 
	gmu
 = 
commmu
(150, 150, 87, 
max
);

2672 i(
	gmu
 >0
mu
 = menu + 3;

2676 i(
	gmu
 < 0
	gsu
 = 
l
;

2678 i(
	gmu
 >= 0)

2680 
mou
 = 
RdImLi
(
mu
);

2681 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2682 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2683 
SDL_WaEvt
(@
evt
) >= 0) do

2685 
evt
.
ty
) {

2686 
SDL_QUITEV
:

2687 i(
mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

2688 
	gSDL_KEYUP
:

2690 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_down
))

2692 
y
 = y + 1;

2693 i(
	gy
 < 0) y = 0;

2694 i((
	gy
 >
row
))

2696 i((
ImLi
[
lu
 + 
c
 * 
row
] >= 0))tlu =tlu + col;

2697 
	gy
 = 
row
 - 1;

2699 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2700 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2702 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_up
))

2704 
y
 = y - 1;

2705 i(
	gy
 < 0)

2707 
	gy
 = 0;

2708 i(
	glu
 > 0lu = 
lu
 - 
c
;

2710 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2711 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2713 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_gedown
))

2716 
lu
 =u + 
c
 * 
row
;

2717 i(
	gy
 < 0) y = 0;

2718 i((
	gImLi
[
lu
 + 
c
 * 
row
] < 0&& (
	gmou
 > c * 
	grow
))

2720 
	gy
 = 
y
 - (
mou
 - 
lu
/ 
c
 - 1 + 
row
;

2721 
	glu
 = (
mou
 / 
c
 - 
row
 + 1) * col;

2722 i(
	gy
 >
row

y
 =ow - 1;

2724 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2725 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2727 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_geup
))

2730 
lu
 =u - 
c
 * 
row
;

2731 i(
	glu
 < 0)

2733 
	gy
 = 
y
 + 
lu
 / 
c
;

2734 
	glu
 = 0;

2735 i(
	gy
 < 0) y = 0;

2737 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2738 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2740 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_right
))

2742 
x
 = x + 1;

2743 i(
	gx
 >
c

x
 = 0;

2744 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2745 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2747 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_
))

2749 
x
 = x - 1;

2750 i(
	gx
 < 0x = 
c
 - 1;

2751 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2752 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2754 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_es
))

2756 
ReDw
;

2758 
	gsu
 = 
l
;

2759 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2762 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_tu
|| (
evt
.
key
.
keysym
.
sym
 =
sdlk_a
))

2764 
ReDw
;

2765 
	gCurIm
 = 
RImli
[
emli
[(
y
 * 
c
 + 
x
 + 
lu
)]].
Numb
;

2766 i((
	gg_Game
 <> 2&& (
	gCurIm
 >0&& (
emli
[(
y
 * 
c
 + 
x
 + 
lu
)] >= 0))

2767 
UIm
(
CurIm
);

2769 
	gsu
 = 
ue
;

2770 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2774 
	gSDL_MOUSEBUTTONUP
:

2776 i((
evt
.
bu
.bu =
sdl_bu_right
))

2778 
ReDw
;

2780 
	gsu
 = 
l
;

2781 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2784 i((
	gevt
.
	gbu
.bu =
sdl_bu_
))

2786 
ReDw
;

2787 
	gCurIm
 = 
RImli
[
emli
[(
y
 * 
c
 + 
x
 + 
lu
)]].
Numb
;

2788 i((
	gg_Game
 <> 2&& (
	gCurIm
 >0&& (
emli
[(
y
 * 
c
 + 
x
 + 
lu
)] >= 0))

2789 
UIm
(
CurIm
);

2791 
	gsu
 = 
ue
;

2792 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2795 i((
	gevt
.
	gbu
.bu =
sdl_bu_whldown
))

2797 
y
 = y + 1;

2798 i(
	gy
 < 0) y = 0;

2799 i((
	gy
 >
row
))

2801 i((
ImLi
[
lu
 + 
c
 * 5] >= 0))tlu =tlu + col;

2802 
	gy
 = 
row
 - 1;

2804 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2805 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2807 i((
	gevt
.
	gbu
.bu =
sdl_bu_whlup
))

2809 
y
 = y - 1;

2810 i(
	gy
 < 0)

2812 
	gy
 = 0;

2813 i(
	glu
 > 0lu = 
lu
 - 
c
;

2815 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2816 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2819 
	gSDL_MOUSEMOTION
:

2821 i((
evt
.
bu
.
x
 >110&& (evt.bu.x < 496&& (evt.bu.
y
 > 90) && (event.button.y < 308))

2823 
xp
 = 
x
;

2824 
	gyp
 = 
y
;

2825 
	gx
 = (
evt
.
bu
.
x
 - 115) / 42;

2826 
	gy
 = (
evt
.
bu
.
y
 - 95) / 42;

2827 i(
	gx
 >
c

x
 = col - 1;

2828 i(
	gy
 >
row

y
 =ow - 1;

2829 i(
	gx
 < 0) x = 0;

2830 i(
	gy
 < 0) y = 0;

2832 i((
	gx
 <> 
	gxp
|| (
	gy
 <> 
	gyp
))

2834 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2835 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2838 i((
	gevt
.
	gbu
.
	gx
 >110&& (
evt
.
bu
.
x
 < 496&& (evt.bu.
y
 > 308))

2841 i((
ImLi
[
lu
 + 
c
 * 5] >= 0))tlu =tlu + col;

2842 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2843 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2845 i((
	gevt
.
	gbu
.
	gx
 >110&& (
evt
.
bu
.
x
 < 496&& (evt.bu.
y
 < 90))

2847 i(
lu
 > 0lu =u - 
c
;

2848 
showMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
);

2849 
SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

2862 
funi
 
RdImLi
(
ImTy
 = 0) = 0;

2863 
v


2864 
	gi
 = 0;

2865 
	gp
 = 0;

2867 
	gp
 = 0;

2868 
	gi
 = 0 
to
 
ngth
(
ImLi
) - 1 do

2869 
ImLi
[
i
] = -1;

2870 
	gi
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

2872 i((
RImli
[
i
].
Numb
 >= 0))

2874 i((
Rem
[
RImli
[
i
].
Numb
].
ImTy
 == ItemType) || (ItemType == 100))

2876 
Imli
[
p
] = 
i
;

2877 
	gp
 = 
p
 + 1;

2881 
	gsu
 = 
p
;

2887 
	$ShowMuIm
(
row
, 
c
, 
x
, 
y
, 
lu
 = 0)()

2888 
v


2889 
em
 = 0;

2890 
i
 = 0;

2891 
i1
 = 0;

2892 
i2
 = 0;

2893 
n
 = 0;

2894 
n2
 = 0;

2895 
n3
 = 0;

2896 
linum
 = 0;

2897 
r
: 
widerg
;

2898 
wds
: 
y
[0..10] 
of
 
widerg
;

2899 
wds2
: 
y
[0..22] 
of
 
widerg
;

2900 
wds3
: 
y
[0..12] 
of
 
widerg
;

2901 
p2
: 
y
[0..22] 
of
 
g
;

2902 
p3
: 
y
[0..12] 
of
 
g
;

2904 
wds
[0] = " 劇情物品";

2905 
wds
[1] = " 神兵寶甲";

2906 
wds
[2] = " 武功秘笈";

2907 
wds
[3] = " 靈丹妙藥";

2908 
wds
[4] = " 傷人暗器";

2909 
wds2
[0] = " 生命"; words2[1] = " 生命"; words2[2] = " 中毒";

2910 
wds2
[3] = " 體力"; words2[4] = " 內力"; words2[5] = " 內力";

2911 
wds2
[6] = " 內力"; words2[7] = " 攻擊"; words2[8] = " 輕功";

2912 
wds2
[9] = " 防禦"; words2[10] = " 醫療"; words2[11] = " 用毒";

2913 
wds2
[12] = " 解毒"; words2[13] = " 抗毒"; words2[14] = " 拳掌";

2914 
wds2
[15] = " 御劍"; words2[16] = " 耍刀"; words2[17] = " 特殊";

2915 
wds2
[18] = " 暗器"; words2[19] = " 武學"; words2[20] = " 品德";

2916 
wds2
[21] = " 左右"; words2[22] = " 帶毒";

2918 
wds3
[0] = " 內力"; words3[1] = " 內力"; words3[2] = " 攻擊";

2919 
wds3
[3] = " 輕功"; words3[4] = " 用毒"; words3[5] = " 醫療";

2920 
wds3
[6] = " 解毒"; words3[7] = " 拳掌"; words3[8] = " 御劍";

2921 
wds3
[9] = " 耍刀"; words3[10] = " 特殊"; words3[11] = " 暗器";

2922 
wds3
[12] = " 資質";

2925 
ReDw
;

2926 
	`DwFmeReg
(110, 30, 386, 25, 0, 
	`COLOR
(255), 30);

2927 
	`DwFmeReg
(110, 60, 386, 25, 0, 
	`COLOR
(255), 30);

2928 
	`DwFmeReg
(110, 90, 386, 218, 0, 
	`COLOR
(255), 30);

2929 
	`DwFmeReg
(110, 313, 386, 25, 0, 
	`COLOR
(255), 30);

2931 
i1
 = 0 
to
 
row
 - 1 do

2932 
i2
 = 0 
to
 
c
 - 1 do

2934 
linum
 = 
ImLi
[
i1
 * 
c
 + 
i2
 + 
lu
];

2935 i((
RImli
[
linum
].
Numb
 >0&& (linum < 
MAX_ITEM_NUM
) && (listnum >= 0))

2937 
	`DwMPic
(
ITEM_BEGIN_PIC
 + 
RImli
[
linum
].
Numb
, 
i2
 * 42 + 115, 
i1
 * 42 + 95);

2940 
linum
 = 
emli
[
y
 * 
c
 + 
x
 + 
lu
];

2941 
em
 = 
RImli
[
linum
].
Numb
;

2943 i((
RImli
[
linum
].
Amou
 > 0&& (linum < 
MAX_ITEM_NUM
) && (listnum >= 0))

2945 
r
 = 
	`fm
("%5d", [
RImli
[
linum
].
Amou
]);

2946 
	`DwAhnumText
(
g_snSur
, @
r
[1], 431, 32, 
	`COLOR
(0x64));

2947 
	`DwAhnumText
(
g_snSur
, @
r
[1], 430, 32, 
	`COLOR
(0x66));

2948 
n
 = 
	`ngth
(
	`pch
(@
Rem
[
em
].
Name
));

2949 
	`dwbig5xt
(
g_snSur
, @
RIm
[
em
].
Name
, 296 - 
n
 * 5, 32, 
	`COLOR
(0x21));

2950 
	`dwbig5xt
(
g_snSur
, @
RIm
[
em
].
Name
, 295 - 
n
 * 5, 32, 
	`COLOR
(0x23));

2951 
n
 = 
	`ngth
(
	`pch
(@
Rem
[
em
].
Irodui
));

2952 
	`dwbig5xt
(
g_snSur
, @
RIm
[
em
].
Irodui
, 296 - 
n
 * 5, 62, 
	`COLOR
(0x5));

2953 
	`dwbig5xt
(
g_snSur
, @
RIm
[
em
].
Irodui
, 295 - 
n
 * 5, 62, 
	`COLOR
(0x7));

2954 
	`dwshadowxt
(@
wds
[
Rem
[
em
].
ImTy
, 1], 97, 315, 
	`COLOR
(0x23), COLOR(0x21));

2956 i(
RIm
[
em
].
Ur
 >= 0)

2958 
r
 = " 使用人：";

2959 
	`dwshadowxt
(@
r
[1], 187, 315, 
	`COLOR
(0x23), COLOR(0x21));

2960 
	`dwbig5shadowxt
(@
e
[
RIm
[
em
].
Ur
].
Name
, 277, 315, 
	`COLOR
(0x66), COLOR(0x64));

2963 i(
em
 =
COMPASS_ID
)

2965 
r
 = " 你的位置：";

2966 
	`dwshadowxt
(@
r
[1], 187, 315, 
	`COLOR
(0x23), COLOR(0x21));

2967 
r
 = 
	`fm
("%3d, %3d", [
My
, 
Mx
]);

2968 
	`dwgshadowxt
(@
r
[1], 317, 315, 
	`COLOR
(0x66), COLOR(0x64));

2973 i((
em
 >0&& (
rem
[em].
ImTy
 > 0))

2975 
n2
 = 0;

2976 
i
 = 0 
to
 22 do

2978 
p2
[
i
] = 0;

2979 i((
rem
[
em
].
Da
[45 + 
i
] <> 0) && (i <> 4))

2981 
p2
[
i
] = 1;

2982 
n2
 =en2 + 1;

2985 i(
rem
[
em
].
ChgeMPTy
 == 2)

2987 
p2
[4] = 1;

2988 
n2
 =en2 + 1;

2991 
n3
 = 0;

2992 
i
 = 0 
to
 12 do

2994 
p3
[
i
] = 0;

2995 i((
rem
[
em
].
Da
[69 + 
i
] <> 0) && (i <> 0))

2997 
p3
[
i
] = 1;

2998 
n3
 =en3 + 1;

3001 i((
rem
[
em
].
NdMPTy
 

 [0, 1]&& (rem[em].
ImTy
 <> 3))

3003 
p3
[0] = 1;

3004 
n3
 =en3 + 1;

3007 i(
n2
 + 
n3
 > 0)

3008 
	`DwFmeReg
(110, 344, 386, 20 * ((
n2
 + 2/ 3 + (
n3
 + 2/ 3+ 5, 0, 
	`COLOR
(255), 30);

3010 
i1
 = 0;

3011 
i
 = 0 
to
 22 do

3013 i((
p2
[
i
] == 1))

3015 
r
 = 
	`fm
("%6d", [
rem
[
em
].
Da
[45 + 
i
]]);

3016 i(
i
 == 4)

3017 
rem
[
em
].
ChgeMPTy
) {

3018 0: 
r
 = " 陰";

3019 1: 
r
 = " 陽";

3020 2: 
r
 = " 調和";

3023 
	`dwshadowxt
(@
wds2
[
i
][1], 97 + 
i1
 
mod
 3 * 130, i1 / 3 * 20 + 346, 
	`COLOR
(0x7), COLOR(0x5));

3024 
	`dwshadowxt
(@
r
[1], 147 + 
i1
 
mod
 3 * 130, i1 / 3 * 20 + 346, 
	`COLOR
(0x66), COLOR(0x64));

3025 
i1
 = i1 + 1;

3029 
i1
 = 0;

3030 
i
 = 0 
to
 12 do

3032 i((
p3
[
i
] == 1))

3034 
r
 = 
	`fm
("%6d", [
rem
[
em
].
Da
[69 + 
i
]]);

3035 i(
i
 == 0)

3036 
rem
[
em
].
NdMPTy
) {

3037 0: 
r
 = " 陰";

3038 1: 
r
 = " 陽";

3039 2: 
r
 = " 調和";

3042 
	`dwshadowxt
(@
wds3
[
i
][1], 97 + 
i1
 
mod
 3 * 130, ((
n2
 + 2/ 3 + i1 / 3* 20 + 346, 
	`COLOR
(0x50), COLOR(0x4E));

3043 
	`dwshadowxt
(@
r
[1], 147 + 
i1
 
mod
 3 * 130, ((
n2
 + 2/ 3 + i1 / 3* 20 + 346, 
	`COLOR
(0x66), COLOR(0x64));

3044 
i1
 = i1 + 1;

3049 
	`dwImame
(
x
, 
y
);

3051 
	}
}

3055 
	$DwImFme
(
x
, 
y
 = 0)()

3056 
v


3057 
i
 = 0;

3059 
i
 = 0 
to
 39 do

3061 
	`puix
(
g_snSur
, 
x
 * 42 + 116 + 
i
, 
y
 * 42 + 96, 
	`COLOR
(255));

3062 
	`puix
(
g_snSur
, 
x
 * 42 + 116 + 
i
, 
y
 * 42 + 96 + 39, 
	`COLOR
(255));

3063 
	`puix
(
g_snSur
, 
x
 * 42 + 116, 
y
 * 42 + 96 + 
i
, 
	`COLOR
(255));

3064 
	`puix
(
g_snSur
, 
x
 * 42 + 116 + 39, 
y
 * 42 + 96 + 
i
, 
	`COLOR
(255));

3067 
	}
}

3071 
	$UIm
(
um
 = 0)()

3072 
v


3073 
x
 = 0;

3074 
y
 = 0;

3075 
mu
 = 0;

3076 
um
 = 0;

3077 
p
 = 0;

3078 
r
, 
r1
: 
widerg
;

3080 
CurIm
 = 
um
;

3082 
RIm
[
um
].
ImTy
) {

3086 i(
rem
[
um
].
UnKnow7
 > 0)

3087 
	`evt
(
rem
[
um
].
UnKnow7
)

3089 i(
g_Game
 == 1)

3091 
x
 = 
Sx
;

3092 
y
 = 
Sy
;

3093 
g_sFa
) {

3094 0: 
x
 = x - 1;

3095 1: 
y
 = y + 1;

3096 2: 
y
 = y - 1;

3097 3: 
x
 = x + 1;

3100 i(
g_curSnDa
[ 3, 
x
, 
y
] >= 0)

3102 
g_curEvt
 = 
g_curSnDa
[ 3, 
x
, 
y
];

3103 i(
g_curSnEvtDa
[ 
g_curSnDa
[ 3, 
x
, 
y
], 3] >= 0)

3104 
	`evt
(
g_curSnEvtDa
[ 
g_curSnDa
[ 3, 
x
, 
y
], 3]);

3106 
g_curEvt
 = -1;

3112 
mu
 = 1;

3113 i(
Rem
[
um
].
Ur
 >= 0)

3115 
	`gth
(
murg
, 2);

3116 
murg
[0] = " 取消";

3117 
murg
[1] = " 繼續";

3118 
r
 = " 此物品正有人裝備，是否繼續？";

3119 
	`dwxtwh
(@
r
[1], 80, 30, 285, 
	`COLOR
(7), COLOR(5));

3120 
mu
 = 
	`commmu
(80, 65, 45, 1);

3122 i(
mu
 == 1)

3124 
r
 = " 誰要裝備";

3125 
r1
 = 
	`big5toUTF8
(@
Rem
[
um
].
Name
);

3126 
	`dwxtwh
(@
r
[1], 80, 30, 
	`ngth
(
r1
* 22 + 80, 
	`COLOR
(0x23), COLOR(0x21));

3127 
	`dwshadowxt
(@
r1
[1], 160, 32, 
	`COLOR
(0x66), COLOR(0x64));

3128 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3129 
mu
 = 
	`SeOTmMemb
(80, 65, "", 0, 0);

3130 i(
mu
 >= 0)

3132 
um
 = 
Tmli
[
mu
];

3133 
p
 = 
Rem
[
um
].
EquTy
;

3134 i((
p
 < 0) || (p > 1)) = 0;

3135 i(
	`qu
(
um
, 
um
))

3137 i(
Rem
[
um
].
Ur
 >0
Rre
[Rem[um].Ur].
Equ
[
p
] = -1;

3138 i(
Rre
[
um
].
Equ
[
p
] >0
Rem
[
RRe
[um].Equ[p]].
Ur
 = -1;

3139 
Rre
[
um
].
Equ
[
p
] = 
um
;

3140 
Rem
[
um
].
Ur
 = 
um
;

3143 
r
 = " 此人不適合裝備此物品";

3144 
	`dwxtwh
(@
r
[1], 80, 30, 205, 
	`COLOR
(0x66), COLOR(0x64));

3145 
WaKey
;

3146 
dw
;

3154 
mu
 = 1;

3155 i(
Rem
[
um
].
Ur
 >= 0)

3157 
	`gth
(
murg
, 2);

3158 
murg
[0] = " 取消";

3159 
murg
[1] = " 繼續";

3160 
r
 = " 此秘笈正有人修煉，是否繼續？";

3161 
	`dwxtwh
(@
r
[1], 80, 30, 285, 
	`COLOR
(7), COLOR(5));

3162 
mu
 = 
	`commmu
(80, 65, 45, 1);

3164 i(
mu
 == 1)

3166 
r
 = " 誰要修煉";

3167 
r1
 = 
	`big5toUTF8
(@
Rem
[
um
].
Name
);

3168 
	`dwxtwh
(@
r
[1], 80, 30, 
	`ngth
(
r1
* 22 + 80, 
	`COLOR
(0x23), COLOR(0x21));

3169 
	`dwshadowxt
(@
r1
[1], 160, 32, 
	`COLOR
(0x66), COLOR(0x64));

3170 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3171 
mu
 = 
	`SeOTmMemb
(80, 65, "", 0, 0);

3172 i(
mu
 >= 0)

3174 
um
 = 
TmLi
[
mu
];

3175 i(
	`qu
(
um
, 
um
))

3177 i(
Rem
[
um
].
Ur
 >0
Rre
[Rem[um].Ur].
PiBook
 = -1;

3178 i(
Rre
[
um
].
PiBook
 >0
Rem
[
RRe
[um].PiBook].
Ur
 = -1;

3179 
Rre
[
um
].
PiBook
 = 
um
;

3180 
Rem
[
um
].
Ur
 = 
um
;

3181 i((
um
 

 [78, 93])
e
[
um
].
Sexu
 = 2;

3184 
r
 = " 此人不適合修煉此秘笈";

3185 
	`dwxtwh
(@
r
[1], 80, 30, 205, 
	`COLOR
(0x66), COLOR(0x64));

3186 
WaKey
;

3187 
dw
;

3195 i(
g_Game
 <> 2)

3197 
r
 = " 誰要服用";

3198 
r1
 = 
	`big5toUTF8
(@
Rem
[
um
].
Name
);

3199 
	`dwxtwh
(@
r
[1], 80, 30, 
	`ngth
(
r1
* 22 + 80, 
	`COLOR
(0x23), COLOR(0x21));

3200 
	`dwshadowxt
(@
r1
[1], 160, 32, 
	`COLOR
(0x66), COLOR(0x64));

3201 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3202 
mu
 = 
	`SeOTmMemb
(80, 65, "", 0, 0);

3203 
um
 = 
TmLi
[
mu
];

3205 i(
mu
 >= 0)

3207 
dw
;

3208 
	`EOIm
(
um
, 
um
);

3209 
	`ru_32
(
um
, -1);

3210 
WaKey
;

3219 
	}
}

3223 
funi
 
	$CEqu
(
um
, 
um
 = 0): 
boޗn
;

3224 
v


3225 
i
 = 0;

3226 
r
 = 0;

3232 
su
 = 
ue
;

3234 i(
	`sign
(
Rem
[
um
].
NdMP
* 
Rre
[
um
].
CutMP
 < Rem[um].NdMP
su
 = 
l
;

3235 i(
	`sign
(
Rem
[
um
].
NdAack
* 
Rre
[
um
].
Aack
 < Rem[um].NdAack
su
 = 
l
;

3236 i(
	`sign
(
Rem
[
um
].
NdSed
* 
Rre
[
um
].
Sed
 < Rem[um].NdSed
su
 = 
l
;

3237 i(
	`sign
(
Rem
[
um
].
NdUPoi
* 
Rre
[
um
].
UPoi
 < Rem[um].
NdUpoi

su
 = 
l
;

3238 i(
	`sign
(
Rem
[
um
].
NdMedce
* 
Rre
[
um
].
Medce
 < Rem[um].NdMedce
su
 = 
l
;

3239 i(
	`sign
(
Rem
[
um
].
NdMedPoi
* 
Rre
[
um
].
MedPoi
 < Rem[um].NdMedPoi
su
 = 
l
;

3240 i(
	`sign
(
Rem
[
um
].
NdFi
* 
Rre
[
um
].
Fi
 < Rem[um].NdFi
su
 = 
l
;

3241 i(
	`sign
(
Rem
[
um
].
NdSwd
* 
Rre
[
um
].
Swd
 < Rem[um].NdSwd
su
 = 
l
;

3242 i(
	`sign
(
Rem
[
um
].
NdKni
* 
Rre
[
um
].
Kni
 < Rem[um].NdKni
su
 = 
l
;

3243 i(
	`sign
(
Rem
[
um
].
NdUnusu
* 
Rre
[
um
].
Unusu
 < Rem[um].NdUnusu
su
 = 
l
;

3244 i(
	`sign
(
Rem
[
um
].
NdHidWp
* 
Rre
[
um
].
HidWp
 < Rem[um].NdHidWp
su
 = 
l
;

3245 i(
	`sign
(
Rem
[
um
].
NdAude
* 
Rre
[
um
].
Aude
 < Rem[um].NdAude
su
 = 
l
;

3248 i((
e
[
um
].
MPTy
 < 2&& (
Rem
[
um
].
NdMPTy
 < 2))

3249 i(
e
[
um
].
MPTy
 <> 
Rem
[
um
].
NdMPTy

su
 = 
l
;

3252 i((
Rem
[
um
].
OyPcRe
 >0&& (
su
 =
ue
))

3253 i((
Rem
[
um
].
OyPcRe
 =
um
)
su
 = 
ue
 su = 
l
;

3256 
r
 = 0;

3257 
i
 = 0 
to
 9 do

3258 i(
Rre
[
um
].
Magic
[
i
] > 0
r
 = + 1;

3259 i((
r
 >10&& (
rem
[
um
].
Magic
 > 0)
su
 = 
l
;

3261 
i
 = 0 
to
 9 do

3262 i(
Rre
[
um
].
Magic
[
i
] =
rem
[
um
].Magic)

3264 
su
 = 
ue
;

3268 
	}
}

3271 
	$MuStus
()

3272 
v


3273 
r
: 
widerg
;

3274 
mu
 = 0;

3276 
r
 = " 查看隊員狀態";

3277 
	`dwxtwh
(@
r
[1], 80, 30, 132, 
	`COLOR
(0x23), COLOR(0x21));

3278 
mu
 = 
	`SeOTmMemb
(80, 65, "%3d", 15, 0);

3279 i(
mu
 >= 0)

3282 
WaKey
;

3283 
dw
;

3284 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3287 
	}
}

3290 
bo
 
	$MagicLeveup
(
re
, * 
xtLevExp
)

3292 
bo
 
vup
 = 
FALSE
;

3293 
T_Re
* 
ho
 = &
g_reDa
.
res
[
re
];

3294 *
xtLevExp
 = 
MAGIC_NEXT_EXP_NOTHING
;

3295 i(
ho
->
aiBook
 >= 0)

3297 
v
 = 0;

3298 
magic
 = 
g_reDa
.
ems
[
ho
->
aiBook
].magic;

3299 i(
magic
 > 0) {

3300 
i
;

3301 
i
 = 0; i < 
MAGIC_MAX_NUM
; i++) {

3302 i(
ho
->
magic
[
i
] == magic)

3304 
v
 = 
ho
->
magLev
[
i
] / 100 + 1;

3309 i(
v
) {

3310 i(
v
 < 
MAGIC_MAX_LEVEL
) {

3311 *
xtLevExp
 = 
v
 * 
g_reDa
.
ems
[
ho
->
aiBook
].
edExp
 * (7 - ho->
tude
 / 15);

3312 i(
ho
->
expFBook
 >*
xtLevExp
 && 
v
 < 10) {

3313 
vup
 = 
TRUE
;

3316 *
xtLevExp
 = 
MAGIC_NEXT_EXP_NA
;

3322  
vup
;

3323 
	}
}

3326 
	$ShowStus
(
re
)

3328 
T_Re
* 
ho
 = &
g_reDa
.
res
[
re
];

3330 
	`DwFmeReg
(
STATUS_FRAME_X
, 
STATUS_FRAME_Y
, 
STATUS_FRAME_W
, 
STATUS_FRAME_H
, 0xff, 0, 
FRAME_TEXT_ALPHA
);

3333 
	`DwFaPic
(
ho
->
Index
, 
STATUS_FACE_X
, 
STATUS_FACE_Y
);

3336 * 
big5
 = 
ho
->
me
;

3337 
size_t
 
big5L
 = 
	`
(
big5
);

3338 
utf8
[
NAME_UTF8_LEN
] = {'\0'};

3339 
size_t
 
utf8L
 = 
NAME_UTF8_LEN
;

3341 * 

 = 
big5
;

3342 * 
out
 = 
utf8
;

3343 
	`icv
(
g_big5ToUtf8
, &

, &
big5L
, &
out
, &
utf8L
);

3344 
	`DwShadowText
(
utf8
, 
STATUS_NAME_X
, 
STATUS_NAME_Y
, 
TEXT_NORMAL_COLOR
);

3347 
r
[20];

3348 
ut8
 
c
 = 
TEXT_COLOR
;

3349 
T_Posi
 
pos
;

3352 
	`DwShadowText
("等級", 
	`STATUS_TEXT_X
(0), 
	`STATUS_TEXT_Y
(5), 
TEXT_COLOR
);

3353 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
v
);

3354 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(1), 
	`STATUS_TEXT_Y
(5), 
TEXT_COLOR
);

3356 
	`DwShadowText
("生命", 
	`STATUS_TEXT_X
(0), 
	`STATUS_TEXT_Y
(6), 
TEXT_COLOR
);

3357 i(
ho
->
wound
 > 
WOUND_FATAL
) {

3358 
c
 = 
TEXT_FATAL_COLOR
;

3359 } i(
ho
->
wound
 > 
WOUND_SERIOUS
) {

3360 
c
 = 
TEXT_SERIOUS_COLOR
;

3362 
c
 = 
TEXT_NORMAL_COLOR
;

3364 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
ho
->
li
);

3365 
pos
 = 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(1), 
	`STATUS_TEXT_Y
(6), 
c
);

3366 
pos
 = 
	`DwShadowText
("/",os.
x
, 
	`STATUS_TEXT_Y
(6), 
TEXT_COLOR
);

3367 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
ho
->
maxLi
);

3368 i(
ho
->
poisiښg
 > 
WOUND_FATAL
) {

3369 
c
 = 
TEXT_FATAL_COLOR
;

3370 } i(
ho
->
wound
 > 
WOUND_SERIOUS
) {

3371 
c
 = 
TEXT_SERIOUS_COLOR
;

3373 
c
 = 
TEXT_NORMAL_COLOR
;

3375 
	`DwShadowText
(
r
, 
pos
.
x
, 
	`STATUS_TEXT_Y
(6), 
c
);

3377 
	`DwShadowText
("内力", 
	`STATUS_TEXT_X
(0), 
	`STATUS_TEXT_Y
(7), 
TEXT_COLOR
);

3378 
ho
->
ÞiTy
) {

3379 
EmMPY
:

3380 
c
 = 
TEXT_YIN_COLOR
;

3382 
EmMPYg
:

3383 
c
 = 
TEXT_YANG_COLOR
;

3385 
EmMPUnifd
:

3387 
c
 = 
TEXT_NORMAL_COLOR
;

3390 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
ho
->
Þi
);

3391 
pos
 = 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(1), 
	`STATUS_TEXT_Y
(7), 
c
);

3392 
pos
 = 
	`DwShadowText
("/",os.
x
, 
	`STATUS_TEXT_Y
(7), 
TEXT_COLOR
);

3393 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
ho
->
maxNei
);

3394 
	`DwShadowText
(
r
, 
pos
.
x
, 
	`STATUS_TEXT_Y
(7), 
c
);

3396 
	`DwShadowText
("體力", 
	`STATUS_TEXT_X
(0), 
	`STATUS_TEXT_Y
(8), 
TEXT_COLOR
);

3397 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
ho
->
phyPow
);

3398 
pos
 = 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(1), 
	`STATUS_TEXT_Y
(8), 
TEXT_NORMAL_COLOR
);

3399 
pos
 = 
	`DwShadowText
("/",os.
x
, 
	`STATUS_TEXT_Y
(8), 
TEXT_COLOR
);

3400 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
MAX_PHYSICAL_POWER
);

3401 
	`DwShadowText
(
r
, 
pos
.
x
, 
	`STATUS_TEXT_Y
(8), 
TEXT_NORMAL_COLOR
);

3403 
	`DwShadowText
("經驗", 
	`STATUS_TEXT_X
(0), 
	`STATUS_TEXT_Y
(9), 
TEXT_COLOR
);

3404 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
exp
);

3405 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(1), 
	`STATUS_TEXT_Y
(9), 
TEXT_NORMAL_COLOR
);

3407 
	`DwShadowText
("升級", 
	`STATUS_TEXT_X
(0), 
	`STATUS_TEXT_Y
(10), 
TEXT_COLOR
);

3408 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
g_vupLi
[
ho
->
v
 - 1]);

3409 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(1), 
	`STATUS_TEXT_Y
(10), 
TEXT_NORMAL_COLOR
);

3411 
	`DwShadowText
("資質", 
	`STATUS_TEXT_X
(0), 
	`STATUS_TEXT_Y
(13), 
TEXT_COLOR
);

3412 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
tude
);

3413 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(1), 
	`STATUS_TEXT_Y
(13), 
TEXT_NORMAL_COLOR
);

3416 
	`DwShadowText
("裝備物品", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(11), 
TEXT_COLOR
);

3417 
T_Im
 
em
;

3418 
	`memt
(&
em
, 0, (item));

3419 
i
;

3420 
i
 = 0; i < 2; i++) {

3421 i(
ho
->
equ
[
i
] >= 0)

3423 
em
.
addLi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addLife;

3424 
em
.
addMaxLi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addMaxLife;

3425 
em
.
addPoi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addPoi;

3426 
em
.
addPhyPow
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addPhyPower;

3427 
em
.
chgeNeiTy
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].changeNeiliType;

3428 
em
.
addNei
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addNeili;

3429 
em
.
addMaxNei
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addMaxNeili;

3430 
em
.
addAack
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addAttack;

3431 
em
.
addSed
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addSpeed;

3432 
em
.
addDen
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addDefence;

3433 
em
.
addMedce
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addMedcine;

3434 
em
.
addUPoi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addUsePoi;

3435 
em
.
addMedPoi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addMedPoi;

3436 
em
.
addDefPoi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addDefPoi;

3437 
em
.
addFi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addFist;

3438 
em
.
addSwd
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addSword;

3439 
em
.
addBde
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addBlade;

3440 
em
.
addUnusu
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addUnusual;

3441 
em
.
addHidWp
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addHidWeapon;

3442 
em
.
addKnowdge
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addKnowledge;

3443 
em
.
addEthics
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addEthics;

3444 
em
.
addATwi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addAttTwice;

3445 
em
.
addAPoi
 +
g_reDa
.
ems
[
ho
->
equ
[
i
]].addAttPoi;

3447 
	`DwBig5ShadowText
(
g_reDa
.
ems
[
ho
->
equ
[
i
]].
me
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(12 + i), 
TEXT_NORMAL_COLOR
);

3450 
	`DwShadowText
("攻擊", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(0), 
TEXT_COLOR
);

3451 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
ck
 + 
em
.
addAack
);

3452 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(0), 
TEXT_NORMAL_COLOR
);

3454 
	`DwShadowText
("防禦", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(1), 
TEXT_COLOR
);

3455 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
den
 + 
em
.
addDen
);

3456 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(1), 
TEXT_NORMAL_COLOR
);

3458 
	`DwShadowText
("輕功", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(2), 
TEXT_COLOR
);

3459 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
d
 + 
em
.
addSed
);

3460 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(2), 
TEXT_NORMAL_COLOR
);

3462 
	`DwShadowText
("醫療能力", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(3), 
TEXT_COLOR
);

3463 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
medce
 + 
em
.
addMedce
);

3464 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(3), 
TEXT_NORMAL_COLOR
);

3466 
	`DwShadowText
("用毒能力", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(4), 
TEXT_COLOR
);

3467 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
uPoi
 + 
em
.
addUPoi
);

3468 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(4), 
TEXT_NORMAL_COLOR
);

3470 
	`DwShadowText
("解毒能力", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(5), 
TEXT_COLOR
);

3471 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
medPoi
 + 
em
.
addMedPoi
);

3472 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(5), 
TEXT_NORMAL_COLOR
);

3474 
	`DwShadowText
("拳掌功夫", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(6), 
TEXT_COLOR
);

3475 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
fi
 + 
em
.
addFi
);

3476 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(6), 
TEXT_NORMAL_COLOR
);

3478 
	`DwShadowText
("御劍能力", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(7), 
TEXT_COLOR
);

3479 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
swd
 + 
em
.
addSwd
);

3480 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(7), 
TEXT_NORMAL_COLOR
);

3482 
	`DwShadowText
("耍刀技巧", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(8), 
TEXT_COLOR
);

3483 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
bde
 + 
em
.
addBde
);

3484 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(8), 
TEXT_NORMAL_COLOR
);

3486 
	`DwShadowText
("特殊兵器", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(9), 
TEXT_COLOR
);

3487 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
unusu
 + 
em
.
addUnusu
);

3488 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(9), 
TEXT_NORMAL_COLOR
);

3490 
	`DwShadowText
("暗器技巧", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(10), 
TEXT_COLOR
);

3491 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
hidWp
 + 
em
.
addHidWp
);

3492 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(10), 
TEXT_NORMAL_COLOR
);

3494 
	`DwShadowText
("受傷", 
	`STATUS_TEXT_X
(2), 
	`STATUS_TEXT_Y
(13), 
TEXT_COLOR
);

3495 i(
ho
->
wound
 > 
WOUND_FATAL
) {

3496 
c
 = 
TEXT_FATAL_COLOR
;

3497 } i(
ho
->
wound
 > 
WOUND_SERIOUS
) {

3498 
c
 = 
TEXT_SERIOUS_COLOR
;

3500 
c
 = 
TEXT_NORMAL_COLOR
;

3502 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
wound
);

3503 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(3), 
	`STATUS_TEXT_Y
(13), 
c
);

3506 
	`DwShadowText
("所會武功", 
	`STATUS_TEXT_X
(4), 
	`STATUS_TEXT_Y
(0), 
TEXT_COLOR
);

3507 
i
 = 0; i < 10; i++) {

3508 
magic
 = 
ho
->magic[
i
];

3509 i(
magic
 > 0)

3511 
	`DwBig5ShadowText
(
g_reDa
.
magics
[
magic
].
me
, 
	`STATUS_TEXT_X
(4), 
	`STATUS_TEXT_Y
(
i
 + 1), 
TEXT_NORMAL_COLOR
);

3512 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
magLev
[
i
] / 100 + 1);

3513 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(5), 
	`STATUS_TEXT_Y
(
i
 + 1), 
TEXT_NORMAL_COLOR
);

3517 
	`DwShadowText
("修煉物品", 
	`STATUS_TEXT_X
(4), 
	`STATUS_TEXT_Y
(11), 
TEXT_COLOR
);

3518 
xtLevExp
 = 
MAGIC_NEXT_EXP_NOTHING
;

3519 
	`MagicLeveup
(
re
, &
xtLevExp
);

3520 
xtLevExp
) {

3521 
MAGIC_NEXT_EXP_NOTHING
:

3523 
MAGIC_NEXT_EXP_NA
:

3524 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
ho
->
expFBook
);

3525 
pos
 = 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(5), 
	`STATUS_TEXT_Y
(11), 
TEXT_NORMAL_COLOR
);

3526 
pos
 = 
	`DwShadowText
("/",os.
x
, 
	`STATUS_TEXT_Y
(11), 
TEXT_COLOR
);

3527 
	`DwShadowText
("=", 
pos
.
x
, 
	`STATUS_TEXT_Y
(11), 
TEXT_NORMAL_COLOR
);

3530 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
ho
->
expFBook
);

3531 
pos
 = 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(5), 
	`STATUS_TEXT_Y
(11), 
TEXT_NORMAL_COLOR
);

3532 
pos
 = 
	`DwShadowText
("/",os.
x
, 
	`STATUS_TEXT_Y
(11), 
TEXT_COLOR
);

3533 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_2
, 
xtLevExp
);

3534 
	`DwShadowText
(
r
, 
pos
.
x
, 
	`STATUS_TEXT_Y
(11), 
TEXT_NORMAL_COLOR
);

3538 
	`DwShadowText
("中毒", 
	`STATUS_TEXT_X
(4), 
	`STATUS_TEXT_Y
(13), 
TEXT_COLOR
);

3539 i(
ho
->
poisiښg
 > 
WOUND_FATAL
) {

3540 
c
 = 
TEXT_FATAL_COLOR
;

3541 } i(
ho
->
wound
 > 
WOUND_SERIOUS
) {

3542 
c
 = 
TEXT_SERIOUS_COLOR
;

3544 
c
 = 
TEXT_NORMAL_COLOR
;

3546 
	`rtf
(
r
, 
STATUS_NUM_FORMAT_1
, 
ho
->
poisiښg
);

3547 
	`DwShadowText
(
r
, 
	`STATUS_TEXT_X
(5), 
	`STATUS_TEXT_Y
(13), 
c
);

3549 
	`UpdeSn
();

3550 
	}
}

3555 
	$MuLve
()

3556 
v


3557 
r
: 
widerg
;

3558 
i
 = 0;

3559 
mu
 = 0;

3561 
r
 = " 要求誰離隊？";

3562 
	`dwxtwh
(@
r
[1], 80, 30, 132, 
	`COLOR
(0x23), COLOR(0x21));

3563 
mu
 = 
	`SeOTmMemb
(80, 65, "%3d", 15, 0);

3564 i(
mu
 >= 0)

3566 
i
 = 0 
to
 99 do

3567 i(
g_aveLi
[
i
] =
TmLi
[
mu
])

3569 
	`evt
(
BEGIN_LEAVE_EVENT
 + 
i
 * 2);

3573 
dw
;

3575 
	}
}

3579 
	$MuSyem
()

3580 
v


3581 
i
 = 0;

3582 
mu
 = 0;

3583 
mup
 = 0;

3585 
mu
 = 0;

3586 
	`showmusyem
(
mu
);

3587 
	`SDL_WaEvt
(@
evt
) >= 0) do

3589 i(
g_Game
 == 3) ;

3590 
evt
.
ty
) {

3591 
SDL_QUITEV
:

3592 i(
	`mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

3593 
SDL_KEYUP
:

3595 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_down
))

3597 
mu
 = menu + 1;

3598 i(
mu
 > 3) menu = 0;

3599 
	`showMusyem
(
mu
);

3601 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_up
))

3603 
mu
 = menu - 1;

3604 i(
mu
 < 0) menu = 3;

3605 
	`showMusyem
(
mu
);

3607 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_es
))

3609 
dw
;

3610 
	`SDL_UpdeRe
(
g_snSur
, 80, 30, 47, 95);

3613 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_tu
|| (evt.key.keysym.sym =
sdlk_a
))

3615 
mu
) {

3618 
MuQu
;

3622 
MuSave
;

3626 
Muld
;

3630 i(
g_fuSn
 == 1)

3631 
g_snSur
 = 
	`SDL_SVideoMode
(
SCREEN_CENTER_X
 * 2, 
SCREEN_CENTER_Y
 * 2, 32, 
SDL_SWSURFACE
 || 
SDL_DOUBLEBUF
 || 
SDL_ANYFORMAT
)

3633 
g_snSur
 = 
	`SDL_SVideoMode
(
SCREEN_CENTER_X
 * 2, 
SCREEN_CENTER_Y
 * 2, 32, 
SDL_FULLSCREEN
);

3634 
g_fuSn
 = 1 - g_fullScreen;

3640 
SDL_MOUSEBUTTONUP
:

3642 i((
evt
.
bu
.bu =
sdl_bu_right
))

3644 
dw
;

3645 
	`SDL_UpdeRe
(
g_snSur
, 80, 30, 47, 95);

3648 i((
evt
.
bu
.bu =
sdl_bu_
))

3649 
mu
) {

3652 
MuQu
;

3656 
MuSave
;

3660 
Muld
;

3664 i(
g_fuSn
 == 1)

3665 
g_snSur
 = 
	`SDL_SVideoMode
(
SCREEN_CENTER_X
 * 2, 
SCREEN_CENTER_Y
 * 2, 32, 
SDL_SWSURFACE
 || 
SDL_DOUBLEBUF
 || 
SDL_ANYFORMAT
)

3667 
g_snSur
 = 
	`SDL_SVideoMode
(
SCREEN_CENTER_X
 * 2, 
SCREEN_CENTER_Y
 * 2, 32, 
SDL_FULLSCREEN
);

3668 
g_fuSn
 = 1 - g_fullScreen;

3673 
SDL_MOUSEMOTION
:

3675 i((
evt
.
bu
.
x
 >80&& (evt.bu.x < 127&& (evt.bu.
y
 > 47) && (event.button.y < 120))

3677 
mup
 = 
mu
;

3678 
mu
 = (
evt
.
bu
.
y
 - 32) / 22;

3679 i(
mu
 > 3) menu = 3;

3680 i(
mu
 < 0) menu = 0;

3681 i(
mup
 <> 
mu

	`showMusyem
(menu);

3687 
	}
}

3691 
	$ShowMuSyem
(
mu
 = 0)()

3692 
v


3693 
wd
: 
y
[0..3] 
of
 
Widerg
;

3694 
i
 = 0;

3696 
Wd
[0] = " 讀取";

3697 
Wd
[1] = " 存檔";

3698 
Wd
[2] = " 全屏";

3699 
Wd
[3] = " 離開";

3700 i(
g_fuSn
 =1
Wd
[2] = " 窗口";

3701 
ReDw
;

3702 
	`DwFmeReg
(80, 30, 46, 92, 0, 
	`COLOR
(255), 30);

3703 
i
 = 0 
to
 3 do

3704 i(
i
 =
mu
)

3706 
	`dwxt
(
g_snSur
, @
wd
[
i
][1], 64, 32 + 22 * i, 
	`COLOR
(0x64));

3707 
	`dwxt
(
g_snSur
, @
wd
[
i
][1], 63, 32 + 22 * i, 
	`COLOR
(0x66));

3710 
	`dwxt
(
g_snSur
, @
wd
[
i
][1], 64, 32 + 22 * i, 
	`COLOR
(0x5));

3711 
	`dwxt
(
g_snSur
, @
wd
[
i
][1], 63, 32 + 22 * i, 
	`COLOR
(0x7));

3713 
	`SDL_UpdeRe
(
g_snSur
, 80, 30, 47, 93);

3715 
	}
}

3719 
	$MuLd
()

3720 
v


3721 
mu
 = 0;

3723 
	`gth
(
murg
, 5);

3724 
	`gth
(
Mugrg
, 0);

3725 
murg
[0] = " 進度一";

3726 
murg
[1] = " 進度二";

3727 
murg
[2] = " 進度三";

3728 
murg
[3] = " 進度四";

3729 
murg
[4] = " 進度五";

3730 
mu
 = 
	`commmu
(133, 30, 67, 4);

3731 i(
mu
 >= 0)

3733 
	`LdGame
(
mu
 + 1);

3734 
Redw
;

3735 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3736 
	`ShowMu
(5);

3737 
	`ShowMusyem
(0);

3740 
	}
}

3744 
	$MuLdAtBegng
()

3745 
v


3746 
mu
 = 0;

3748 
Redw
;

3749 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3750 
	`gth
(
murg
, 5);

3751 
	`gth
(
Mugrg
, 0);

3752 
murg
[0] = " 載入進度一";

3753 
murg
[1] = " 載入進度二";

3754 
murg
[2] = " 載入進度三";

3755 
murg
[3] = " 載入進度四";

3756 
murg
[4] = " 載入進度五";

3757 
mu
 = 
	`commmu
(265, 190, 107, 4);

3758 i(
mu
 >= 0)

3760 
	`LdGame
(
mu
 + 1);

3761 
g_Game
 = 0;

3762 
Redw
;

3763 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3766 
	}
}

3770 
	$MuSave
()

3771 
v


3772 
mu
 = 0;

3774 
	`gth
(
murg
, 5);

3775 
murg
[0] = " 進度一";

3776 
murg
[1] = " 進度二";

3777 
murg
[2] = " 進度三";

3778 
murg
[3] = " 進度四";

3779 
murg
[4] = " 進度五";

3780 
mu
 = 
	`commmu
(133, 30, 67, 4);

3781 i(
mu
 >0
	`SaveGame
(menu + 1);

3783 
	}
}

3787 
	$MuQu
()

3788 
v


3789 
mu
 = 0;

3791 
	`gth
(
murg
, 2);

3792 
murg
[0] = " 取消";

3793 
murg
[1] = " 確定";

3794 
mu
 = 
	`commmu
(133, 30, 45, 1);

3795 i(
mu
 == 1)

3797 
Qu
;

3800 
	}
}

3805 
	$EfMedce
(
re1
, 
re2
 = 0)()

3806 
v


3807 
wd
: 
widerg
;

3808 
addli
 = 0;

3810 
addli
 = 
Rre
[
re1
].
Medce
 * (10 - Rre[
re2
].
Hu
 / 15) / 10;

3811 i(
Rre
[
re2
].
Hu
 - Rre[
re1
].
Medce
 > 20
addli
 = 0;

3812 
Rre
[
re2
].
Hu
 = Rre[re2].Hu - 
addli
 / 
LIFE_HURT
;

3813 i(
RRe
[
re2
].
Hu
 < 0) RRole[role2].Hurt = 0;

3814 i(
addli
 > 
RRe
[
re2
].
MaxHP
 - 
Rre
[re2].
CutHP
)ddlife = RRole[role2].MaxHP - Rrole[role2].CurrentHP;

3815 
Rre
[
re2
].
CutHP
 = Rre[re2].CutHP + 
addli
;

3816 
	`DwFmeReg
(115, 98, 145, 51, 0, 
	`COLOR
(255), 30);

3817 
wd
 = " 增加生命";

3818 
	`dwshadowxt
(@
wd
[1], 100, 125, 
	`COLOR
(0x7), COLOR(0x5));

3819 
	`dwbig5shadowxt
(@
e
[
re2
].
Name
, 100, 100, 
	`COLOR
(0x23), COLOR(0x21));

3820 
wd
 = 
	`fm
("%3d", [
addli
]);

3821 
	`dwgshadowxt
(@
wd
[1], 220, 125, 
	`COLOR
(0x66), COLOR(0x64));

3822 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3823 
WaKey
;

3824 
dw
;

3826 
	}
}

3830 
	$EfMedPoisi
(
re1
, 
re2
 = 0)()

3831 
v


3832 
wd
: 
widerg
;

3833 
muoi
 = 0;

3835 
muoi
 = 
Rre
[
re1
].
MedPoi
;

3836 i(
muoi
 > 
Rre
[
re2
].
Poisi
) minuspoi = Rrole[role2].Poision;

3837 
Rre
[
re2
].
Poisi
 = Rre[re2].Poisi - 
muoi
;

3838 
	`DwFmeReg
(115, 98, 145, 51, 0, 
	`COLOR
(255), 30);

3839 
wd
 = " 中毒減少";

3840 
	`dwshadowxt
(@
wd
[1], 100, 125, 
	`COLOR
(0x7), COLOR(0x5));

3841 
	`dwbig5shadowxt
(@
e
[
re2
].
Name
, 100, 100, 
	`COLOR
(0x23), COLOR(0x21));

3842 
wd
 = 
	`fm
("%3d", [
muoi
]);

3843 
	`dwgshadowxt
(@
wd
[1], 220, 125, 
	`COLOR
(0x66), COLOR(0x64));

3844 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3845 
WaKey
;

3846 
dw
;

3848 
	}
}

3853 
	$EOIm
(
um
, 
um
 = 0)()

3854 
v


3855 
i
 = 0;

3856 
p
 = 0;

3857 
l
 = 0;

3858 
x
 = 0;

3859 
y
 = 0;

3860 
wd
: 
y
[0..23] 
of
 
widerg
;

3861 
addvue
, 
rޖi
: 
y
[0..23] 
of
 
g
;

3862 
r
: 
widerg
;

3865 
wd
[0] = " 增加生命"; word[1] = " 增加生命最大值"; word[2] = " 中毒程度";

3866 
wd
[3] = " 增加體力"; word[4] = " 內力門路陰陽合一"; word[5] = " 增加內力";

3867 
wd
[6] = " 增加內力最大值"; word[7] = " 增加攻擊力"; word[8] = " 增加輕功";

3868 
wd
[9] = " 增加防禦力"; word[10] = " 增加醫療能力"; word[11] = " 增加用毒能力";

3869 
wd
[12] = " 增加解毒能力"; word[13] = " 增加抗毒能力"; word[14] = " 增加拳掌能力";

3870 
wd
[15] = " 增加御劍能力"; word[16] = " 增加耍刀能力"; word[17] = " 增加特殊兵器";

3871 
wd
[18] = " 增加暗器技巧"; word[19] = " 增加武學常識"; word[20] = " 增加品德指數";

3872 
wd
[21] = " 習得左右互搏"; word[22] = " 增加攻擊帶毒"; word[23] = " 受傷程度";

3873 
rޖi
[0] = 17;olelist[1] = 18;olelist[2] = 20;olelist[3] = 21;

3874 
rޖi
[4] = 40;olelist[5] = 41;olelist[6] = 42;olelist[7] = 43;

3875 
rޖi
[8] = 44;olelist[9] = 45;olelist[10] = 46;olelist[11] = 47;

3876 
rޖi
[12] = 48;olelist[13] = 49;olelist[14] = 50;olelist[15] = 51;

3877 
rޖi
[16] = 52;olelist[17] = 53;olelist[18] = 54;olelist[19] = 55;

3878 
rޖi
[20] = 56;olelist[21] = 58;olelist[22] = 57;olelist[23] = 19;

3880 
i
 = 0 
to
 22 do

3882 
addvue
[
i
] = 
Rem
[
um
].
da
[45 + i];

3885 
addvue
[23] = -ddvue[0] / 
LIFE_HURT
);

3887 i(- 
addvue
[23] > 
e
[
um
].
da
[19])ddvalue[23] = -rrole[rnum].data[19];

3890 i(
addvue
[1] + 
e
[
um
].
da
[18] > 
MAX_HP
)

3891 
addvue
[1] = 
MAX_HP
 - 
e
[
um
].
da
[18];

3892 i(
addvue
[6] + 
e
[
um
].
da
[42] > 
MAX_MP
)

3893 
addvue
[6] = 
MAX_MP
 - 
e
[
um
].
da
[42];

3894 i(
addvue
[1] + 
e
[
um
].
da
[18] < 0)

3895 
addvue
[1] = -
e
[
um
].
da
[18];

3896 i(
addvue
[6] + 
e
[
um
].
da
[42] < 0)

3897 
addvue
[6] = -
e
[
um
].
da
[42];

3899 
i
 = 7 
to
 22 do

3901 i(
addvue
[
i
] + 
e
[
um
].
da
[
rޖi
[i]] > 
MAX_PRO_LIST
[rolelist[i]])

3902 
addvue
[
i
] = 
MAX_PRO_LIST
[
rޖi
[i]] - 
e
[
um
].
da
[rolelist[i]];

3903 i(
addvue
[
i
] + 
e
[
um
].
da
[
rޖi
[i]] < 0)

3904 
addvue
[
i
] = -
e
[
um
].
da
[
rޖi
[i]];

3907 i(
addvue
[0] + 
e
[
um
].
da
[17] >ddvalue[1] +role[rnum].data[18])

3908 
addvue
[0] =ddvue[1] + 
e
[
um
].
da
[18] -role[rnum].data[17];

3910 i(
addvue
[2] + 
e
[
um
].
da
[20] < 0)ddvalue[2] = -rrole[rnum].data[20];

3912 i(
addvue
[3] + 
e
[
um
].
da
[21] > 
MAX_PHYSICAL_POWER
)ddvalue[3] = MAX_PHYSICAL_POWER -role[rnum].data[21];

3914 i(
addvue
[5] + 
e
[
um
].
da
[41] >ddvalue[6] +role[rnum].data[42])

3915 
addvue
[5] =ddvue[6] + 
e
[
um
].
da
[42] -role[rnum].data[41];

3916 
p
 = 0;

3917 
i
 = 0 
to
 23 do

3919 i((
i
 <> 4&& (<> 21&& (
addvue
[i] <> 0)
p
 = + 1;

3921 i((
addvue
[4] =2&& (
e
[
um
].
da
[40] <> 2)
p
 = + 1;

3922 i((
addvue
[21] =1&& (
e
[
um
].
da
[58] <> 1)
p
 = + 1;

3924 
	`ShowSimeStus
(
um
, 350, 50);

3925 
	`DwFmeReg
(100, 70, 200, 25, 0, 
	`COLOR
(255), 25);

3926 
r
 = " 服用";

3927 i(
Rem
[
um
].
ImTy
 =2
r
 = " 練成";

3928 
	`Dwshadowxt
(@
r
[1], 83, 72, 
	`COLOR
(0x23), COLOR(0x21));

3929 
	`Dwbig5shadowxt
(@
Rem
[
um
].
Name
, 143, 72, 
	`COLOR
(0x66), COLOR(0x64));

3932 i(
p
 < 11)

3934 
l
 = 
p
;

3935 
	`DwFmeReg
(100, 100, 200, 22 * 
l
 + 25, 0, 
	`COLOR
(0xFF), 25);

3938 
l
 = 
p
 / 2 + 1;

3939 
	`DwFmeReg
(100, 100, 400, 22 * 
l
 + 25, 0, 
	`COLOR
(0xFF), 25);

3941 
	`dwbig5shadowxt
(@
e
[
um
].
da
[4], 83, 102, 
	`COLOR
(0x23), COLOR(0x21));

3942 
r
 = " 未增加屬性";

3943 i(
p
 =0
	`dwshadowxt
(@
r
[1], 163, 102, 
	`COLOR
(7), COLOR(5));

3944 
p
 = 0;

3945 
i
 = 0 
to
 23 do

3947 i(
p
 < 
l
)

3949 
x
 = 0;

3950 
y
 = 0;

3953 
x
 = 200;

3954 
y
 = -
l
 * 22;

3956 i((
i
 <> 4&& (<> 21&& (
addvue
[i] <> 0))

3958 
e
[
um
].
da
[
rޖi
[
i
]] =re[um].da[rޖi[i]] + 
addvue
[i];

3959 
	`dwshadowxt
(@
wd
[
i
, 1], 83 + 
x
, 124 + 
y
 + 
p
 * 22, 
	`COLOR
(7), COLOR(5));

3960 
r
 = 
	`fm
("%4d", [
addvue
[
i
]]);

3961 
	`dwgshadowxt
(@
r
[1], 243 + 
x
, 124 + 
y
 + 
p
 * 22, 
	`COLOR
(0x66), COLOR(0x64));

3962 
p
 = + 1;

3965 i((
i
 =4&& (
addvue
[i] == 2))

3967 i(
e
[
um
].
da
[
rޖi
[
i
]] <> 2)

3969 
e
[
um
].
da
[
rޖi
[
i
]] = 2;

3970 
	`dwshadowxt
(@
wd
[
i
, 1], 83 + 
x
, 124 + 
y
 + 
p
 * 22, 
	`COLOR
(7), COLOR(5));

3971 
p
 = + 1;

3975 i((
i
 =21&& (
addvue
[i] == 1))

3977 i(
e
[
um
].
da
[
rޖi
[
i
]] <> 1)

3979 
e
[
um
].
da
[
rޖi
[
i
]] = 1;

3980 
	`dwshadowxt
(@
wd
[
i
, 1], 83 + 
x
, 124 + 
y
 + 
p
 * 22, 
	`COLOR
(7), COLOR(5));

3981 
p
 = + 1;

3985 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

3987 
	}
}

3992 cڡ *
CMD_FUNCS
(
st16
**) = {

3993 
Cmd0


3996 
	$ClEvt
(
evt
)

3997 
v


3998 
e
: 
y
 
of
 
smlt
;

3999 
i
 = 0;

4000 
idx
 = 0;

4001 
g
 = 0;

4002 
offt
 = 0;

4003 
ngth
 = 0;

4004 
p
 = 0;

4005 
check
: 
boޗn
;

4007 
by
* 
cmdBufr
 = 
NULL
;

4010 
g_ex
 = 
g_sx
;

4011 
g_ey
 = 
g_sy
;

4012 
g_sSp
 = 0;

4014 i(
evt
) {

4015 
cmdBufr
 = 
g_cmdGBuff
 + *(
g_cmdIdxBuff
 + 
evt
 - 1);

4017 
cmdBufr
 = 
g_cmdGBuff
;

4020 
st16
* 
cmd
 = 
cmdBufr
;

4021 *
cmd
 >0(*
CMD_FUNCS
[*cmd])(cmd);

4375 
evt
.
key
.
keysym
.
sym
 = 0;

4376 
evt
.
bu
.button = 0;

4378 
InlSn
;

4380 
dw
;

4381 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4383 
	}
}

4386 
	$CmdRedw
(
st16
** 
cmd
)

4388 (*
cmd
)++;

4389 
dw
;

4391 
	}
}

4393 
	$CmdTk
(
st16
** 
cmd
)

4395 (*
cmd
)++;

4396 
lkIndex
 = (*
cmd
)++;

4397 
Index
 = (*
cmd
)++;

4398 
disMode
 =(*
cmd
)++;

4517 
	}
}

4520 
	$CmdImGLo
(
st16
** 
cmd
)

4522 (*
cmd
)++;

4523 
em
 = (*
cmd
)++;

4524 
num
 = (*
cmd
)++;

4526 
i
;

4527 
i
 = 0; 
g_reDa
.
mes
[i].
dex
 >0 && i < 
MAX_ITEM_NUM
; i++) {

4528 i(
g_reDa
.
mes
[
i
].
dex
 =
em
) {

4529 
g_reDa
.
ems
[
i
].
num
 +=um;

4530 i(
g_reDa
.
ems
[
i
].
num
 < 0 &&um >= 0) g_roleData.items[i].num = 32767;

4531 i(
g_reDa
.
ems
[
i
].
num
 < 0 &&um < 0) g_roleData.items[i].num = 0;

4536 i(
g_reDa
.
ems
[
i
].
numb
 < 0)

4538 
g_reDa
.
ems
[
i
].
Numb
 = 
um
;

4539 
g_reDa
.
ems
[
i
].
num
 =.num;

4542 
ReAgeIm
;

4544 
x
 = 
SCREEN_CENTER_X
;

4545 i(
g_Game
 =2
x
 = 190;

4547 
	`DwFmeReg
(
x
 - 75, 98, 145, 76, 0, 
	`COLOR
(255), 30);

4548 .
num
 >= 0)

4549 
wd
 = " 得到物品"

4551 
wd
 = " 失去物品";

4552 
	`dwshadowxt
(@
wd
[1], 
x
 - 90, 100, 
	`COLOR
(0x23), COLOR(0x21));

4553 
	`dwbig5shadowxt
(@
RIm
[
um
].
Name
, 
x
 - 90, 125, 
	`COLOR
(0x7), COLOR(0x5));

4554 
wd
 = " 數量";

4555 
	`dwshadowxt
(@
wd
[1], 
x
 - 90, 150, 
	`COLOR
(0x66), COLOR(0x64));

4556 
wd
 = 
	`fm
(" %5d", .
num
]);

4557 
	`dwgshadowxt
(@
wd
[1], 
x
 - 5, 150, 
	`COLOR
(0x66), COLOR(0x64));

4558 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4559 
WaKey
;

4560 
dw
;

4561 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4563 
	}
}

4565 
	$ReAgeIm
()

4566 
v


4567 
i
 = 0;

4568 
p
 = 0;

4569 
em
, 
amou
: 
y
 
of
 
g
;

4571 
p
 = 0;

4572 
	`gth
(
em
, 
MAX_ITEM_NUM
);

4573 
	`gth
(
amou
, 
MAX_ITEM_NUM
);

4574 
i
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

4576 i((
RImLi
[
i
].
Numb
 >0&& (RImLi[i].
Amou
 > 0))

4578 
em
[
p
] = 
RImLi
[
i
].
Numb
;

4579 
amou
[
p
] = 
RImLi
[
i
].
Amou
;

4580 
p
 = + 1;

4583 
i
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

4585 i(
i
 < 
p
)

4587 
RImLi
[
i
].
Numb
 = 
em
[i];

4588 
RImLi
[
i
].
Amou
 = 
amou
[i];

4591 
RImLi
[
i
].
Numb
 = -1;

4592 
RImLi
[
i
].
Amou
 = 0;

4596 
	}
}

4601 
ru_3
(
li
: 
y
 
of
 
g
)()

4602 
v


4603 
i
 = 0;

4604 
	gi1
 = 0;

4605 
	gi2
 = 0;

4607 i(
	gli
[0] =-2
li
[0] = 
g_curSn
;

4608 i(
	gli
[1] =-2
li
[1] = 
g_curEvt
;

4609 i(
	gli
[11] =-2
li
[11] = 
g_snEvtDa
[list[0],ist[1], 9];

4610 i(
	gli
[12] =-2
li
[12] = 
g_snEvtDa
[list[0],ist[1], 10];

4614 
	gg_snDa
[
li
[0], 3, 
	gg_snEvtDa
[li[0], 
	gli
[1], 10], g_scenceEventData[list[0],ist[1], 9]] = -1;

4615 
	gi
 = 0 
to
 10 do

4617 i(
li
[2 + 
i
] <> -2)

4619 
g_snEvtDa
[
li
[0],i[1], 
i
] =ist[2 + i];

4623 
	gg_snDa
[
li
[0], 3, 
	gg_snEvtDa
[li[0], 
	gli
[1], 10], g_scenceEventData[list[0],ist[1], 9]] =ist[1];

4631 
funi
 
ru_4
(
um
 = 0;

4632 
jump1
 = 0;

4633 
jump2
 = 0) = 0;

4635 i(
	gum
 =
CurIm
)

4636 
su
 = 
jump1


4638 
su
 = 
jump2
;

4644 
funi
 
ru_5
(
jump1
 = 0;

4645 
jump2
 = 0) = 0;

4646 
v


4647 
	gmu
 = 0;

4649 
gth
(
murg
, 3);

4650 
	gmurg
[0] = " 取消";

4651 
	gmurg
[1] = " 戰鬥";

4652 
	gmurg
[2] = " 是否與之戰鬥？";

4653 
dwxtwh
(@
murg
[2][1], 
SCREEN_CENTER_X
 - 75, 
SCREEN_CENTER_Y
 - 85, 150, 
COLOR
(7), COLOR(5));

4654 
	gmu
 = 
commmu2
(
SCREEN_CENTER_X
 - 49, 
SCREEN_CENTER_Y
 - 50, 98);

4655 i(
	gmu
 =1
su
 = 
jump1
 su = 
jump2
;

4656 
	gdw
;

4657 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4663 
funi
 
ru_6
(
bum
 = 0;

4664 
jump1
 = 0;

4665 
jump2
 = 0;

4666 
gexp
 = 0) = 0;

4668 
	gsu
 = 
jump2
;

4669 i(
Be
(
bum
, 
gexp
))

4670 
	gsu
 = 
jump1
;

4676 
	$ru_8
(
musium
 = 0)()

4678 
exsnmusium
 = 
musium
;

4679 
	}
}

4681 
funi
 
ru_9
(
jump1
 = 0;

4682 
jump2
 = 0) = 0;

4683 
v


4684 
	gmu
 = 0;

4686 
gth
(
murg
, 3);

4687 
	gmurg
[0] = " 取消";

4688 
	gmurg
[1] = " 要求";

4689 
	gmurg
[2] = " 是否要求加入？";

4690 
dwxtwh
(@
murg
[2][1], 
SCREEN_CENTER_X
 - 75, 
SCREEN_CENTER_Y
 - 85, 150, 
COLOR
(7), COLOR(5));

4691 
	gmu
 = 
commmu2
(
SCREEN_CENTER_X
 - 49, 
SCREEN_CENTER_Y
 - 50, 98);

4692 i(
	gmu
 =1
su
 = 
jump1
 su = 
jump2
;

4693 
	gdw
;

4694 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4700 
	$ru_10
(
um
 = 0)()

4701 
v


4702 
i
 = 0;

4703 
i1
 = 0;

4705 
i
 = 0 
to
 5 do

4707 i(
Tmli
[
i
] < 0)

4709 
Tmli
[
i
] = 
um
;

4710 
i1
 = 0 
to
 3 do

4712 i((
Rre
[
um
].
TakgIm
[
i1
] >0&& (Rre[um].
TakgImAmou
[i1] > 0))

4714 
	`ru_2
(
Rre
[
um
].
TakgIm
[
i1
], Rre[um].
TakgImAmou
[i1]);

4715 
Rre
[
um
].
TakgIm
[
i1
] = -1;

4716 
Rre
[
um
].
TakgImAmou
[
i1
] = 0;

4723 
	}
}

4727 
funi
 
ru_11
(
jump1
 = 0;

4728 
jump2
 = 0) = 0;

4729 
v


4730 
	gmu
 = 0;

4732 
gth
(
murg
, 3);

4733 
	gmurg
[0] = " 否";

4734 
	gmurg
[1] = " 是";

4735 
	gmurg
[2] = " 是否需要住宿？";

4736 
dwxtwh
(@
murg
[2][1], 
SCREEN_CENTER_X
 - 75, 
SCREEN_CENTER_Y
 - 85, 150, 
COLOR
(7), COLOR(5));

4737 
	gmu
 = 
commmu2
(
SCREEN_CENTER_X
 - 49, 
SCREEN_CENTER_Y
 - 50, 98);

4738 i(
	gmu
 =1
su
 = 
jump1
 su = 
jump2
;

4739 
	gdw
;

4740 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4746 
	$CmdS˕
(
st16
** 
cmd
)

4748 i(
cmd
) (*cmd)++;

4750 
i
;

4751 
i
 = 0; i < 
MAX_TEAM_ROLE
; i++) {

4752 
re
 = 
g_reDa
.
comm
.
am
[
i
];

4753 i(
g_reDa
.
res
[
re
].
wound
 < 
WOUND_SERIOUS
 && g_reDa.res[re].
poisiښg
 == 0) {

4754 
g_reDa
.
res
[
re
].
li
 = g_reDa.res[re].
maxLi
;

4755 
g_reDa
.
res
[
re
].
Þi
 = g_reDa.res[re].
maxNei
;

4756 
g_reDa
.
res
[
re
].
phyPow
 = 
MAX_PHYSICAL_POWER
;

4759 
	}
}

4762 
	$CmdSnFadeIn
(
st16
** 
cmd
)

4764 i(
cmd
) (*cmd)++;

4766 
i
;

4767 
i
 = 0xff; i > 0; i -= 0x0f) {

4768 
	`RedwWhoutUpde
();

4769 
	`DwReg
(0, 0, 
g_snSur
->
w
, g_snSur->
h
, 0, 
i
);

4770 
	`UpdeSn
();

4772 
	}
}

4775 
	$CmdSnFadeOut
(
st16
** 
cmd
)

4777 i(
cmd
) (*cmd)++;

4779 
i
;

4780 
i
 = 0; i < 0xff; i += 0x0f) {

4781 
	`RedwWhoutUpde
();

4782 
	`DwReg
(0, 0, 
g_snSur
->
w
, g_snSur->
h
, 0, 
i
);

4783 
	`UpdeSn
();

4785 
	}
}

4791 
	$ru_15
()

4792 
v


4793 
i
 = 0;

4794 
r
: 
widerg
;

4796 
g_Game
 = 3;

4797 
dw
;

4798 
r
 = " 勝敗乃兵家常事，但是…";

4799 
	`dwshadowxt
(@
r
[1], 50, 330, 
	`COLOR
(255), COLOR(255));

4800 
r
 = " 地球上又多了一失蹤人口";

4801 
	`dwshadowxt
(@
r
[1], 50, 360, 
	`COLOR
(255), COLOR(255));

4802 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4803 
WaKey
;

4804 
	}
}

4806 
funi
 
ru_16
(
um
 = 0;

4807 
jump1
 = 0;

4808 
jump2
 = 0) = 0;

4809 
v


4810 
	gi
 = 0;

4812 
	gsu
 = 
jump2
;

4813 
	gi
 = 0 
to
 5 do

4815 i(
Tmli
[
i
] =
um
)

4817 
su
 = 
jump1
;

4823 
ru_17
(
li
: 
y
 
of
 
g
)()

4824 
v


4825 
i1
 = 0;

4826 
	gi2
 = 0;

4828 i(
	gli
[0] =-2
li
[0] = 
g_curSn
;

4829 
	gg_snDa
[
li
[0], 
	gli
[1],ist[3],ist[2]] =ist[4];

4833 
funi
 
ru_18
(
um
 = 0;

4834 
jump1
 = 0;

4835 
jump2
 = 0) = 0;

4836 
v


4837 
	gi
 = 0;

4839 
	gsu
 = 
jump2
;

4840 
	gi
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

4842 i(
RImLi
[
i
].
Numb
 =
um
)

4844 
su
 = 
jump1
;

4850 
	$ru_19
(
x
, 
y
 = 0)()

4852 
Sx
 = 
y
;

4853 
Sy
 = 
x
;

4854 
g_ex
 = 
Sx
;

4855 
g_ey
 = 
Sy
;

4856 
Redw
;

4857 
	}
}

4861 
funi
 
ru_20
(
jump1
 = 0;

4862 
jump2
 = 0) = 0;

4863 
v


4864 
	gi
 = 0;

4866 
	gsu
 = 
jump1
;

4867 
	gi
 = 0 
to
 5 do

4869 i(
TmLi
[
i
] < 0)

4871 
su
 = 
jump2
;

4877 
	$ru_21
(
um
 = 0)()

4878 
v


4879 
i
 = 0;

4880 
p
 = 0;

4881 
wli
: 
y
[0..5] 
of
 
g
;

4883 
p
 = 0;

4884 
i
 = 0 
to
 5 do

4886 
wli
[
i
] = -1;

4887 i(
Tmli
[
i
] <> 
um
)

4889 
wli
[
p
] = 
Tmli
[
i
];

4890 
p
 = + 1;

4893 
i
 = 0 
to
 5 do

4894 
Tmli
[
i
] = 
wli
[i];

4895 
	}
}

4897 
	$ru_22
()

4898 
v


4899 
i
 = 0;

4901 
i
 = 0 
to
 5 do

4902 
RRe
[
Tmli
[
i
]].
CutMP
 = 0;

4903 
	}
}

4905 
	$ru_23
(
um
, 
Poisi
 = 0)()

4907 
RRe
[
um
].
UPoi
 = 
Poisi
;

4908 
	}
}

4913 
	$ru_24
()

4915 
	}
}

4920 
	$ru_25
(
x1
, 
y1
, 
x2
, 
y2
 = 0)()

4921 
v


4922 
i
 = 0;

4923 
s
 = 0;

4925 
s
 = 
	`sign
(
x2
 - 
x1
);

4926 
i
 = 
x1
 + 
s
;

4928 i(
s
 <> 0)

4929 
s
 * (
x2
 - 
i
) >= 0 do

4931 
	`sdl_day
(50);

4932 
	`DwSnWhoutRe
(
y1
, 
i
);

4934 
	`DwReOnSn
(
y1
, 
i
);

4935 
	`SDL_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4936 
i
 = i + 
s
;

4939 
s
 = 
	`sign
(
y2
 - 
y1
);

4940 
i
 = 
y1
 + 
s
;

4941 i(
s
 <> 0)

4942 
s
 * (
y2
 - 
i
) >= 0 do

4944 
	`sdl_day
(50);

4945 
	`DwSnWhoutRe
(
i
, 
x2
);

4947 
	`DwReOnSn
(
i
, 
x2
);

4949 
	`SDL_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

4950 
i
 = i + 
s
;

4952 
g_ex
 = 
y2
;

4953 
g_ey
 = 
x2
;

4957 
	}
}

4959 
	$ru_26
(
um
, , 
add1
, 
add2
, 
add3
 = 0)()

4961 i(
um
 =-2um = 
g_curSn
;

4962 
g_snEvtDa
[
um
, , 2] = g_snEvtDa[um, , 2] + 
add1
;

4963 
g_snEvtDa
[
um
, , 3] = g_snEvtDa[um, , 3] + 
add2
;

4964 
g_snEvtDa
[
um
, , 4] = g_snEvtDa[um, , 4] + 
add3
;

4966 
	}
}

4971 
	$ru_27
(, 
begpic
, 
dpic
 = 0)()

4972 
v


4973 
i
 = 0;

4974 
xpot
 = 0;

4975 
ypot
 = 0;

4976 
AboutMaRe
: 
boޗn
;

4978 
AboutMaRe
 = 
l
;

4981 
g_curEvt
;

4982 i(
g_curSnDa
[ 3, 
Sx
, 
Sy
] >= 0)

4983 
g_curSnDa
[ 3, 
Sx
, 
Sy
];

4984 
AboutMaRe
 = 
ue
;

4986 i(=
g_curSnDa
[ 3, 
Sx
, 
Sy
]
AboutMaRe
 = 
ue
;

4987 
g_curSnDa
[ 3, 
g_curSnEvtDa
[ , 10], g_curScenceEventData[ , 9]] = ;

4988 
i
 = 
begpic
 
to
 
dpic
 do

4990 
g_curSnEvtDa
[ , 5] = 
i
;

4991 
	`UpdeSn
(
g_curSnEvtDa
[ , 10], g_curScenceEventData[ , 9]);

4992 
	`sdl_day
(20);

4993 
	`DwSnWhoutRe
(
Sx
, 
Sy
);

4994 i(
	`n
 (
AboutMaRe
))

4995 
	`DwReOnSn
(
Sx
, 
Sy
);

4997 
	`SDL_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5001 
g_curSnEvtDa
[ , 5] = g_curScenceEventData[ , 7];

5002 
	`UpdeSn
(
g_curSnEvtDa
[ , 10], g_curScenceEventData[ , 9]);

5003 
	}
}

5005 
funi
 
ru_28
(
um
 = 0;

5006 
e1
 = 0;

5007 
e2
 = 0;

5008 
jump1
 = 0;

5009 
jump2
 = 0) = 0;

5011 
	gsu
 = 
jump2
;

5012 i((
	ge
[
um
].
	gEthics
 >
e1
&& (
e
[um].
Ethics
 <
e2
)
su
 = 
jump1
;

5015 
funi
 
ru_29
(
um
 = 0;

5016 
r1
 = 0;

5017 
r2
 = 0;

5018 
jump1
 = 0;

5019 
jump2
 = 0) = 0;

5021 
	gsu
 = 
jump2
;

5022 i((
	ge
[
um
].
	gAack
 >
r1
&& (
e
[um].
Aack
 <
r2
)
su
 = 
jump1
;

5025 
	$ru_30
(
x1
, 
y1
, 
x2
, 
y2
 = 0)()

5026 
v


5027 
s
 = 0;

5029 
s
 = 
	`sign
(
x2
 - 
x1
);

5030 
Sy
 = 
x1
 + 
s
;

5031 i(
s
 > 0
g_sFa
 = 1;

5032 i(
s
 < 0
g_sFa
 = 2;

5033 i(
s
 <> 0)

5034 
s
 * (
x2
 - 
Sy
) >= 0 do

5036 
	`sdl_day
(50);

5037 
	`DwSnWhoutRe
(
Sx
, 
Sy
);

5038 
g_sSp
 = g_sStep + 1;

5039 i(
g_sSp
 >= 8) g_sStep = 0;

5040 
	`DwReOnSn
(
Sx
, 
Sy
);

5041 
	`SDL_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5042 
Sy
 = Sy + 
s
;

5044 
s
 = 
	`sign
(
y2
 - 
y1
);

5045 
Sx
 = 
y1
 + 
s
;

5046 i(
s
 > 0
g_sFa
 = 3;

5047 i(
s
 < 0
g_sFa
 = 0;

5048 i(
s
 <> 0)

5049 
s
 * (
y2
 - 
Sx
) >= 0 do

5051 
	`sdl_day
(50);

5052 
	`DwSnWhoutRe
(
Sx
, 
Sy
);

5053 
g_sSp
 = g_sStep + 1;

5054 i(
g_sSp
 >= 8) g_sStep = 0;

5055 
	`DwReOnSn
(
Sx
, 
Sy
);

5056 
	`SDL_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5057 
Sx
 = Sx + 
s
;

5059 
Sx
 = 
y2
;

5060 
Sy
 = 
x2
;

5061 
g_sSp
 = 0;

5062 
g_ex
 = 
Sx
;

5063 
g_ey
 = 
Sy
;

5064 
	}
}

5066 
funi
 
ru_31
(
meynum
 = 0;

5067 
jump1
 = 0;

5068 
jump2
 = 0) = 0;

5069 
v


5070 
	gi
 = 0;

5072 
	gsu
 = 
jump2
;

5073 
	gi
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

5075 i((
RImLi
[
i
].
Numb
 =
MONEY_ID
&& (RImLi[i].
Amou
 >
meynum
))

5077 
su
 = 
jump1
;

5083 
	$ru_32
(
um
, 
amou
 = 0)()

5084 
v


5085 
i
 = 0;

5086 
wd
: 
widerg
;

5088 
i
 = 0;

5089 
RImLi
[
i
].
Numb
 >0&& (< 
MAX_ITEM_NUM
) do

5091 i((
RImLi
[
i
].
Numb
 =
um
))

5093 
RImLi
[
i
].
Amou
 = RImLi[i].Amou + 
amou
;

5094 i((
RImLi
[
i
].
Amou
 < 0&& (
amou
 >= 0)) RItemList[i].Amount = 32767;

5095 i((
RImLi
[
i
].
Amou
 < 0&& (
amou
 < 0)) RItemList[i].Amount = 0;

5098 
i
 = i + 1;

5100 i(
RImLi
[
i
].
Numb
 < 0)

5102 
RImLi
[
i
].
Numb
 = 
um
;

5103 
RImLi
[
i
].
Amou
 = 
amou
;

5105 
ReAgeIm
;

5106 
	}
}

5110 
	$ru_33
(
um
, 
magium
, 
dismode
 = 0)()

5111 
v


5112 
i
 = 0;

5113 
wd
: 
widerg
;

5115 
i
 = 0 
to
 9 do

5117 i((
RRe
[
um
].
Magic
[
i
] <0|| (RRe[um].Magic[i] =
magium
))

5119 i(
RRe
[
um
].
Magic
[
i
] > 0RRe[um].
Magv
[i] = RRole[rnum].Maglevel[i] + 100;

5120 
RRe
[
um
].
Magic
[
i
] = 
magium
;

5121 i(
RRe
[
um
].
MagLev
[
i
] > 999RRe[um].
Magv
[i] = 999;

5126 i(
dismode
 == 0)

5128 
	`DwFmeReg
(
SCREEN_CENTER_X
 - 75, 98, 145, 76, 0, 
	`COLOR
(255), 30);

5129 
wd
 = " 學會";

5130 
	`dwshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 - 90, 125, 
	`COLOR
(0x7), COLOR(0x5));

5131 
	`dwbig5shadowxt
(@
e
[
um
].
Name
, 
SCREEN_CENTER_X
 - 90, 100, 
	`COLOR
(0x23), COLOR(0x21));

5132 
	`dwbig5shadowxt
(@
Rmagic
[
magium
].
Name
, 
SCREEN_CENTER_X
 - 90, 150, 
	`COLOR
(0x66), COLOR(0x64));

5133 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5134 
WaKey
;

5135 
dw
;

5137 
	}
}

5139 
	$ru_34
(
um
, 
iq
 = 0)()

5140 
v


5141 
wd
: 
widerg
;

5143 i(
RRe
[
um
].
Aude
 + 
iq
 <= 100)

5145 
RRe
[
um
].
Aude
 = RRe[um].Aud+ 
iq
;

5148 
iq
 = 100 - 
RRe
[
um
].
Aude
;

5149 
RRe
[
um
].
Aude
 = 100;

5151 i(
iq
 > 0)

5153 
	`DwFmeReg
(
SCREEN_CENTER_X
 - 75, 98, 145, 51, 0, 
	`COLOR
(255), 30);

5154 
wd
 = " 資質增加";

5155 
	`dwshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 - 90, 125, 
	`COLOR
(0x7), COLOR(0x5));

5156 
	`dwbig5shadowxt
(@
e
[
um
].
Name
, 
SCREEN_CENTER_X
 - 90, 100, 
	`COLOR
(0x23), COLOR(0x21));

5157 
wd
 = 
	`fm
("%3d", [
iq
]);

5158 
	`dwgshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 + 30, 125, 
	`COLOR
(0x66), COLOR(0x64));

5159 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5160 
WaKey
;

5161 
dw
;

5163 
	}
}

5165 
	$ru_35
(
um
, 
magiinum
, 
magium
, 
exp
 = 0)()

5166 
v


5167 
i
 = 0;

5169 i((
magiinum
 < 0) || (magiclistnum > 9))

5171 
i
 = 0 
to
 9 do

5173 i(
RRe
[
um
].
Magic
[
i
] <= 0)

5175 
RRe
[
um
].
Magic
[
i
] = 
magium
;

5176 
RRe
[
um
].
MagLev
[
i
] = 
exp
;

5180 i(
i
 == 10)

5182 
RRe
[
um
].
Magic
[0] = 
magium
;

5183 
RRe
[
um
].
MagLev
[
i
] = 
exp
;

5187 
RRe
[
um
].
Magic
[
magiinum
] = 
magium
;

5188 
RRe
[
um
].
MagLev
[
magiinum
] = 
exp
;

5190 
	}
}

5192 
funi
 
ru_36
(
xu
 = 0;

5193 
jump1
 = 0;

5194 
jump2
 = 0) = 0;

5196 
	gsu
 = 
jump2
;

5197 i(
	ge
[0].
	gSexu
 =
xu

su
 = 
jump1
;

5198 i(
	gxu
 > 255)

5199 i(
	gx50
[0x7000] =0
su
 = 
jump1
 su = 
jump2
;

5202 
	$ru_37
(
Ethics
 = 0)()

5204 
RRe
[0].
Ethics
 = RRe[0].Ethic+ 
hics
;

5205 i(
RRe
[0].
Ethics
 > 100) RRole[0].Ethics = 100;

5206 i(
RRe
[0].
Ethics
 < 0) RRole[0].Ethics = 0;

5207 
	}
}

5209 
	$ru_38
(
um
, 
ynum
, 
dpic
, 
wpic
 = 0)()

5210 
v


5211 
i1
 = 0;

5212 
i2
 = 0;

5214 i(
um
 =-2um = 
g_curSn
;

5215 
i1
 = 0 
to
 63 do

5216 
i2
 = 0 
to
 63 do

5218 i(
g_snDa
[
um
, 
ynum
, 
i1
, 
i2
] =
dpic
g_snDa[um,aynum, i1, i2] = 
wpic
;

5220 
	}
}

5222 
	$ru_39
(
um
 = 0)()

5224 
g_reDa
.
sns
[
um
].
EnCdi
 = 0;

5225 
	}
}

5227 
	$ru_40
(
de
 = 0)()

5229 
g_sFa
 = 
de
;

5230 
	}
}

5232 
	$ru_41
(
um
, 
um
, 
amou
 = 0)()

5233 
v


5234 
i
 = 0;

5235 
p
 = 0;

5237 
p
 = 0;

5238 
i
 = 0 
to
 3 do

5240 i(
Rre
[
um
].
TakgIm
[
i
] =
um
)

5242 
Rre
[
um
].
TakgImAmou
[
i
] = Rre[um].TakgImAmou[i] + 
amou
;

5243 
p
 = 1;

5247 i(
p
 == 0)

5249 
i
 = 0 
to
 3 do

5251 i(
Rre
[
um
].
TakgIm
[
i
] == -1)

5253 
Rre
[
um
].
TakgIm
[
i
] = 
um
;

5254 
Rre
[
um
].
TakgImAmou
[
i
] = 
amou
;

5259 
i
 = 0 
to
 3 do

5261 i(
Rre
[
um
].
TakgImAmou
[
i
] <= 0)

5263 
Rre
[
um
].
TakgIm
[
i
] = -1;

5264 
Rre
[
um
].
TakgImAmou
[
i
] = 0;

5268 
	}
}

5270 
funi
 
ru_42
(
jump1
 = 0;

5271 
jump2
 = 0) = 0;

5272 
v


5273 
	gi
 = 0;

5275 
	gsu
 = 
jump2
;

5276 
	gi
 = 0 
to
 5 do

5278 i(
Rre
[
Tmli
[
i
]].
Sexu
 == 1)

5280 
su
 = 
jump1
;

5286 
funi
 
ru_43
(
um
 = 0;

5287 
jump1
 = 0;

5288 
jump2
 = 0) = 0;

5289 
v


5290 
	gi
 = 0;

5292 
	gsu
 = 
jump2
;

5293 
	gi
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

5294 i(
RImLi
[
i
].
Numb
 =
um
)

5296 
su
 = 
jump1
;

5301 
	$ru_44
(
um1
, 
begpic1
, 
dpic1
, 
um2
, 
begpic2
, 
dpic2
 = 0)()

5302 
v


5303 
i
 = 0;

5305 
g_curSnDa
[ 3, 
g_curSnEvtDa
[ 
um1
, 10], g_curScenceEventData[num1, 9]] =num1;

5306 
g_curSnDa
[ 3, 
g_curSnEvtDa
[ 
um2
, 10], g_curScenceEventData[num2, 9]] =num2;

5307 
i
 = 0 
to
 
dpic1
 - 
begpic1
 do

5309 
g_curSnEvtDa
[ 
um1
, 5] = 
begpic1
 + 
i
;

5310 
g_curSnEvtDa
[ 
um2
, 5] = 
begpic2
 + 
i
;

5311 
	`UpdeSn
(
g_curSnEvtDa
[ 
um1
, 10], g_curScenceEventData[num1, 9]);

5312 
	`UpdeSn
(
g_curSnEvtDa
[ 
um2
, 10], g_curScenceEventData[num2, 9]);

5313 
	`sdl_day
(20);

5314 
	`DwSnWhoutRe
(
Sx
, 
Sy
);

5315 
DwSn
;

5316 
	`SDL_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5319 
	}
}

5321 
	$ru_45
(
um
, 
d
 = 0)()

5322 
v


5323 
wd
: 
widerg
;

5325 
RRe
[
um
].
Sed
 = RRe[um].Sed + 
d
;

5326 
	`DwFmeReg
(
SCREEN_CENTER_X
 - 75, 98, 145, 51, 0, 
	`COLOR
(255), 30);

5327 
wd
 = " 輕功增加";

5328 
	`dwshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 - 90, 125, 
	`COLOR
(0x7), COLOR(0x5));

5329 
	`dwbig5shadowxt
(@
e
[
um
].
Name
, 
SCREEN_CENTER_X
 - 90, 100, 
	`COLOR
(0x23), COLOR(0x21));

5330 
wd
 = 
	`fm
("%4d", [
d
]);

5331 
	`dwgshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 + 20, 125, 
	`COLOR
(0x66), COLOR(0x64));

5332 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5333 
WaKey
;

5334 
dw
;

5335 
	}
}

5337 
	$ru_46
(
um
, 
mp
 = 0)()

5338 
v


5339 
wd
: 
widerg
;

5341 
RRe
[
um
].
MaxMP
 = RRe[um].MaxMP + 
mp
;

5342 
RRe
[
um
].
CutMP
 = RRe[um].
MaxMP
;

5343 
	`DwFmeReg
(
SCREEN_CENTER_X
 - 75, 98, 145, 51, 0, 
	`COLOR
(255), 30);

5344 
wd
 = " 內力增加";

5345 
	`dwshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 - 90, 125, 
	`COLOR
(0x7), COLOR(0x5));

5346 
	`dwbig5shadowxt
(@
e
[
um
].
Name
, 
SCREEN_CENTER_X
 - 90, 100, 
	`COLOR
(0x23), COLOR(0x21));

5347 
wd
 = 
	`fm
("%4d", [
mp
]);

5348 
	`dwgshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 + 20, 125, 
	`COLOR
(0x66), COLOR(0x64));

5349 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5350 
WaKey
;

5351 
dw
;

5352 
	}
}

5354 
	$ru_47
(
um
, 
ck
 = 0)()

5355 
v


5356 
wd
: 
widerg
;

5358 
RRe
[
um
].
Aack
 = RRe[um].Aack + 
ck
;

5359 
	`DwFmeReg
(
SCREEN_CENTER_X
 - 75, 98, 145, 51, 0, 
	`COLOR
(255), 30);

5360 
wd
 = " 武力增加";

5361 
	`dwshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 - 90, 125, 
	`COLOR
(0x7), COLOR(0x5));

5362 
	`dwbig5shadowxt
(@
e
[
um
].
Name
, 
SCREEN_CENTER_X
 - 90, 100, 
	`COLOR
(0x23), COLOR(0x21));

5363 
wd
 = 
	`fm
("%4d", [
ck
]);

5364 
	`dwgshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 + 20, 125, 
	`COLOR
(0x66), COLOR(0x64));

5365 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5366 
WaKey
;

5367 
dw
;

5368 
	}
}

5370 
	$ru_48
(
um
, 
hp
 = 0)()

5371 
v


5372 
wd
: 
widerg
;

5374 
RRe
[
um
].
MaxHP
 = RRe[um].MaxHP + 
hp
;

5375 
RRe
[
um
].
CutHP
 = RRe[um].
MaxHP
;

5376 
	`DwFmeReg
(
SCREEN_CENTER_X
 - 75, 98, 145, 51, 0, 
	`COLOR
(255), 30);

5377 
wd
 = " 生命增加";

5378 
	`dwshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 - 90, 125, 
	`COLOR
(0x7), COLOR(0x5));

5379 
	`dwbig5shadowxt
(@
e
[
um
].
Name
, 
SCREEN_CENTER_X
 - 90, 100, 
	`COLOR
(0x23), COLOR(0x21));

5380 
wd
 = 
	`fm
("%4d", [
hp
]);

5381 
	`dwgshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 + 20, 125, 
	`COLOR
(0x66), COLOR(0x64));

5382 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5383 
WaKey
;

5384 
dw
;

5385 
	}
}

5387 
	$ru_49
(
um
, 
MPo
 = 0)()

5389 
RRe
[
um
].
MPTy
 = 
MPo
;

5390 
	}
}

5392 
funi
 
ru_50
(
li
: 
y
 
of
 
g
) = 0;

5393 
v


5394 
	gi
 = 0;

5395 
	gp
 = 0;

5398 
	gsu
 = 0;

5399 i(
	gli
[0] <= 128)

5402 
su
 = 
ru_50e
(
li
[0],ist[1],ist[2],ist[3],ist[4],ist[5],ist[6]);

5405 
	gsu
 = 
li
[6];

5406 
	gp
 = 0;

5407 
	gi
 = 0 
to
 4 do

5409 
p
 = + 
ru_18
(
li
[
i
], 1, 0);

5411 i(
	gp
 =5
su
 = 
li
[5];

5415 
	$ru_51
()

5417 
	`ru_1
(
SOFTSTAR_BEGIN_TALK
 + 
	`ndom
(
SOFTSTAR_NUM_TALK
), 0x72, 0);

5418 
	}
}

5420 
	$ru_52
()

5421 
v


5422 
wd
: 
widerg
;

5424 
	`DwFmeReg
(
SCREEN_CENTER_X
 - 110, 98, 220, 26, 0, 
	`COLOR
(255), 30);

5425 
wd
 = " 你的品德指數為：";

5426 
	`dwshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 - 125, 100, 
	`COLOR
(0x7), COLOR(0x5));

5427 
wd
 = 
	`fm
("%3d", [
e
[0].
Ethics
]);

5428 
	`dwgshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 + 65, 100, 
	`COLOR
(0x66), COLOR(0x64));

5429 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5430 
WaKey
;

5431 
dw
;

5432 
	}
}

5434 
	$ru_53
()

5435 
v


5436 
wd
: 
widerg
;

5438 
	`DwFmeReg
(
SCREEN_CENTER_X
 - 110, 98, 220, 26, 0, 
	`COLOR
(255), 30);

5439 
wd
 = " 你的聲望指數為：";

5440 
	`dwshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 - 125, 100, 
	`COLOR
(0x7), COLOR(0x5));

5441 
wd
 = 
	`fm
("%3d", [
e
[0].
Ru
]);

5442 
	`dwgshadowxt
(@
wd
[1], 
SCREEN_CENTER_X
 + 65, 100, 
	`COLOR
(0x66), COLOR(0x64));

5443 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5444 
WaKey
;

5445 
dw
;

5446 
	}
}

5451 
	$ru_54
()

5452 
v


5453 
i
 = 0;

5455 
i
 = 0 
to
 100 do

5457 
Rsn
[
i
].
EnCdi
 = 0;

5459 
Rsn
[2].
EnCdi
 = 2;

5460 
Rsn
[38].
EnCdi
 = 2;

5461 
Rsn
[75].
EnCdi
 = 1;

5462 
Rsn
[80].
EnCdi
 = 1;

5463 
	}
}

5467 
funi
 
ru_55
(= 0;

5468 
vue
 = 0;

5469 
jump1
 = 0;

5470 
jump2
 = 0) = 0;

5472 
	gsu
 = 
jump2
;

5473 i(
	gg_curSnEvtDa
[ , 2] =
vue

su
 = 
jump1
;

5479 
	$ru_56
(
Ru
 = 0)()

5481 
RRe
[0].
Ru
 = RRe[0].Ru + 
pu
;

5482 i((
RRe
[0].
Ru
 > 200&& (RRe[0].Ru - 
pu
 <= 200))

5485 
	`ru_3
([70, 11, 0, 11, 0x3A4, -1, -1, 0x1F20, 0x1F20, 0x1F20, 0, 18, 21]);

5487 
	}
}

5489 {
ru_57
()

5490 
v


5491 
	gi
 = 0;

5493 
	gi
=0 
to
 
dpic1
-
begpic1
 do

5495 
g_curSnEvtDa
[ [
um1
,5]=
begpic1
+
i
;

5496 
	gg_curSnEvtDa
[ [
um2
,5]=
begpic2
+
i
;

5497 
UpdeSn
(
g_curSnEvtDa
[ [
um1
,10],g_curScenceEventData[ [enum1,9]);

5498 
UpdeSn
(
g_curSnEvtDa
[ [
um2
,10],g_curScenceEventData[ [enum2,9]);

5499 
sdl_day
(20);

5500 
DwSnByCr
(
Sx
,
Sy
);

5501 
	gDwSn
;

5502 
SDL_upde
(
g_snSur
,0,0,g_snSur.
w
,g_snSur.
h
);

5506 
	$ru_58
()

5507 
v


5508 
i
 = 0;

5509 
p
 = 0;

5511 
i
 = 0 
to
 14 do

5513 
p
 = 
	`ndom
(2);

5514 
	`ru_1
(2854 + 
i
 * 2 + 
p
, 0, 3);

5515 i(
	`n
 (
	`be
(102 + 
i
 * 2 + 
p
, 0))
ru_15
;

5516 
ru_14
;

5517 
ru_13
;

5518 i(
i
 
mod
 3 == 2)

5520 
	`ru_1
(2891, 0, 3);

5521 
ru_12
;

5522 
ru_14
;

5523 
ru_13
;

5526 
	`ru_1
(2884, 0, 3);

5527 
	`ru_1
(2885, 0, 3);

5528 
	`ru_1
(2886, 0, 3);

5529 
	`ru_1
(2887, 0, 3);

5530 
	`ru_1
(2888, 0, 3);

5531 
	`ru_1
(2889, 0, 1);

5532 
	`ru_2
(0x8F, 1);

5534 
	}
}

5538 
	$ru_59
()

5539 
v


5540 
i
 = 0;

5542 
i
 = 1 
to
 5 do

5543 
TmLi
[
i
] = -1;

5545 
	}
}

5547 
funi
 
ru_60
(
um
 = 0;

5549 
pic
 = 0;

5550 
jump1
 = 0;

5551 
jump2
 = 0) = 0;

5553 
	gsu
 = 
jump2
;

5554 i(
	gum
 =-2
um
 = 
g_curSn
;

5555 i(
	gg_snEvtDa
[
um
, , 5] =
pic

su
 = 
jump1
;

5559 
	$ru_62
()

5560 
v


5561 
i
 = 0;

5562 
r
: 
widerg
;

5564 
g_Game
 = 3;

5565 
dw
;

5566 
EndAmi
;

5569 
	}
}

5571 
	$EndAmi
()

5572 
v


5573 
x
 = 0;

5574 
y
 = 0;

5575 
i
 = 0;

5576 
n
 = 0;

5577 
r
: 
WideSg
;

5578 
p
 = 0;

5580 
ru_14
;

5581 
dw
;

5582 
i
 = 
	`feݒ
("}.txt", 
fmOnRd
);

5583 
n
 = 
	`feek
(
i
, 0, 2);

5584 
	`feek
(
i
, 0, 0);

5585 
	`gth
(
r
, 
n
 + 1);

5586 
	`fd
(
i
, 
r
[1], 
n
);

5587 
	`feo
(
i
);

5588 
p
 = 1;

5589 
x
 = 30;

5590 
y
 = 80;

5591 
	`DwReg
(0, 50, 
SCREEN_CENTER_X
 * 2, 
SCREEN_CENTER_Y
 * 2 - 100, 0, 60);

5592 
i
 = 1 
to
 
n
 + 1 do

5594 i(
r
[
i
] =
	`widech
(10)) str[i] = " ";

5595 i(
r
[
i
] =
	`widech
(13))

5597 
r
[
i
] = 
	`widech
(0);

5598 
	`dwshadowxt
(@
r
[
p
], 
x
, 
y
, 
	`COLOR
(0xFF), COLOR(0xFF));

5599 
p
 = 
i
 + 1;

5600 
y
 = y + 25;

5601 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5603 i(
r
[
i
] =
	`widech
(0x2A))

5605 
r
[
i
] = " ";

5606 
y
 = 80;

5607 
dw
;

5608 
WaKey
;

5609 
	`DwReg
(0, 50, 
SCREEN_CENTER_X
 * 2, 
SCREEN_CENTER_Y
 * 2 - 100, 0, 60);

5612 
WaKey
;

5613 
ru_14
;

5615 
	}
}

5619 
	$ru_63
(
um
, 
xu
 = 0)()

5621 
RRe
[
um
].
Sexu
 = 
xu
;

5622 
	}
}

5626 
	$ru_64
()

5627 
v


5628 
i
 = 0;

5629 
amou
 = 0;

5630 
shnum
 = 0;

5631 
mu
 = 0;

5632 
i
 = 0;

5633 
li
: 
y
[0..4] 
of
 
g
;

5635 
	`gth
(
Murg
, 5);

5636 
	`gth
(
Mugrg
, 5);

5637 
amou
 = 0;

5639 
shnum
 = 
	`ndom
(5);

5641 
i
 = 0 
to
 4 do

5643 i(
Rsh
[
shnum
].
Amou
[
i
] > 0)

5645 
murg
[
amou
] = 
	`Big5toUTF8
(@
Rem
[
Rsh
[
shnum
].
Im
[
i
]].
Name
);

5646 
mugrg
[
amou
] = 
	`fm
("%10d", [
Rsh
[
shnum
].
Pri
[
i
]]);

5647 
li
[
amou
] = 
i
;

5648 
amou
 =mount + 1;

5651 
	`ru_1
(0xB9E, 0x6F, 0);

5652 
mu
 = 
	`commmu
(
SCREEN_CENTER_X
 - 100, 150, 85 + 
	`ngth
(
mugrg
[0]* 10, 
amou
 - 1);

5653 i(
mu
 >= 0)

5655 
mu
 = 
li
[menu];

5656 
i
 = 
Rsh
[
shnum
].
Pri
[
mu
];

5657 i(
	`ru_31
(
i
, 1, 0) == 1)

5659 
	`ru_2
(
Rsh
[
shnum
].
Im
[
mu
], 1);

5660 
	`ru_32
(
MONEY_ID
, -
i
);

5661 
Rsh
[
shnum
].
Amou
[
mu
] = Rshop[shopnum].Amount[menu] - 1;

5662 
	`ru_1
(0xBA0, 0x6F, 0);

5664 
	`ru_1
(0xB9F, 0x6F, 0);

5666 
	}
}

5668 
	$ru_66
(
musium
 = 0)()

5670 
mp3
;

5671 
	`aymp3
(
musium
, -1);

5672 
	}
}

5674 
	$ru_67
(
Soundnum
 = 0)()

5675 
v


5676 
i
 = 0;

5678 
fame
: 
rg
;

5680 
fame
 = "k" + 
	`fm
("%2d", [
soundnum
]) + ".wav";

5681 
i
 = 1 
to
 
	`ngth
(
fame
) do

5682 i(
fame
[
i
] == " ") filename[i] = "0";

5683 
	`aysound
(
	`pch
(
fame
), 0);

5684 
	}
}

5688 
funi
 
e_GVue
(
b
 = 0;

5689 
t
 = 0;

5690 
x
 = 0) = 0;

5691 
v


5692 
	gi
 = 0;

5694 
	gi
 = 
t
 && (1 
shl
 
b
);

5695 i(
	gi
 =0
su
 = 
x
 su = 
x50
[x];

5700 
funi
 
ru_50e
(
code
 = 0;

5701 
e1
 = 0;

5702 
e2
 = 0;

5703 
e3
 = 0;

5704 
e4
 = 0;

5705 
e5
 = 0;

5706 
e6
 = 0) = 0;

5707 
v


5708 
	gi
 = 0;

5709 
	gt1
 = 0;

5710 
	gg
 = 0;

5711 
	gidx
 = 0;

5712 
	gofft
 = 0;

5713 
	gn
 = 0;

5714 
	gi1
 = 0;

5715 
	gi2
 = 0;

5716 
	gp
, 
	gp1
: 
pch
;

5718 
	gr
: 
rg
;

5719 
	gwd
: 
widerg
;

5721 
	gsu
 = 0;

5722 
	gcode
) {

5725 
x50
[
e1
] = 
e2
;

5729 
t1
 = 
e3
 + 
e_gvue
(0, 
e1
, 
e4
);

5730 
	gx50
[
t1
] = 
e_gvue
(1, 
e1
, 
e5
);

5731 i(
	ge2
 =1
x50
[
t1
] = x50[t1] && 0xFF;

5735 
t1
 = 
e3
 + 
e_gvue
(0, 
e1
, 
e4
);

5736 
	gx50
[
e5
] = 
x50
[
t1
];

5737 i(
	ge2
 =1
x50
[
t1
] = x50[t1] && 0xFF;

5741 
t1
 = 
e_gvue
(0, 
e1
, 
e5
);

5742 
	ge2
) {

5743 0: 
x50
[
e3
] = x50[
e4
] + 
t1
;

5744 1: 
x50
[
e3
] = x50[
e4
] - 
t1
;

5745 2: 
x50
[
e3
] = x50[
e4
] * 
t1
;

5746 3: 
x50
[
e3
] = x50[
e4
] / 
t1
;

5747 4: 
x50
[
e3
] = x50[
e4
] 
mod
 
t1
;

5748 5: 
x50
[
e3
] = 
Ut16
(x50[
e4
]/ 
t1
;

5753 
x50
[0x7000] = 0;

5754 
	gt1
 = 
e_gvue
(0, 
e1
, 
e4
);

5755 
	ge2
) {

5756 0: i(
n
 (
x50
[
e3
] < 
t1
)) x50[0x7000] = 1;

5757 1: i(
n
 (
x50
[
e3
] <
t1
)) x50[0x7000] = 1;

5758 2: i(
n
 (
x50
[
e3
] =
t1
)) x50[0x7000] = 1;

5759 3: i(
n
 (
x50
[
e3
] <> 
t1
)) x50[0x7000] = 1;

5760 4: i(
n
 (
x50
[
e3
] >
t1
)) x50[0x7000] = 1;

5761 5: i(
n
 (
x50
[
e3
] > 
t1
)) x50[0x7000] = 1;

5762 6: 
x50
[0x7000] = 0;

5763 7: 
x50
[0x7000] = 1;

5768 
i
 = -0x8000 
to
 0x7FFF do

5769 
x50
[
i
] = 0;

5773 
t1
 = 
e_gvue
(0, 
e1
, 
e2
);

5774 
	gidx
 = 
feݒ
("lk.idx", 
fmݒad
);

5775 
	gg
 = 
feݒ
("lk.g", 
fmݒad
);

5776 i(
	gt1
 == 0)

5778 
offt
 = 0;

5779 
fd
(
idx
, 
n
, 4);

5783 
feek
(
idx
, (
t1
 - 1) * 4, 0);

5784 
fd
(
idx
, 
offt
, 4);

5785 
fd
(
idx
, 
n
, 4);

5787 
	gn
 = (
n
 - 
offt
);

5788 
feek
(
g
, 
offt
, 0);

5789 
fd
(
g
, 
x50
[
e3
], 
n
);

5790 
feo
(
idx
);

5791 
feo
(
g
);

5792 
	gp
 = @
x50
[
e3
];

5793 
	gi
 = 0 
to
 
n
 - 1 do

5795 
p
^ = (
by
^
x
 0xFF);

5796 
	gp
 = 
p
 + 1;

5798 
	gp
^ = (0);

5803 
e4
 = 
e_gvue
(0, 
e1
,4);

5804 
	gp
 = @
x50
[
e2
];

5805 
	gp1
 = @
x50
[
e3
];

5806 
	gr
 = 
p1
;

5807 
	gr
 = 
fm
(
rg
(
p1
), [
e4
]);

5808 
	gi
 = 0 
to
 
ngth
(
r
) do

5810 
p
^ = 
r
[
i
 + 1];

5811 
	gp
 = 
p
 + 1;

5816 
x50
[
e2
] = 
ngth
(
pch
(@x50[
e1
]));

5821 
p
 = @
x50
[
e1
];

5822 
	gp1
 = @
x50
[
e2
];

5823 
	gi
 = 0 
to
 
ngth
(
p1
) - 1 do

5825 
p
^ = (
p1
 + 
i
)^;

5826 
	gp
 = 
p
 + 1;

5828 
	gp1
 = @
x50
[
e3
];

5829 
	gi
 = 0 
to
 
ngth
(
p1
) do

5831 
p
^ = (
p1
 + 
i
)^;

5832 
	gp
 = 
p
 + 1;

5839 
e3
 = 
e_gvue
(0, 
e1
,3);

5840 
	gp
 = @
x50
[
e2
];

5841 
	gi
 = 0 
to
 
e3
 do

5843 
p
^ = (0x20);

5844 
	gp
 = 
p
 + 1;

5846 
	gp
^ = (0);

5850 
e3
 = 
e_gvue
(0, 
e1
,3);

5851 
	ge4
 = 
e_gvue
(1, 
e1
, 
e4
);

5852 
	ge5
 = 
e_gvue
(2, 
e1
, 
e5
);

5853 
	ge2
) {

5854 0: 
Rre
[
e3
].
Da
[
e4
 / 2] = 
e5
;

5855 1: 
Rem
[
e3
].
Da
[
e4
 / 2] = 
e5
;

5856 2: 
Rsn
[
e3
].
Da
[
e4
 / 2] = 
e5
;

5857 3: 
Rmagic
[
e3
].
Da
[
e4
 / 2] = 
e5
;

5858 4: 
Rsh
[
e3
].
Da
[
e4
 / 2] = 
e5
;

5863 
e3
 = 
e_gvue
(0, 
e1
,3);

5864 
	ge4
 = 
e_gvue
(1, 
e1
, 
e4
);

5865 
	ge2
) {

5866 0: 
x50
[
e5
] = 
Rre
[
e3
].
Da
[
e4
 / 2];

5867 1: 
x50
[
e5
] = 
Rem
[
e3
].
Da
[
e4
 / 2];

5868 2: 
x50
[
e5
] = 
Rsn
[
e3
].
Da
[
e4
 / 2];

5869 3: 
x50
[
e5
] = 
Rmagic
[
e3
].
Da
[
e4
 / 2];

5870 4: 
x50
[
e5
] = 
Rsh
[
e3
].
Da
[
e4
 / 2];

5875 
e2
 = 
e_gvue
(0, 
e1
,2);

5876 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

5877 
	gTmLi
[
e2
] = 
e3
;

5882 
e2
 = 
e_gvue
(0, 
e1
,2);

5883 
	gx50
[
e3
] = 
TmLi
[
e2
];

5887 
e2
 = 
e_gvue
(0, 
e1
,2);

5888 
	gx50
[
e3
] = 0;

5889 
	gi
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

5890 i(
RImLi
[
i
].
Numb
 =
e2
)

5892 
x50
[
e3
] = 
RImLi
[
i
].
Amou
;

5899 
e2
 = 
e_gvue
(0, 
e1
,2);

5900 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

5901 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

5902 
	ge5
 = 
e_gvue
(3, 
e1
, 
e5
);

5903 
	gg_snEvtDa
[
e2
, 
e3
, 
e4
] = 
e5
;

5911 
e2
 = 
e_gvue
(0, 
e1
,2);

5912 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

5913 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

5914 
	gx50
[
e5
] = 
g_snEvtDa
[
e2
, 
e3
, 
e4
];

5918 
e2
 = 
e_gvue
(0, 
e1
,2);

5919 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

5920 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

5921 
	ge5
 = 
e_gvue
(3, 
e1
, 
e5
);

5922 
	ge6
 = 
e_gvue
(4, 
e1
, 
e6
);

5923 
	gg_snDa
[
e2
, 
e3
, 
e5
, 
e4
] = 
e6
;

5931 
e2
 = 
e_gvue
(0, 
e1
,2);

5932 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

5933 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

5934 
	ge5
 = 
e_gvue
(3, 
e1
, 
e5
);

5935 
	gx50
[
e6
] = 
g_snDa
[
e2
, 
e3
, 
e5
, 
e4
];

5940 
e5
 = 
e_gvue
(0, 
e1
,5);

5941 
	ge6
 = 
e_gvue
(1, 
e1
, 
e6
);

5942 
	gt1
 = 
ut16
(
e3
+ ut16(
e4
* 0x10000 + ut16(
e6
);

5943 
	gi
 = 
ut16
(
e3
+ ut16(
e4
) * 0x10000;

5944 
	gt1
) {

5945 0x1D295A: 
Sx
 = 
e5
;

5946 0x1D295C: 
Sy
 = 
e5
;

5951 
	gi
) {

5954 i(
e6
 
mod
 4 <= 1)

5955 
Remli
[
e6
 / 4].
Numb
 = 
e5


5957 
Remli
[
e6
 / 4].
Amou
 = 
e5
;

5960 
	gi
) {

5963 
g_ˉe
[
e6
] = 
e5
 
mod
 256;

5964 
	gg_ˉe
[
e6
 + 1] = 
e5
 / 256;

5968 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

5972 
e6
 = 
e_gvue
(0, 
e1
,6);

5973 
	gt1
 = 
ut16
(
e3
+ ut16(
e4
* 0x10000 + 
ut
(
e6
);

5974 
	gi
 = 
ut16
(
e3
+ ut16(
e4
) * 0x10000;

5975 
	gt1
) {

5976 0x1D295E: 
x50
[
e5
] = 
g_curSn
;

5977 0x1D295A: 
x50
[
e5
] = 
Sx
;

5978 0x1D295C: 
x50
[
e5
] = 
Sy
;

5979 0x1C0B88: 
x50
[
e5
] = 
Mx
;

5980 0x1C0B8C: 
x50
[
e5
] = 
My
;

5983 0x05B53A: 
x50
[
e5
] = 1;

5984 0x0544F2: 
x50
[
e5
] = 
g_sFa
;

5986 i((
	gt1
 - 0x18FE2C >0&& (
t1
 - 0x18FE2C < 800))

5988 
i
 = 
t1
 - 0x18FE2C;

5990 i(
i
 
	gmod
 4 <= 1)

5991 
x50
[
e5
] = 
Remli
[
i
 / 4].
Numb


5993 
x50
[
e5
] = 
Remli
[
i
 / 4].
Amou
;

5999 
e3
 = 
e_gVue
(0, 
e1
,3);

6000 
	gp
 = @
x50
[
e4
];

6001 
	ge2
) {

6002 0: 
p1
 = @
Rre
[
e3
].
Name
;

6003 1: 
p1
 = @
Rem
[
e3
].
Name
;

6004 2: 
p1
 = @
Rsn
[
e3
].
Name
;

6005 3: 
p1
 = @
Rmagic
[
e3
].
Name
;

6007 
	gi
 = 0 
to
 9 do

6009 (
p
 + 
i
)^ = (
p1
 + i)^;

6010 i((
	gp1
 + 
	gi
)^ == (0)) ;

6012 (
	gp
 + 
	gi
)^ = (0x20);

6013 (
	gp
 + 
	gi
 + 1)^ = (0);

6017 
x50
[
e1
] = x50[28005];

6021 
e2
 = 
e_gvue
(0, 
e1
,2);

6022 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

6023 i(
	ge5
 == 0)

6026 
aim
(
e2
, 
e3
);

6028 
	gx50
[
e4
] = 
bfld
[2, 
Ax
, 
Ay
];

6032 
e2
 = 
e_gvue
(0, 
e1
,2);

6033 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

6034 
	gx50
[
e4
] = 
bre
[
e2
].
da
[
e3
 / 2];

6038 
e2
 = 
e_gvue
(0, 
e1
,2);

6039 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

6040 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

6041 
	gbre
[
e2
].
	gDa
[
e3
 / 2] = 
e4
;

6045 
e3
 = 
e_gvue
(0, 
e1
,3);

6046 
	gsu
 = 655360 * (
e3
 + 1+ 
x50
[
e2
];

6051 
e3
 = 
e_gvue
(0, 
e1
,3);

6052 
	ge4
 = 
e_gvue
(1, 
e1
, 
e4
);

6053 
	ge5
 = 
e_gvue
(2, 
e1
, 
e5
);

6055 
	gi
 = 0;

6056 
	gt1
 = 0;

6057 
	gp
 = @
x50
[
e2
];

6058 
	gp1
 = 
p
;

6059 
by
(
p
^) > 0 do

6061 i(
by
(
p
^) == 0x2A)

6063 
p
^ = (0);

6064 
dwbig5shadowxt
(
p1
, 
e3
 - 22, 
e4
 + 22 * 
i
 - 25, 
COLOR
(
e5
 && 0xFF), COLOR(5 && 0xFF00
shl
 8));

6065 
	gi
 = 
i
 + 1;

6066 
	gp1
 = 
p
 + 1;

6068 
	gp
 = 
p
 + 1;

6070 
dwbig5shadowxt
(
p1
, 
e3
 - 22, 
e4
 + 22 - 25, 
COLOR
(
e5
 && 0xFF), COLOR(5 && 0xFF00
shl
 8));

6071 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

6076 
e2
 = 
e_gvue
(0, 
e1
,2);

6077 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

6078 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

6079 
	ge5
 = 
e_gvue
(3, 
e1
, 
e5
);

6080 
DwFmeReg
(
e2
, 
e3
, 
e4
, 
e5
, 0, 
COLOR
(0xFF), 40);

6085 
i
 = 
WaKey
;

6086 
	gx50
[
e1
] = 
i
;

6087 
	gi
) {

6088 
	gsdlk_
: 
x50
[
e1
] = 154;

6089 
	gsdlk_right
: 
x50
[
e1
] = 156;

6090 
	gsdlk_up
: 
x50
[
e1
] = 158;

6091 
	gsdlk_down
: 
x50
[
e1
] = 152;

6096 
e3
 = 
e_gvue
(0, 
e1
,3);

6097 
	ge4
 = 
e_gvue
(1, 
e1
, 
e4
);

6098 
	ge5
 = 
e_gvue
(2, 
e1
, 
e5
);

6102 
	gp
 = @
x50
[
e2
];

6103 
	gi1
 = 1;

6104 
	gi2
 = 0;

6105 
	gt1
 = 0;

6106 
by
(
p
^) > 0 do

6109 i(
by
(
p
^) == 0x2A)

6111 i(
t1
 > 
i2
) i2 =1;

6112 
	gt1
 = 0;

6113 
	gi1
 = 
i1
 + 1;

6115 i(
by
(
p
^=0x20
t1
 =1 + 1;

6116 
	gp
 = 
p
 + 1;

6117 
	gt1
 = 
t1
 + 1;

6119 i(
	gt1
 > 
	gi2
i2 = 
t1
;

6120 
	gp
 = 
p
 - 1;

6121 i(
	gi1
 =0
i1
 = 1;

6122 i(
by
(
p
^=0x2A
i1
 = i1 - 1;

6123 
DwFmeReg
(
e3
, 
e4
, 
i2
 * 10 + 25, 
i1
 * 22 + 5, 0, 
COLOR
(255), 30);

6124 
	gp
 = @
x50
[
e2
];

6125 
	gp1
 = 
p
;

6126 
	gi
 = 0;

6127 
by
(
p
^) > 0 do

6129 i(
by
(
p
^) == 0x2A)

6131 
p
^ = (0);

6132 
dwbig5shadowxt
(
p1
, 
e3
 - 17, 
e4
 + 22 * 
i
 + 2, 
COLOR
(
e5
 && 0xFF), COLOR(5 && 0xFF00
shl
 8));

6133 
	gi
 = 
i
 + 1;

6134 
	gp1
 = 
p
 + 1;

6136 
	gp
 = 
p
 + 1;

6138 
dwbig5shadowxt
(
p1
, 
e3
 - 17, 
e4
 + 22 * 
i
 + 2, 
COLOR
(
e5
 && 0xFF), COLOR(5 && 0xFF00
shl
 8));

6139 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

6140 
	gi
 = 
WaKey
;

6141 i(
	gi
 =
sdlk_y

x50
[0x7000] = 0 x50[0x7000] = 1;

6146 
e2
 = 
e_gvue
(0, 
e1
,2);

6147 
sdl_day
(
e2
);

6151 
e2
 = 
e_gvue
(0, 
e1
,2);

6152 
	gx50
[
e3
] = 
ndom
(
e2
);

6156 
e2
 = 
e_gvue
(0, 
e1
,2);

6157 
	ge5
 = 
e_gvue
(1, 
e1
, 
e5
);

6158 
	ge6
 = 
e_gvue
(2, 
e1
, 
e6
);

6159 
gth
(
murg
, 
e2
);

6160 
gth
(
mugrg
, 0);

6161 
	gt1
 = 0;

6162 
	gi
 = 0 
to
 
e2
 - 1 do

6164 
murg
[
i
] = 
big5toUTF8
(@
x50
[x50[
e3
 + i]]);

6165 
	gi1
 = 
ngth
(
pch
(@
x50
[x50[
e3
 + 
i
]]));

6166 i(
	gi1
 > 
	gt1
t1 = 
i1
;

6168 
	gx50
[
e4
] = 
commmu
(
e5
, 
e6
, 
t1
 * 10 + 3, 
e2
 - 1) + 1;

6172 
e2
 = 
e_gvue
(0, 
e1
,2);

6173 
	ge5
 = 
e_gvue
(1, 
e1
, 
e5
);

6174 
	ge6
 = 
e_gvue
(2, 
e1
, 
e6
);

6175 
gth
(
murg
, 
e2
);

6176 
gth
(
mugrg
, 0);

6177 
	gi2
 = 0;

6178 
	gi
 = 0 
to
 
e2
 - 1 do

6180 
murg
[
i
] = 
big5toUTF8
(@
x50
[x50[
e3
 + i]]);

6181 
	gi1
 = 
ngth
(
pch
(@
x50
[x50[
e3
 + 
i
]]));

6182 i(
	gi1
 > 
	gi2
i2 = 
i1
;

6184 
	gt1
 = (
e1
 
shr
 8) && 0xFF;

6185 i(
	gt1
 =0
t1
 = 5;

6187 
	gx50
[
e4
] = 
commslmu
(
e5
, 
e6
, 
i2
 * 10 + 3, 
e2
 - 1, 
t1
) + 1;

6191 
e3
 = 
e_gvue
(0, 
e1
,3);

6192 
	ge4
 = 
e_gvue
(1, 
e1
, 
e4
);

6193 
	ge5
 = 
e_gvue
(2, 
e1
, 
e5
);

6194 
	ge2
) {

6197 i(
g_Game
 =1
DwSnPic
(
e5
 / 2, 
e3
, 
e4
, 0, 0, 
g_snSur
.
w
, g_snSur.
h
)

6198 
DwMPic
(
e5
 / 2, 
e3
, 
e4
);

6200 1: 
DwFaPic
(
e5
, 
e3
, 
e4
);

6203 
r
 = "pic/" + 
or
(
e5
) + ".png";

6204 
diy_img
(@
r
[1], 
e3
, 
e4
);

6207 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

6211 
e2
 = 
e_gvue
(0, 
e1
,2);

6212 
	ge3
 = 
e_gvue
(0, 
e1
, 
e3
);

6213 
	gMx
 = 
e3
;

6214 
	gMy
 = 
e2
;

6218 
e2
 = 
e_gvue
(0, 
e1
,2);

6219 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

6220 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

6221 
	ge5
 = 
e_gvue
(3, 
e1
, 
e5
);

6222 
	ge6
 = 
e_gvue
(4, 
e1
, 
e6
);

6223 
	gx50
[0x7100] = 
e3
;

6224 
	gx50
[0x7101] = 
e4
;

6225 
	gx50
[0x7102] = 
e5
;

6226 
	gx50
[0x7103] = 
e6
;

6227 i(
	ge2
 == 202)

6229 i(
e5
 =0
ru_2
(
e3
, 
e4

ru_32
(e3,4);

6232 
evt
(
e2
);

6237 
e2
 = 
e_gvue
(0, 
e1
,2);

6238 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

6239 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

6240 
ayAiAmi
(
e2
, 
e3
);

6241 
ayMagicAmi
(
e2
, 
e4
);

6245 
e2
 = 
e_gvue
(0, 
e1
,2);

6246 
showhuvue
(
e2
);

6250 
e2
 = 
e_gvue
(0, 
e1
,2);

6251 
	ge3
 = 
e_gvue
(1, 
e1
, 
e3
);

6252 
	ge4
 = 
e_gvue
(2, 
e1
, 
e4
);

6253 
	ge5
 = 
e_gvue
(3, 
e1
, 
e5
);

6254 
	ge6
 = 
e_gvue
(4, 
e1
, 
e6
);

6255 
	gi1
 = 
e2
 
to
2 + 
e4
 - 1 do

6256 
i2
 = 
e3
 
to
3 + 
e5
 - 1 do

6257 
bfld
[4, 
i1
, 
i2
] = 
e6
;

6264 
r
 = "";

6265 
	gi
 = 
e1
 
to
1 + 
e2
 - 1 do

6266 
r
 = s + "x" + 
or
(
i
+ "=" + itor(
x50
[i]) + (13) + (10);

6267 
mesgebox
(0, @
r
[1], "KYS Wdows", 
MB_OK
);

6279 
funi
 
	$Be
(
bum
, 
gexp
 = 0): 
boޗn
;

6280 
v


6281 
i
 = 0;

6282 
SeTmLi
 = 0;

6283 
x
 = 0;

6284 
y
 = 0;

6286 
Bus
 = 0;

6287 
CutBe
 = 
bum
;

6288 i(
InlBFld
)

6291 
SeTmLi
 = 
SeTmMembs
;

6292 
i
 = 0 
to
 5 do

6294 
y
 = 
wa
[21 + 
i
];

6295 
x
 = 
wa
[27 + 
i
];

6296 i(
SeTmLi
 && (1 
shl
 
i
) > 0)

6298 
Bre
[
BReAmou
].
um
 = 
TmLi
[
i
];

6299 
Bre
[
BReAmou
].
Tm
 = 0;

6300 
Bre
[
BReAmou
].
Y
 = 
y
;

6301 
Bre
[
BReAmou
].
X
 = 
x
;

6302 
Bre
[
BReAmou
].
Fa
 = 2;

6303 
Bre
[
BReAmou
].
Dd
 = 0;

6304 
Bre
[
BReAmou
].
Sp
 = 0;

6305 
Bre
[
BReAmou
].
Aed
 = 0;

6306 
Bre
[
BReAmou
].
ExpG
 = 0;

6307 
Bre
[
BReAmou
].
Auto
 = 0;

6308 
BReAmou
 = BRoleAmount + 1;

6311 
i
 = 0 
to
 5 do

6313 
y
 = 
wa
[21 + 
i
] + 1;

6314 
x
 = 
wa
[27 + 
i
];

6315 i((
wa
[9 + 
i
] > 0&& (
	`ru_16
(warsta[9 + i], 1, 0) == 0))

6317 
Bre
[
BReAmou
].
um
 = 
wa
[9 + 
i
];

6318 
Bre
[
BReAmou
].
Tm
 = 0;

6319 
Bre
[
BReAmou
].
Y
 = 
y
;

6320 
Bre
[
BReAmou
].
X
 = 
x
;

6321 
Bre
[
BReAmou
].
Fa
 = 2;

6322 
Bre
[
BReAmou
].
Dd
 = 0;

6323 
Bre
[
BReAmou
].
Sp
 = 0;

6324 
Bre
[
BReAmou
].
Aed
 = 0;

6325 
Bre
[
BReAmou
].
ExpG
 = 0;

6326 
Bre
[
BReAmou
].
Auto
 = 0;

6327 
BReAmou
 = BRoleAmount + 1;

6331 
ru_14
;

6332 
g_Game
 = 2;

6333 
lwheBfld
;

6334 
MP3
;

6335 
	`aymp3
(
wa
[8], -1);

6336 
BeMaCڌ
;

6338 
ReeReStus
;

6340 i((
bus
 =1|| ((bu=2&& (
gexp
 <> 0)))

6342 
AddExp
;

6343 
CheckLevUp
;

6344 
CheckBook
;

6347 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

6349 i(
Rsn
[
g_curSn
].
EnMusic
 >= 0)

6351 
mp3
;

6352 
	`aymp3
(
Rsn
[
g_curSn
].
EnMusic
, -1);

6355 
g_Game
 = 
EmInGameSn
;

6356 i(
bus
 =1
su
 = 
ue


6357 
su
 = 
l
;

6359 
	}
}

6363 
funi
 
	gSeTmMembs
 = 0;

6364 
v


6365 
	gi
 = 0;

6366 
	gmu
 = 0;

6367 
	gmax
 = 0;

6368 
	gmup
 = 0;

6370 
	gsu
 = 0;

6371 
	gmax
 = 0;

6372 
	gmu
 = 0;

6373 
gth
(
murg
, 7);

6374 
	gi
 = 0 
to
 5 do

6376 i(
Tmli
[
i
] >= 0)

6378 
murg
[
i
] = 
Big5toUTF8
(@
RRe
[
Tmli
[i]].
Name
);

6379 
	gmax
 = 
max
 + 1;

6382 
	gmurg
[
max
] = " 開始戰鬥";

6383 
ShowMuiMu
(
max
, 0, 0);

6384 
SDL_WaEvt
(@
evt
) >= 0) do

6386 
evt
.
ty
) {

6387 
SDL_QUITEV
:

6388 i(
mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

6389 
	gSDL_KEYUP
:

6391 i(((
evt
.
key
.
keysym
.
sym
 =
sdlk_tu
|| (evt.key.keysym.sym =
sdlk_a
)&& (
mu
 <> 
max
))

6394 
su
 =esu 
x
 (1 
shl
 
mu
);

6395 
ShowMuiMu
(
max
, 
mu
, 
su
);

6397 i(((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_tu
|| (
evt
.
key
.
keysym
.
sym
 =
sdlk_a
)&& (
mu
 =
max
))

6399 i(
su
 <> 0) ;

6401 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_up
))

6403 
mu
 = menu - 1;

6404 i(
	gmu
 < 0mu = 
max
;

6405 
ShowMuiMu
(
max
, 
mu
, 
su
);

6407 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_down
))

6409 
mu
 = menu + 1;

6410 i(
	gmu
 > 
	gmax
) menu = 0;

6411 
ShowMuiMu
(
max
, 
mu
, 
su
);

6414 
	gSDL_MOUSEBUTTONUP
:

6416 i((
evt
.
bu
.bu =
sdl_bu_
&& (
mu
 <> 
max
))

6418 
su
 =esu 
x
 (1 
shl
 
mu
);

6419 
ShowMuiMu
(
max
, 
mu
, 
su
);

6421 i((
	gevt
.
	gbu
.bu =
sdl_bu_
&& (
mu
 =
max
))

6423 i(
su
 <> 0) ;

6426 
	gSDL_MOUSEMOTION
:

6428 i((
evt
.
bu
.
x
 >
SCREEN_CENTER_X
 - 75&& (evt.bu.x < SCREEN_CENTER_X + 75&& (evt.bu.
y
 >150&& (evt.bu.y < 
max
 * 22 + 178))

6430 
mup
 = 
mu
;

6431 
	gmu
 = (
evt
.
bu
.
y
 - 152) / 22;

6432 i(
	gmup
 <> 
	gmu

ShowMuiMu
(
max
, 
mu
, 
su
);

6442 
	$ShowMuiMu
(
max
, 
mu
, 
us
 = 0)()

6443 
v


6444 
i
 = 0;

6445 
x
 = 0;

6446 
y
 = 0;

6447 
r
, 
r1
, 
r2
: 
widerg
;

6449 
x
 = 
SCREEN_CENTER_X
 - 105;

6450 
y
 = 150;

6451 
ReDw
;

6452 
r
 = " 選擇參與戰鬥之人物";

6453 
r1
 = " 參戰";

6455 
	`DwFmeReg
(
x
 + 30, 
y
, 150, 
max
 * 22 + 28, 0, 
	`COLOR
(255), 30);

6456 
i
 = 0 
to
 
max
 do

6457 i(
i
 =
mu
)

6459 
	`dwshadowxt
(@
murg
[
i
][1], 
x
 + 13, 
y
 + 3 + 22 * i, 
	`COLOR
(0x66), COLOR(0x64));

6460 i((
us
 && (1 
shl
 
i
)) > 0)

6461 
	`dwshadowxt
(@
r1
[1], 
x
 + 113, 
y
 + 3 + 22 * 
i
, 
	`COLOR
(0x66), COLOR(0x64));

6464 
	`dwshadowxt
(@
murg
[
i
][1], 
x
 + 13, 
y
 + 3 + 22 * i, 
	`COLOR
(0x7), COLOR(0x5));

6465 i((
us
 && (1 
shl
 
i
)) > 0)

6466 
	`dwshadowxt
(@
r1
[1], 
x
 + 113, 
y
 + 3 + 22 * 
i
, 
	`COLOR
(0x23), COLOR(0x21));

6468 
	`sdl_upde
(
g_snSur
, 
x
 + 30, 
y
, 151, 
max
 * 22 + 28 + 1);

6469 
	}
}

6480 
funi
 
	gInlBFld
: 
boޗn
;

6481 
v


6482 
	ga
 = 0;

6483 
	gg
 = 0;

6484 
	gidx
 = 0;

6485 
	gofft
 = 0;

6486 
	gi
 = 0;

6487 
	gi1
 = 0;

6488 
	gi2
 = 0;

6489 
	gx
 = 0;

6490 
	gy
 = 0;

6491 
	gfldnum
 = 0;

6493 
	ga
 = 
feݒ
("w.a", 
fmݒad
);

6494 
	gofft
 = 
cutbe
 * 0xBA;

6495 
feek
(
a
, 
offt
, 0);

6496 
fd
(
a
, 
wa
, 0xBA);

6497 
feo
(
a
);

6498 
	gfldnum
 = 
wa
[6];

6499 i(
	gfldnum
 =0
offt
 = 0

6501 
idx
 = 
feݒ
("wd.idx", 
fmݒad
);

6502 
feek
(
idx
, (
fldnum
 - 1) * 4, 0);

6503 
fd
(
idx
, 
offt
, 4);

6504 
feo
(
idx
);

6506 
	gg
 = 
feݒ
("wd.g", 
fmݒad
);

6507 
feek
(
g
, 
offt
, 0);

6508 
fd
(
g
, 
Bfld
[0, 0, 0], 2 * 64 * 64 * 2);

6509 
feo
(
g
);

6510 
	gi1
 = 0 
to
 63 do

6511 
i2
 = 0 
to
 63 do

6512 
Bfld
[2, 
i1
, 
i2
] = -1;

6513 
	gBReAmou
 = 0;

6514 
	gsu
 = 
ue
;

6516 
	gi
 = 0 
to
 5 do

6518 
y
 = 
wa
[21 + 
i
];

6519 
	gx
 = 
wa
[27 + 
i
];

6520 i(
	gwa
[15 + 
i
] >= 0)

6522 
Bre
[
BReAmou
].
um
 = 
wa
[15 + 
i
];

6523 
	gBre
[
BReAmou
].
	gTm
 = 0;

6524 
	gBre
[
BReAmou
].
	gY
 = 
y
;

6525 
	gBre
[
BReAmou
].
	gX
 = 
x
;

6526 
	gBre
[
BReAmou
].
	gFa
 = 2;

6527 
	gBre
[
BReAmou
].
	gDd
 = 0;

6528 
	gBre
[
BReAmou
].
	gSp
 = 0;

6529 
	gBre
[
BReAmou
].
	gAed
 = 0;

6530 
	gBre
[
BReAmou
].
	gExpG
 = 0;

6531 
	gBre
[
BReAmou
].
	gAuto
 = 0;

6532 
	gBReAmou
 = 
BReAmou
 + 1;

6536 i(
	gBReAmou
 > 0
	gsu
 = 
F
;

6537 
	gi
 = 0 
to
 19 do

6539 
y
 = 
wa
[53 + 
i
];

6540 
	gx
 = 
wa
[73 + 
i
];

6541 i(
	gwa
[33 + 
i
] >= 0)

6543 
Bre
[
BReAmou
].
um
 = 
wa
[33 + 
i
];

6544 
	gBre
[
BReAmou
].
	gTm
 = 1;

6545 
	gBre
[
BReAmou
].
	gY
 = 
y
;

6546 
	gBre
[
BReAmou
].
	gX
 = 
x
;

6547 
	gBre
[
BReAmou
].
	gFa
 = 1;

6548 
	gBre
[
BReAmou
].
	gDd
 = 0;

6549 
	gBre
[
BReAmou
].
	gSp
 = 0;

6550 
	gBre
[
BReAmou
].
	gAed
 = 0;

6551 
	gBre
[
BReAmou
].
	gExpG
 = 0;

6552 
	gBre
[
BReAmou
].
	gAuto
 = 0;

6553 
	gBReAmou
 = 
BReAmou
 + 1;

6561 
	$DwWheBFld
()

6562 
v


6563 
i
 = 0;

6564 
i1
 = 0;

6565 
i2
 = 0;

6567 i((
	`SDL_MuLock
(
g_snSur
)))

6569 i((
	`SDL_LockSur
(
g_snSur
) < 0))

6571 
	`MesgeBox
(0, 
	`PCh
(
	`Fm
("C'lock g_snSur : %s", [
SDL_GE
])), "E", 
MB_OK
 || 
MB_ICONHAND
);

6572 
ex
;

6575 
	`DwBFldWhoutRe
(
Bx
, 
By
);

6577 
i1
 = 0 
to
 63 do

6578 
i2
 = 0 
to
 63 do

6580 i((
Bfld
[2, 
i1
, 
i2
] >0&& (
Bre
[Bfld[2, i1, i2]].
Dd
 == 0))

6581 
	`DwReOnBfld
(
i1
, 
i2
);

6583 i((
	`SDL_MuLock
(
g_snSur
)))

6585 
	`SDL_UockSur
(
g_snSur
);

6587 
	}
}

6591 
	$DwReOnBfld
(
x
, 
y
 = 0)()

6592 
v


6593 
i1
 = 0;

6594 
i2
 = 0;

6595 
xpot
 = 0;

6596 
ypot
 = 0;

6597 
pos
, 
pos1
: 
Tposi
;

6599 i((
	`SDL_MuLock
(
g_snSur
)))

6601 i((
	`SDL_LockSur
(
g_snSur
) < 0))

6603 
	`MesgeBox
(0, 
	`PCh
(
	`Fm
("C'lock g_snSur : %s", [
SDL_GE
])), "E", 
MB_OK
 || 
MB_ICONHAND
);

6604 
ex
;

6608 
pos
 = 
	`GMSnXYPos
(
x
, 
y
, 
Bx
, 
By
);

6609 
i1
 = 
x
 - 1 
to
 x + 10 do

6610 
i2
 = 
y
 - 1 
to
 y + 10 do

6612 i((
i1
 =
x
&& (
i2
 =
y
))

6613 
	`DwBFPic
(
Rre
[
Bre
[
Bfld
[2, 
x
, 
y
]].
um
].
HdNum
 * 4 + Bre[Bfld[2, x, y]].
Fa
 + 
BEGIN_BATTLE_ROLE_PIC
, 
pos
.x,os.y, 0);

6615 i((
Bfld
[1, 
i1
, 
i2
] > 0))

6617 
pos1
 = 
	`GMSnXYPos
(
i1
, 
i2
, 
Bx
, 
By
);

6618 
	`DwBFPicInRe
(
Bfld
[1, 
i1
, 
i2
] / 2, 
pos1
.
x
,os1.
y
, 0, 
pos
.x - 20,os.y - 60, 40, 60);

6619 i((
Bfld
[2, 
i1
, 
i2
] >0&& (
Bre
[Bfld[2, i1, i2]].
Dd
 == 0))

6620 
	`DwBFPicInRe
(
Rre
[
Bre
[
Bfld
[2, 
x
, 
y
]].
um
].
HdNum
 * 4 + Bre[Bfld[2, 
i1
, 
i2
]].
Fa
 + 
BEGIN_BATTLE_ROLE_PIC
, 
pos1
.x,os1.y, 0, 
pos
.x - 20,os.y - 60, 40, 60);

6624 i((
	`SDL_MuLock
(
g_snSur
)))

6626 
	`SDL_UockSur
(
g_snSur
);

6629 
	}
}

6633 
	$InlWheBFld
()

6634 
v


6635 
i1
 = 0;

6636 
i2
 = 0;

6637 
x
 = 0;

6638 
y
 = 0;

6640 
i1
 = 0 
to
 63 do

6641 
i2
 = 0 
to
 63 do

6643 
x
 = -
i1
 * 18 + 
i2
 * 18 + 1151;

6644 
y
 = 
i1
 * 9 + 
i2
 * 9 + 9;

6645 i((
i1
 < 0|| (
i2
 < 0|| (i1 > 63|| (i2 > 63)
	`DwPicToBFPic
(0, 
x
, 
y
)

6647 
	`DwPicToBFPic
(
bfld
[0, 
i1
, 
i2
] / 2, 
x
, 
y
);

6648 i((
bfld
[1, 
i1
, 
i2
] > 0))

6649 
	`DwPicToBFPic
(
bfld
[1, 
i1
, 
i2
] / 2, 
x
, 
y
);

6653 
	}
}

6657 
	$BeMaCڌ
()

6658 
v


6659 
i
 = 0;

6663 
BStus
 == 0 do

6665 
CMoveAby
;

6666 
ReAgeBRe
;

6668 
CˬDdRePic
;

6671 
i
 = 0 
to
 
brޗmou
 - 1 do

6673 
Bre
[
i
].
Aed
 = 0;

6674 
Bre
[
i
].
ShowNumb
 = 0;

6677 
i
 = 0;

6678 
i
 < 
brޗmou
&& (
Bus
 == 0) do

6681 
Bx
 = 
Bre
[
i
].
X
;

6682 
By
 = 
Bre
[
i
].
Y
;

6683 
dw
;

6686 
x50
[28005] = 
i
;

6688 i((
Bre
[
i
].
Dd
 == 0))

6690 i((
Bre
[
i
].
Tm
 =0&& (Bre[i].
Auto
 == 0))

6692 
	`BeMu
(
i
)) {

6693 0: 
	`Move
(
i
);

6694 1: 
	`Aack
(
i
);

6695 2: 
	`UPoisi
(
i
);

6696 3: 
	`MedPoisi
(
i
);

6697 4: 
	`Medce
(
i
);

6698 5: 
	`BeMuIm
(
i
);

6699 6: 
	`Wa
(
i
);

6703 
	`ShowStus
(
Bre
[
i
].
um
);

6704 
WaKey
;

6706 8: 
	`Re
(
i
);

6709 
Bre
[
i
].
Auto
 = 1;

6710 
	`AutoBe
(
i
);

6711 
Bre
[
i
].
Aed
 = 1;

6716 
	`AutoBe
(
i
);

6717 
Bre
[
i
].
Aed
 = 1;

6720 
Bre
[
i
].
Aed
 = 1;

6722 
CˬDdRePic
;

6723 
dw
;

6724 
Bus
 = 
BeStus
;

6726 i(
Bre
[
i
].
Aed
 == 1)

6727 
i
 = i + 1;

6730 
CPoiHuLi
;

6734 
	}
}

6738 
	$ReAgeBRe
()

6739 
v


6740 
i
 = 0;

6741 
i1
 = 0;

6742 
i2
 = 0;

6743 
x
 = 0;

6744 
mp
: 
TBeRe
;

6746 
i1
 = 0 
to
 
BReAmou
 - 2 do

6747 
i2
 = 
i1
 + 1 
to
 
BReAmou
 - 1 do

6749 i(
Rre
[
Bre
[
i1
].
um
].
Sed
 < Rre[Bre[
i2
].rnum].Speed)

6751 
mp
 = 
Bre
[
i1
];

6752 
Bre
[
i1
] = Bre[
i2
];

6753 
Bre
[
i2
] = 
mp
;

6757 
i1
 = 0 
to
 63 do

6758 
i2
 = 0 
to
 63 do

6759 
Bfld
[2, 
i1
, 
i2
] = -1;

6761 
i
 = 0 
to
 
BReAmou
 - 1 do

6763 i(
Bre
[
i
].
Dd
 == 0)

6764 
Bfld
[2, 
Bre
[
i
].
X
, Bre[i].
Y
] = i

6766 
Bfld
[2, 
Bre
[
i
].
X
, Bre[i].
Y
] = -1;

6769 
	}
}

6773 
	$CMoveAby
()

6774 
v


6775 
i
 = 0;

6776 
um
 = 0;

6777 
addd
 = 0;

6779 
i
 = 0 
to
 
brޗmou
 - 1 do

6781 
um
 = 
Bre
[
i
].rnum;

6782 
addd
 = 0;

6783 i(
e
[
um
].
Equ
[0] >0
addd
 =ddd + 
rem
[e[um].Equ[0]].
AddSed
;

6784 i(
e
[
um
].
Equ
[1] >0
addd
 =ddd + 
rem
[e[um].Equ[1]].
AddSed
;

6785 
Bre
[
i
].
Sp
 = (
Rre
[Bre[i].
um
].
Sed
 + 
addd
) / 15;

6788 
	}
}

6793 
funi
 
	gBeStus
 = 0;

6794 
v


6795 
	gi
 = 0;

6796 
	gsum0
 = 0;

6797 
	gsum1
 = 0;

6799 
	gsum0
 = 0;

6800 
	gsum1
 = 0;

6801 
	gi
 = 0 
to
 
brޗmou
 - 1 do

6803 i((
Bre
[
i
].
Tm
 =0&& (Bre[i].
Dd
 == 0))

6804 
sum0
 = sum0 + 1;

6805 i((
	gBre
[
i
].
	gTm
 =1&& (
Bre
[i].
Dd
 == 0))

6806 
sum1
 = sum1 + 1;

6809 i((
	gsum0
 > 0&& (
	gsum1
 > 0)
	gsu
 = 0;

6810 i((
	gsum0
 >0&& (
sum1
 =0)
su
 = 1;

6811 i((
	gsum0
 =0&& (
sum1
 > 0)
su
 = 2;

6817 
funi
 
BeMu
(
bnum
 = 0) = 0;

6818 
v


6819 
	gi
 = 0;

6820 
	gp
 = 0;

6821 
	gmuus
 = 0;

6822 
	gmu
 = 0;

6823 
	gmax
 = 0;

6824 
	gum
 = 0;

6825 
	gmup
 = 0;

6826 
	gmu
: 
y
[0..9] 
of
 
g
;

6828 
	gmuus
 = 0x3E0;

6829 
	gmax
 = 4;

6831 
	gum
 = 
bre
[
bnum
].
um
;

6833 i(
	gbre
[
bnum
].
	gSp
 > 0)

6835 
	gmuus
 = 
muus
 || 1;

6836 
	gmax
 = 
max
 + 1;

6841 i(
	ge
[
um
].
	gPhyPow
 >= 10)

6843 
p
 = 0;

6844 
	gi
 = 0 
to
 9 do

6846 i(
e
[
um
].
Magic
[
i
] > 0)

6848 
p
 = 1;

6852 i(
	gp
 > 0)

6854 
	gmuus
 = 
muus
 || 2;

6855 
	gmax
 = 
max
 + 1;

6859 i((
	gRre
[
um
].
	gUPoi
 > 0&& (
	ge
[um].
	gPhyPow
 >= 30))

6861 
muus
 = menustatus || 4;

6862 
	gmax
 = 
max
 + 1;

6865 i((
	gRre
[
um
].
	gMedPoi
 > 0&& (
	ge
[um].
	gPhyPow
 >= 50))

6867 
muus
 = menustatus || 8;

6868 
	gmax
 = 
max
 + 1;

6871 i((
	gRre
[
um
].
	gMedce
 > 0&& (
	ge
[um].
	gPhyPow
 >= 50))

6873 
muus
 = menustatus || 16;

6874 
	gmax
 = 
max
 + 1;

6877 
	gReDw
;

6878 
ShowSimeStus
(
bre
[
bnum
].
um
, 350, 50);

6879 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

6880 
	gmu
 = 0;

6881 
showbmu
(
muus
, 
mu
, 
max
);

6883 
SDL_WaEvt
(@
evt
) >= 0) do

6885 
evt
.
ty
) {

6886 
SDL_QUITEV
:

6887 i(
mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

6888 
	gSDL_KEYUP
:

6890 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_tu
|| (evt.key.keysym.sym =
sdlk_a
))

6894 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_up
))

6896 
mu
 = menu - 1;

6897 i(
	gmu
 < 0mu = 
max
;

6898 
showbmu
(
muus
, 
mu
, 
max
);

6900 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_down
))

6902 
mu
 = menu + 1;

6903 i(
	gmu
 > 
	gmax
) menu = 0;

6904 
showbmu
(
muus
, 
mu
, 
max
);

6906 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_tu
&& (
evt
.
key
.
keysym
.
modifr
 =
kmod_
))

6908 i(
g_fuSn
 == 1)

6909 
g_snSur
 = 
SDL_SVideoMode
(
SCREEN_CENTER_X
 * 2, 
SCREEN_CENTER_Y
 * 2, 32, 
SDL_SWSURFACE
 || 
SDL_DOUBLEBUF
 || 
SDL_ANYFORMAT
)

6911 
	gg_snSur
 = 
SDL_SVideoMode
(
SCREEN_CENTER_X
 * 2, 
SCREEN_CENTER_Y
 * 2, 32, 
SDL_FULLSCREEN
);

6912 
	gg_fuSn
 = 1 - 
g_fuSn
;

6915 
	gSDL_MOUSEBUTTONUP
:

6917 i((
evt
.
bu
.bu =
sdl_bu_
))

6920 
	gSDL_MOUSEMOTION
:

6922 i((
evt
.
bu
.
x
 >100&& (evt.bu.x < 147&& (evt.bu.
y
 >50&& (evt.bu.y < 
max
 * 22 + 78))

6924 
mup
 = 
mu
;

6925 
	gmu
 = (
evt
.
bu
.
y
 - 52) / 22;

6926 i(
	gmu
 > 
	gmax
mu = 
max
;

6927 i(
	gmu
 < 0) menu = 0;

6928 i(
	gmup
 <> 
	gmu

showbmu
(
muus
, 
mu
, 
max
);

6934 
	gp
 = 0;

6935 
	gi
 = 0 
to
 9 do

6937 i((
muus
 && (1 
shl
 
i
)) > 0)

6939 
p
 = + 1;

6940 i(
	gp
 > 
	gmu
) ;

6943 
	gsu
 = 
i
;

6949 
	$ShowBMu
(
MuStus
, 
mu
, 
max
 = 0)()

6950 
v


6951 
i
 = 0;

6952 
p
 = 0;

6953 
wd
: 
y
[0..9] 
of
 
widerg
;

6955 
wd
[0] = " 移動";

6956 
wd
[1] = " 攻擊";

6957 
wd
[2] = " 用毒";

6958 
wd
[3] = " 解毒";

6959 
wd
[4] = " 醫療";

6960 
wd
[5] = " 物品";

6961 
wd
[6] = " 等待";

6962 
wd
[7] = " 狀態";

6963 
wd
[8] = " 休息";

6964 
wd
[9] = " 自動";

6965 
Redw
;

6966 
	`DwFmeReg
(100, 50, 47, 
max
 * 22 + 28, 0, 
	`COLOR
(255), 30);

6967 
p
 = 0;

6968 
i
 = 0 
to
 9 do

6970 i((
p
 =
mu
&& ((
muus
 && (1 
shl
 
i
) > 0)))

6972 
	`dwshadowxt
(@
wd
[
i
][1], 83, 53 + 22 * 
p
, 
	`COLOR
(0x66), COLOR(0x64));

6973 
p
 = + 1;

6975 i((
p
 <> 
mu
&& ((
muus
 && (1 
shl
 
i
) > 0)))

6977 
	`dwshadowxt
(@
wd
[
i
][1], 83, 53 + 22 * 
p
, 
	`COLOR
(0x23), COLOR(0x21));

6978 
p
 = + 1;

6981 
	`sdl_upde
(
g_snSur
, 100, 50, 48, 
max
 * 22 + 29);

6982 
	}
}

6986 
	$Move
(
bnum
 = 0)()

6987 
v


6988 
s
 = 0;

6989 
i
 = 0;

6991 
	`CCSe
(
bnum
, 0);

6992 i(
	`SeAim
(
bnum
, 
bre
[bnum].
Sp
))

6993 
	`MoveAmi
(
bnum
);

6995 
	}
}

6999 
	$MoveAmi
(
bnum
 = 0)()

7000 
v


7001 
s
 = 0;

7002 
i
 = 0;

7006 
bre
[
bnum
].
Sp
 = bre[bnum].S- 
	`abs
(
Ax
 - 
Bx
-bs(
Ay
 - 
By
);

7007 
s
 = 
	`sign
(
Ax
 - 
Bx
);

7008 i(
s
 < 0
Bre
[
bnum
].
Fa
 = 0;

7009 i(
s
 > 0
Bre
[
bnum
].
Fa
 = 3;

7010 
i
 = 
Bx
 + 
s
;

7011 i(
s
 <> 0)

7012 
s
 * (
Ax
 - 
i
) >= 0 do

7014 
	`sdl_day
(20);

7015 i(
Bfld
[2, 
Bx
, 
By
] =
bnum
) Bfield[2, Bx, By] = -1;

7016 
Bx
 = 
i
;

7017 i(
Bfld
[2, 
Bx
, 
By
] =-1Bfld[2, Bx, By] = 
bnum
;

7018 
Redw
;

7019 
	`SDL_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7020 
i
 = i + 
s
;

7022 
s
 = 
	`sign
(
Ay
 - 
By
);

7023 i(
s
 < 0
Bre
[
bnum
].
Fa
 = 2;

7024 i(
s
 > 0
Bre
[
bnum
].
Fa
 = 1;

7025 
i
 = 
By
 + 
s
;

7026 i(
s
 <> 0)

7027 
s
 * (
Ay
 - 
i
) >= 0 do

7029 
	`sdl_day
(20);

7030 i(
Bfld
[2, 
Bx
, 
By
] =
bnum
) Bfield[2, Bx, By] = -1;

7031 
By
 = 
i
;

7032 i(
Bfld
[2, 
Bx
, 
By
] =-1Bfld[2, Bx, By] = 
bnum
;

7033 
Redw
;

7034 
	`SDL_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7035 
i
 = i + 
s
;

7037 
Bre
[
bnum
].
X
 = 
Bx
;

7038 
Bre
[
bnum
].
Y
 = 
By
;

7039 
Bfld
[2, 
Bx
, 
By
] = 
bnum
;

7041 
	}
}

7045 
funi
 
	$SeAim
(
bnum
, 

 = 0): 
boޗn
;

7046 
v


7047 
Axp
 = 0;

7048 
Ayp
 = 0;

7050 
Ax
 = 
Bx
;

7051 
Ay
 = 
By
;

7052 
	`DwBFldWhCurs
(

);

7053 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7054 
	`SDL_WaEvt
(@
evt
) >= 0) do

7056 
evt
.
ty
) {

7057 
SDL_QUITEV
:

7058 i(
	`mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

7059 
SDL_KEYUP
:

7061 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_tu
|| (evt.key.keysym.sym =
sdlk_a
))

7063 
su
 = 
ue
;

7064 
x50
[28927] = 1;

7067 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_es
))

7069 
su
 = 
l
;

7070 
x50
[28927] = 0;

7073 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_
))

7075 
Ay
 = Ay - 1;

7076 i((
	`abs
(
Ax
 - 
Bx
+bs(
Ay
 - 
By
> 

|| (
Bfld
[3, Ax, Ay] <> 0)) Ay = Ay + 1;

7077 
	`DwBFldWhCurs
(

);

7078 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7080 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_right
))

7082 
Ay
 = Ay + 1;

7083 i((
	`abs
(
Ax
 - 
Bx
+bs(
Ay
 - 
By
> 

|| (
Bfld
[3, Ax, Ay] <> 0)) Ay = Ay - 1;

7084 
	`DwBFldWhCurs
(

);

7085 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7087 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_down
))

7089 
Ax
 = Ax + 1;

7090 i((
	`abs
(
Ax
 - 
Bx
+bs(
Ay
 - 
By
> 

|| (
Bfld
[3, Ax, Ay] <> 0)) Ax = Ax - 1;

7091 
	`DwBFldWhCurs
(

);

7092 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7094 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_up
))

7096 
Ax
 = Ax - 1;

7097 i((
	`abs
(
Ax
 - 
Bx
+bs(
Ay
 - 
By
> 

|| (
Bfld
[3, Ax, Ay] <> 0)) Ax = Ax + 1;

7098 
	`DwBFldWhCurs
(

);

7099 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7102 
SDL_MOUSEBUTTONUP
:

7104 i((
evt
.
bu
.bu =
sdl_bu_
))

7106 
su
 = 
ue
;

7109 i((
evt
.
bu
.bu =
sdl_bu_right
))

7111 
su
 = 
l
;

7115 
SDL_MOUSEMOTION
:

7117 
Axp
 = (-
evt
.
bu
.
x
 + 
SCREEN_CENTER_X
 + 2 *vt.bu.
y
 - 2 * 
SCREEN_CENTER_Y
 + 18/ 36 + 
Bx
;

7118 
Ayp
 = (
evt
.
bu
.
x
 - 
SCREEN_CENTER_X
 + 2 *vt.bu.
y
 - 2 * 
SCREEN_CENTER_Y
 + 18/ 36 + 
By
;

7119 i((
	`abs
(
Axp
 - 
Bx
+bs(
Ayp
 - 
By
<

&& (
Bfld
[3, Axp, Ayp] == 0))

7121 
Ax
 = 
Axp
;

7122 
Ay
 = 
Ayp
;

7123 
	`DwBFldWhCurs
(

);

7124 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7130 
	}
}

7135 
	$SkPh
(
x
, 
y
, 

 = 0)()

7137 i(

 > 0)

7139 

 = step - 1;

7140 i(
Bfld
[3, 
x
, 
y
] 

 [0..

])

7142 
Bfld
[3, 
x
, 
y
] = 

;

7143 i(
Bfld
[3, 
x
 + 1, 
y
] 

 [0..

])

7145 
	`SkPh
(
x
 + 1, 
y
, 

);

7147 i(
Bfld
[3, 
x
, 
y
 + 1] 

 [0..

])

7149 
	`SkPh
(
x
, 
y
 + 1, 

);

7151 i(
Bfld
[3, 
x
 - 1, 
y
] 

 [0..

])

7153 
	`SkPh
(
x
 - 1, 
y
, 

);

7155 i(
Bfld
[3, 
x
, 
y
 - 1] 

 [0..

])

7157 
	`SkPh
(
x
, 
y
 - 1, 

);

7162 
	}
}

7165 
	$CCSe
(
bnum
, 
mode
 = 0)()

7166 
v


7167 
i
 = 0;

7168 
i1
 = 0;

7169 
i2
 = 0;

7171 
i1
 = 0 
to
 63 do

7172 
i2
 = 0 
to
 63 do

7174 
Bfld
[3, 
i1
, 
i2
] = 0;

7176 i(
mode
 == 0)

7178 i(
Bfld
[1, 
i1
, 
i2
] > 0) Bfield[3, i1, i2] = -1;

7179 i(
Bfld
[2, 
i1
, 
i2
] >= 0) Bfield[3, i1, i2] = -1;

7180 i(
Bfld
[2, 
i1
, 
i2
] =
bnum
) Bfield[3, i1, i2] = 0;

7183 i(
mode
 == 0)

7185 
	`SkPh
(
Bre
[
bnum
].
X
, Bre[bnum].
Y
, Bre[bnum].
Sp
 + 2);

7187 
i1
 = 0 
to
 63 do

7188 
i2
 = 0 
to
 63 do

7190 i(
Bfld
[3, 
i1
, 
i2
] > 0)

7191 
Bfld
[3, 
i1
, 
i2
] = 0

7193 
Bfld
[3, 
i1
, 
i2
] = 1;

7196 
	}
}

7201 
	$DwBFldWhCurs
(

 = 0)()

7202 
v


7203 
i
 = 0;

7204 
i1
 = 0;

7205 
i2
 = 0;

7206 
bnum
 = 0;

7207 
pos
: 
TPosi
;

7209 i((
	`SDL_MuLock
(
g_snSur
)))

7211 i((
	`SDL_LockSur
(
g_snSur
) < 0))

7213 
	`MesgeBox
(0, 
	`PCh
(
	`Fm
("C'lock g_snSur : %s", [
SDL_GE
])), "E", 
MB_OK
 || 
MB_ICONHAND
);

7214 
ex
;

7217 
i1
 = 0 
to
 63 do

7218 
i2
 = 0 
to
 63 do

7219 i(
Bfld
[0, 
i1
, 
i2
] > 0)

7221 
pos
 = 
	`GMSnXYPos
(
i1
, 
i2
, 
Bx
, 
By
);

7222 i((
i1
 =
Ax
&& (
i2
 =
Ay
))

7223 
	`DwBFPic
(
Bfld
[0, 
i1
, 
i2
] / 2, 
pos
.
x
,os.
y
, 1)

7224 i((
BFld
[3, 
i1
, 
i2
] =0&& (
	`abs
(i1 - 
Bx
+bs(i2 - 
By
<

))

7225 
	`DwBFPic
(
Bfld
[0, 
i1
, 
i2
] / 2, 
pos
.
x
,os.
y
, 0)

7227 
	`DwBFPic
(
Bfld
[0, 
i1
, 
i2
] / 2, 
pos
.
x
,os.
y
, -1);

7230 
i1
 = 0 
to
 63 do

7231 
i2
 = 0 
to
 63 do

7233 
pos
 = 
	`GMSnXYPos
(
i1
, 
i2
, 
Bx
, 
By
);

7234 i(
Bfld
[1, 
i1
, 
i2
] > 0)

7235 
	`DwBFPic
(
Bfld
[1, 
i1
, 
i2
] / 2, 
pos
.
x
,os.
y
, 0);

7236 
bnum
 = 
Bfld
[2, 
i1
, 
i2
];

7237 i((
bnum
 >0&& (
Bre
[bnum].
Dd
 == 0))

7238 
	`DwBFPic
(
Rre
[
Bre
[
bnum
].
um
].
HdNum
 * 4 + Bre[bnum].
Fa
 + 
BEGIN_BATTLE_ROLE_PIC
, 
pos
.
x
,os.
y
, 0);

7240 i((
	`SDL_MuLock
(
g_snSur
)))

7242 
	`SDL_UockSur
(
g_snSur
);

7245 
	}
}

7249 
	$DwBFldWhE
(
Epium
 = 0)()

7250 
v


7251 
i
 = 0;

7252 
i1
 = 0;

7253 
i2
 = 0;

7254 
pos
: 
TPosi
;

7256 i((
	`SDL_MuLock
(
g_snSur
)))

7258 i((
	`SDL_LockSur
(
g_snSur
) < 0))

7260 
	`MesgeBox
(0, 
	`PCh
(
	`Fm
("C'lock g_snSur : %s", [
SDL_GE
])), "E", 
MB_OK
 || 
MB_ICONHAND
);

7261 
ex
;

7264 
	`DwBfldWhoutRe
(
Bx
, 
By
);

7266 
i1
 = 0 
to
 63 do

7267 
i2
 = 0 
to
 63 do

7269 
pos
 = 
	`GMSnXYPos
(
i1
, 
i2
, 
Bx
, 
By
);

7270 i((
Bfld
[2, 
i1
, 
i2
] >0&& (
Bre
[Bfld[2, i1, i2]].
Dd
 == 0))

7271 
	`DwReOnBFld
(
i1
, 
i2
);

7272 i(
Bfld
[4, 
i1
, 
i2
] > 0)

7273 
	`DwEf
(
Epium
, 
pos
.
x
,os.
y
);

7275 i((
	`SDL_MuLock
(
g_snSur
)))

7277 
	`SDL_UockSur
(
g_snSur
);

7280 
	}
}

7284 
	$DwBFldWhAi
(
bnum
, 
Apium
 = 0)()

7285 
v


7286 
i
 = 0;

7287 
i1
 = 0;

7288 
i2
 = 0;

7289 
pos
: 
TPosi
;

7291 i((
	`SDL_MuLock
(
g_snSur
)))

7293 i((
	`SDL_LockSur
(
g_snSur
) < 0))

7295 
	`MesgeBox
(0, 
	`PCh
(
	`Fm
("C'lock g_snSur : %s", [
SDL_GE
])), "E", 
MB_OK
 || 
MB_ICONHAND
);

7296 
ex
;

7299 
	`DwBfldWhoutRe
(
Bx
, 
By
);

7301 
i1
 = 0 
to
 63 do

7302 
i2
 = 0 
to
 63 do

7304 i((
Bfld
[2, 
i1
, 
i2
] >0&& (
Bre
[Bfld[2, i1, i2]].
Dd
 =0&& (Bfld[2, i1, i2] <> 
bnum
))

7306 
	`DwReOnBfld
(
i1
, 
i2
);

7308 i((
Bfld
[2, 
i1
, 
i2
] =
bnum
))

7310 
pos
 = 
	`GMSnXYPos
(
i1
, 
i2
, 
Bx
, 
By
);

7311 
	`DwAi
(
ium
, 
pos
.
x
,os.
y
);

7314 i((
	`SDL_MuLock
(
g_snSur
)))

7316 
	`SDL_UockSur
(
g_snSur
);

7319 
	}
}

7323 
	$Aack
(
bnum
 = 0)()

7324 
v


7325 
um
 = 0;

7326 
i
 = 0;

7327 
mnum
 = 0;

7328 
v
 = 0;

7329 

 = 0;

7330 
i1
 = 0;

7332 
um
 = 
bre
[
bnum
].rnum;

7333 
i
 = 
	`SeMagic
(
um
);

7334 
mnum
 = 
Rre
[
um
].
Magic
[
i
];

7335 
v
 = 
Rre
[
um
].
MagLev
[
i
] / 100 + 1;

7337 i(
i
 >= 0)

7339 
Rmagic
[
mnum
].
AAaTy
) {

7342 
	`CCSe
(
bnum
, 1);

7343 

 = 
Rmagic
[
mnum
].
MoveDi
[
v
 - 1];

7344 i(
	`SeAim
(
bnum
, 

))

7346 
	`SAmiPosi
(
Rmagic
[
mnum
].
AAaTy
, Rmagic[mnum].
ADi
[
v
 - 1]);

7347 
Bre
[
bnum
].
Aed
 = 1;

7352 i(
	`SeDe
(
bnum
))

7354 
	`SAmiPosi
(
Rmagic
[
mnum
].
AAaTy
, Rmagic[mnum].
MoveDi
[
v
 - 1]);

7355 
Bre
[
bnum
].
Aed
 = 1;

7360 
	`SAmiPosi
(
Rmagic
[
mnum
].
AAaTy
, Rmagic[mnum].
MoveDi
[
v
 - 1]);

7361 
Bre
[
bnum
].
Aed
 = 1;

7365 i(
Bre
[
bnum
].
Aed
 == 1)

7367 
i1
 = 0 
to
 
	`sign
(
Rre
[
um
].
ATwi
) do

7369 
Rre
[
um
].
MagLev
[
i
] = Rre[um].MagLev[i] + 
	`ndom
(2) + 1;

7370 i(
Rre
[
um
].
MagLev
[
i
] > 999) Rrole[rnum].MagLevel[i] = 999;

7371 i(
rmagic
[
mnum
].
UnKnow
[4] > 0
	`evt
(rmagic[mnum].UnKnow[4])

7372 
	`AackAi
(
bnum
, 
mnum
, 
v
);

7376 
	}
}

7380 
	$AackAi
(
bnum
, 
mnum
, 
v
 = 0)()

7382 
	`PyAiAmi
(
bnum
, 
Rmagic
[
mnum
].
MagicTy
);

7383 
	`PyMagicAmi
(
bnum
, 
Rmagic
[
mnum
].
AmiNum
);

7384 
	`CHuRe
(
bnum
, 
mnum
, 
v
);

7385 
	`ShowHuVue
(
rmagic
[
mnum
].
HuTy
);

7387 
	}
}

7391 
funi
 
SeMagic
(
um
 = 0) = 0;

7392 
v


7393 
	gi
 = 0;

7394 
	gp
 = 0;

7395 
	gmuus
 = 0;

7396 
	gmax
 = 0;

7397 
	gmu
 = 0;

7398 
	gmup
 = 0;

7400 
	gmuus
 = 0;

7401 
	gmax
 = 0;

7402 
gth
(
murg
, 10);

7403 
gth
(
mugrg
, 10);

7404 
	gi
 = 0 
to
 9 do

7406 i(
Rre
[
um
].
Magic
[
i
] > 0)

7408 
muus
 = muu|| (1 
shl
 
i
);

7409 
	gmurg
[
i
] = 
Big5toUTF8
(@
Rmagic
[
Rre
[
um
].
Magic
[i]].
Name
);

7410 
	gmugrg
[
i
] = 
fm
("%3d", [
Rre
[
um
].
MagLev
[i] / 100 + 1]);

7411 
	gmax
 = 
max
 + 1;

7414 
	gmax
 = 
max
 - 1;

7416 
	gReDw
;

7417 
sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7418 
	gmu
 = 0;

7419 
showmagicmu
(
muus
, 
mu
, 
max
);

7421 
SDL_WaEvt
(@
evt
) >= 0) do

7423 
evt
.
ty
) {

7424 
SDL_QUITEV
:

7425 i(
mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

7426 
	gSDL_KEYUP
:

7428 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_tu
|| (evt.key.keysym.sym =
sdlk_a
))

7432 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_es
))

7434 
su
 = -1;

7437 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_up
))

7439 
mu
 = menu - 1;

7440 i(
	gmu
 < 0mu = 
max
;

7441 
showmagicmu
(
muus
, 
mu
, 
max
);

7443 i((
	gevt
.
	gkey
.
	gkeysym
.
	gsym
 =
sdlk_down
))

7445 
mu
 = menu + 1;

7446 i(
	gmu
 > 
	gmax
) menu = 0;

7447 
showmagicmu
(
muus
, 
mu
, 
max
);

7450 
	gSDL_MOUSEBUTTONUP
:

7452 i((
evt
.
bu
.bu =
sdl_bu_
))

7456 i((
	gevt
.
	gbu
.bu =
sdl_bu_right
))

7458 
su
 = -1;

7462 
	gSDL_MOUSEMOTION
:

7464 i((
evt
.
bu
.
x
 >100&& (evt.bu.x < 267&& (evt.bu.
y
 >50&& (evt.bu.y < 
max
 * 22 + 78))

7466 
mup
 = 
mu
;

7467 
	gmu
 = (
evt
.
bu
.
y
 - 52) / 22;

7468 i(
	gmu
 > 
	gmax
mu = 
max
;

7469 i(
	gmu
 < 0) menu = 0;

7470 i(
	gmup
 <> 
	gmu

showmagicmu
(
muus
, 
mu
, 
max
);

7476 i(
	gsu
 >= 0)

7478 
p
 = 0;

7479 
	gi
 = 0 
to
 9 do

7481 i((
muus
 && (1 
shl
 
i
)) > 0)

7483 
p
 = + 1;

7484 i(
	gp
 > 
	gmu
) ;

7487 
	gsu
 = 
i
;

7494 
	$ShowMagicMu
(
muus
, 
mu
, 
max
 = 0)()

7495 
v


7496 
i
 = 0;

7497 
p
 = 0;

7499 
dw
;

7500 
	`DwFmeReg
(100, 50, 167, 
max
 * 22 + 28, 0, 
	`COLOR
(255), 30);

7501 
p
 = 0;

7502 
i
 = 0 
to
 9 do

7504 i((
p
 =
mu
&& ((
muus
 && (1 
shl
 
i
) > 0)))

7506 
	`dwshadowxt
(@
murg
[
i
][1], 83, 53 + 22 * 
p
, 
	`COLOR
(0x66), COLOR(0x64));

7507 
	`dwgshadowxt
(@
mugrg
[
i
][1], 223, 53 + 22 * 
p
, 
	`COLOR
(0x66), COLOR(0x64));

7508 
p
 = + 1;

7510 i((
p
 <> 
mu
&& ((
muus
 && (1 
shl
 
i
) > 0)))

7512 
	`dwshadowxt
(@
murg
[
i
][1], 83, 53 + 22 * 
p
, 
	`COLOR
(0x23), COLOR(0x21));

7513 
	`dwgshadowxt
(@
mugrg
[
i
][1], 223, 53 + 22 * 
p
, 
	`COLOR
(0x23), COLOR(0x21));

7514 
p
 = + 1;

7517 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7519 
	}
}

7523 
funi
 
	$SeDe
(
bnum
 = 0): 
boޗn
;

7524 
v


7525 
r
: 
widerg
;

7527 
Ax
 = 
Bx
;

7528 
Ay
 = 
By
;

7529 
r
 = " 選擇攻擊方向";

7530 
	`Dwxtwh
(@
r
[1], 280, 200, 125, 
	`COLOR
(0x23), COLOR(0x21));

7531 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7532 
su
 = 
l
;

7533 
	`SDL_WaEvt
(@
evt
) >= 0) do

7535 
evt
.
ty
) {

7536 
SDL_QUITEV
:

7537 i(
	`mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

7538 
SDL_KEYUP
:

7540 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_es
))

7544 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_
))

7546 
Ay
 = Ay - 1;

7549 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_right
))

7551 
Ay
 = Ay + 1;

7554 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_down
))

7556 
Ax
 = Ax + 1;

7559 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_up
))

7561 
Ax
 = Ax - 1;

7565 
Sdl_moubuup
:

7567 i(
evt
.
bu
.bu =
sdl_bu_right
) ;

7569 i(
evt
.
bu
.bu =
sdl_bu_
)

7571 i((
evt
.
bu
.
x
 < 
SCREEN_CENTER_X
&& (evt.bu.
y
 < 
SCREEN_CENTER_Y
)
Ay
 = Ay - 1;

7572 i((
evt
.
bu
.
x
 < 
SCREEN_CENTER_X
&& (evt.bu.
y
 >
SCREEN_CENTER_Y
)
Ax
 = Ax + 1;

7573 i((
evt
.
bu
.
x
 >
SCREEN_CENTER_X
&& (evt.bu.
y
 < 
SCREEN_CENTER_Y
)
Ax
 = Ax - 1;

7574 i((
evt
.
bu
.
x
 >
SCREEN_CENTER_X
&& (evt.bu.
y
 >
SCREEN_CENTER_Y
)
Ay
 = Ay + 1;

7580 i((
Ax
 <> 
Bx
|| (
Ay
 <> 
By
)
su
 = 
ue
;

7582 
	}
}

7586 
	$SAmiPosi
(
mode
, 

 = 0)()

7587 
v


7588 
i
 = 0;

7589 
i1
 = 0;

7590 
i2
 = 0;

7592 
i1
 = 0 
to
 63 do

7593 
i2
 = 0 
to
 63 do

7595 
Bfld
[4, 
i1
, 
i2
] = 0;

7597 
mode
) {

7600 i((
i1
 =
Ax
&& (
i2
 =
Ay
)
Bfld
[4, i1, i2] = 1;

7604 i((
	`abs
(
i1
 - 
Ax
<

&& (abs(
i2
 - 
Ay
<)
Bfld
[4, i1, i2] = 1;

7608 i(((
i1
 =
Bx
|| (
i2
 =
By
)&& (
	`sign
(
Ax
 - Bx=sign(i1 - Bx)&& (
	`abs
(i1 - Bx<

&& (sign(
Ay
 - By) == sign(i2 - By)) && (abs(i2 - By) <= step))

7609 
Bfld
[4, 
i1
, 
i2
] = 1;

7613 i(((
i1
 =
Bx
&& (
	`abs
(
i2
 - 
By
<

)) || ((i2 == By) && (abs(i1 - Bx) <= step)))

7614 
Bfld
[4, 
i1
, 
i2
] = 1;

7615 i(((
i1
 =
Bx
&& (
i2
 =
By
))
Bfld
[4, i1, i2] = 0;

7620 
	}
}

7624 
	$PyMagicAmi
(
bnum
, = 0)()

7625 
v


7626 
begpic
 = 0;

7627 
i
 = 0;

7628 
dpic
 = 0;

7630 
begpic
 = 0;

7632 
	`aysound
(, 0);

7633 
i
 = 0 
to
 - 1 do

7634 
begpic
 = begpi+ 
g_efLi
[
i
];

7635 
dpic
 = 
begpic
 + 
g_efLi
[] - 1;

7638 
i
 = 
begpic
 
to
 
dpic
 do

7640 
	`DwBFldWhE
(
i
);

7641 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7642 
	`sdl_day
(20);

7645 
	}
}

7649 
	$CHuRe
(
bnum
, 
mnum
, 
v
 = 0)()

7650 
v


7651 
i
 = 0;

7652 
um
 = 0;

7653 
hu
 = 0;

7654 
addpoi
 = 0;

7655 
mp
 = 0;

7657 
um
 = 
bre
[
bnum
].rnum;

7658 
e
[
um
].
PhyPow
 =role[rnum].PhyPower - 3;

7659 i(
RRe
[
um
].
CutMP
 < 
rmagic
[
mnum
].
NdMP
 * ((
v
 + 1) / 2))evel = RRole[rnum].CurrentMP /magic[mnum].NeedMP * 2;

7660 i(
v
 > 10)evel = 10;

7661 
RRe
[
um
].
CutMP
 = RRe[um].CutMP - 
rmagic
[
mnum
].
NdMP
 * ((
v
 + 1) / 2);

7662 
i
 = 0 
to
 
brޗmou
 - 1 do

7664 
Bre
[
i
].
ShowNumb
 = -1;

7665 i((
Bfld
[4, 
Bre
[
i
].
X
, Bre[i].
Y
] <> 0&& (Bre[
bnum
].
Tm
 <> Bre[i].Tm&& (Bre[i].
Dd
 == 0))

7668 i((
rmagic
[
mnum
].
HuTy
 == 0))

7670 
hu
 = 
	`CHuVue
(
bnum
, 
i
, 
mnum
, 
v
);

7671 
Bre
[
i
].
ShowNumb
 = 
hu
;

7673 
Rre
[
Bre
[
i
].
um
].
CutHP
 = Rre[Bre[i].um].CutHP - 
hu
;

7674 
Rre
[
Bre
[
i
].
um
].
Hu
 = Rre[Bre[i].um].Hu + 
hu
 / 
LIFE_HURT
;

7675 i(
Rre
[
Bre
[
i
].
um
].
Hu
 > 99) Rrole[Brole[i].rnum].Hurt = 99;

7676 
Bre
[
bnum
].
ExpG
 = Bre[bnum].ExpG + 
hu
 / 2;

7677 i(
Rre
[
Bre
[
i
].
um
].
CutHP
 <0Bre[
bnum
].
ExpG
 = Bre[bnum].ExpG + 
hu
 / 2;

7680 i((
rmagic
[
mnum
].
HuTy
 == 1))

7682 
hu
 = 
rmagic
[
mnum
].
HuMP
[
v
 - 1] + 
	`ndom
(5) -andom(5);

7683 
Bre
[
i
].
ShowNumb
 = 
hu
;

7684 
Rre
[
Bre
[
i
].
um
].
CutMP
 = Rre[Bre[i].um].CutMP - 
hu
;

7685 i(
Rre
[
Bre
[
i
].
um
].
CutMP
 <= 0) Rrole[Brole[i].rnum].CurrentMP = 0;

7687 
RRe
[
um
].
CutMP
 = RRe[um].CutMP + 
hu
;

7688 
RRe
[
um
].
MaxMP
 = RRe[um].MaxMP + 
	`ndom
(
hu
 / 2);

7689 i(
RRe
[
um
].
MaxMP
 > 
MAX_MP
) RRole[rnum].MaxMP = MAX_MP;

7690 i(
RRe
[
um
].
CutMP
 > RRe[um].
MaxMP
) RRole[rnum].CurrentMP = RRole[rnum].MaxMP;

7693 
addpoi
 = 
e
[
um
].
APoi
 / 5 + 
rmagic
[
mnum
].
Poisi
 * 
v
 / 2 -re[
Bre
[
i
].um].
DefPoi
;

7694 i(
addpoi
 + 
e
[
Bre
[
i
].
um
].
Poisi
 > 99)ddpoi = 99 -role[Brole[i].rnum].Poision;

7695 i(
addpoi
 < 0)ddpoi = 0;

7696 i(
e
[
Bre
[
i
].
um
].
DefPoi
 >99
addpoi
 = 0;

7697 
e
[
Bre
[
i
].
um
].
Poisi
 =re[Bre[i].um].Poisi + 
addpoi
;

7701 
	}
}

7705 
funi
 
CHuVue
(
bnum1
 = 0;

7706 
bnum2
 = 0;

7707 
mnum
 = 0;

7708 
v
 = 0) = 0;

7709 
v


7710 
	gi
 = 0;

7711 
	gum1
 = 0;

7712 
	gum2
 = 0;

7713 
	gmhu
 = 0;

7714 
	gt
 = 0;

7715 
	gdef
 = 0;

7716 
	gk1
 = 0;

7717 
	gk2
 = 0;

7718 
	gdis
 = 0;

7721 
	gk1
 = 0;

7722 
	gk2
 = 0;

7723 
	gi
 = 0 
to
 
brޗmou
 - 1 do

7725 i((
Bre
[
i
].
Tm
 =
bre
[
bnum1
].Tm&& (Bre[i].
Dd
 =0&& (
e
[Bre[i].
um
].
Knowdge
 > 
MIN_KNOWLEDGE
)
k1
 = k1 +role[Brole[i].rnum].Knowledge;

7726 i((
	gBre
[
i
].
	gTm
 =
bre
[
bnum2
].
Tm
&& (
Bre
[i].
Dd
 =0&& (
e
[Bre[i].
um
].
Knowdge
 > 
MIN_KNOWLEDGE
)
k2
 = k2 +role[Brole[i].rnum].Knowledge;

7728 
	gum1
 = 
Bre
[
bnum1
].
um
;

7729 
	gum2
 = 
Bre
[
bnum2
].
um
;

7730 
	gmhu
 = 
Rmagic
[
mnum
].
Aack
[
v
 - 1];

7732 
	gt
 = 
Rre
[
um1
].
Aack
 + 
k1
 * 3 / 2 + 
mhu
 / 3;

7733 
	gdef
 = 
Rre
[
um2
].
Den
 * 2 + 
k2
 * 3;

7735 
	gt
 = 
t
 * (100 - 
Rre
[
um1
].
Hu
 / 2) / 100;

7736 
	gdef
 = 
def
 * (100 - 
Rre
[
um2
].
Hu
 / 2) / 100;

7739 i(
	ge
[
um1
].
	gEqu
[0] >= 0)

7741 
t
 = + 
rem
[
e
[
um1
].
Equ
[0]].
AddAack
;

7742 
	gi
 = 0 
to
 
MAX_WEAPON_MATCH
 - 1 do

7744 i((
e
[
um1
].
Equ
[0] =
g_mchLi
[
i
, 0]&& (
	gmnum
 == g_matchList[i, 1]))

7746 
	gt
 = 
t
 + 
g_mchLi
[
i
, 2] * 2 / 3;

7752 i(
	ge
[
um1
].
	gEqu
[1] >0
t
 = + 
rem
[
e
[um1].
Equ
[1]].
AddAack
;

7754 i(
	ge
[
um2
].
	gEqu
[0] >0
def
 = de+ 
rem
[
e
[um2].
Equ
[0]].
AddDen
;

7755 i(
	ge
[
um2
].
	gEqu
[1] >0
def
 = de+ 
rem
[
e
[um2].
Equ
[1]].
AddDen
;

7757 
	gsu
 = 
t
 - 
def
 + 
ndom
(20) -andom(20);

7758 
	gdis
 = 
abs
(
bre
[
bnum1
].
X
 - bre[
bnum2
].X+bs(bre[bnum1].
Y
 - brole[bnum2].Y);

7759 i(
	gdis
 > 10) dis = 10;

7760 
	gsu
 = 
su
 * (100 - (
dis
 - 1) * 3) / 100;

7761 i((
	gsu
 <0|| (
v
 <0)
su
 = 
ndom
(10) + 1;

7762 i((
	gsu
 > 9999))esult = 9999;

7770 
	$ShowHuVue
(
mode
 = 0)()

7771 
v


7772 
i
 = 0;

7773 
i1
 = 0;

7774 
x
 = 0;

7775 
y
 = 0;

7776 
c1
, 
c2
: 
ut32
;

7777 
wd
: 
y
 
of
 
widerg
;

7778 
r
: 
rg
;

7780 
mode
) {

7783 
c1
 = 
	`COLOR
(0x10);

7784 
c2
 = 
	`COLOR
(0x14);

7785 
r
 = "-%d";

7789 
c1
 = 
	`COLOR
(0x50);

7790 
c2
 = 
	`COLOR
(0x53);

7791 
r
 = "-%d";

7795 
c1
 = 
	`COLOR
(0x30);

7796 
c2
 = 
	`COLOR
(0x32);

7797 
r
 = "+%d";

7801 
c1
 = 
	`COLOR
(0x7);

7802 
c2
 = 
	`COLOR
(0x5);

7803 
r
 = "+%d";

7807 
c1
 = 
	`COLOR
(0x91);

7808 
c2
 = 
	`COLOR
(0x93);

7809 
r
 = "-%d";

7812 
	`gth
(
wd
, 
brޗmou
);

7813 
i
 = 0 
to
 
brޗmou
 - 1 do

7815 i(
Bre
[
i
].
ShowNumb
 > 0)

7819 
wd
[
i
] = 
	`fm
(
r
, [
Bre
[i].
ShowNumb
]);

7821 
Bre
[
i
].
ShowNumb
 = -1;

7823 
i1
 = 0 
to
 10 do

7825 
dw
;

7826 
i
 = 0 
to
 
brޗmou
 - 1 do

7828 
x
 = -(
Bre
[
i
].
X
 - 
Bx
* 18 + (Bre[i].
Y
 - 
By
* 18 + 
SCREEN_CENTER_X
 - 10;

7829 
y
 = (
Bre
[
i
].
X
 - 
Bx
* 9 + (Bre[i].
Y
 - 
By
* 9 + 
SCREEN_CENTER_Y
 - 40;

7830 
	`dwgshadowxt
(@
wd
[
i
, 1], 
x
, 
y
 - 
i1
 * 2, 
c1
, 
c2
);

7831 
	`sdl_day
(5);

7833 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7835 
dw
;

7837 
	}
}

7841 
	$CPoiHuLi
()

7842 
v


7843 
i
 = 0;

7844 
p
: 
boޗn
;

7846 
p
 = 
l
;

7847 
i
 = 0 
to
 
brޗmou
 - 1 do

7849 
Bre
[
i
].
ShowNumb
 = -1;

7850 i((
Rre
[
Bre
[
i
].
um
].
Poisi
 > 0&& (Bre[i].
Dd
 == 0))

7852 
Rre
[
Bre
[
i
].
um
].
CutHP
 = Rre[Bre[i].um].CutHP - Rre[Bre[i].um].
Poisi
 / 10 - 1;

7853 i(
Rre
[
Bre
[
i
].
um
].
CutHP
 <= 0) Rrole[Brole[i].rnum].CurrentHP = 1;

7860 
	}
}

7864 
	$CˬDdRePic
()

7865 
v


7866 
i
 = 0;

7868 
i
 = 0 
to
 
brޗmou
 - 1 do

7870 i(
Rre
[
Bre
[
i
].
um
].
CutHP
 <= 0)

7872 
Bre
[
i
].
Dd
 = 1;

7873 
bfld
[2, 
Bre
[
i
].
X
, Bre[i].
Y
] = -1;

7877 
i
 = 0 
to
 
brޗmou
 - 1 do

7878 i(
Bre
[
i
].
Dd
 =0
bfld
[2, Bre[i].
X
, Bre[i].
Y
] = i;

7880 
	}
}

7884 
	$ShowSimeStus
(
um
, 
x
, 
y
 = 0)()

7885 
v


7886 
i
 = 0;

7887 
magium
 = 0;

7888 
p
: 
y
[0..10] 
of
 
g
;

7889 
r
: 
widerg
;

7890 
rs
: 
y
[0..3] 
of
 
widerg
;

7891 
c1
, 
c2
: 
ut32
;

7893 
rs
[0] = " 等級";

7894 
rs
[1] = " 生命";

7895 
rs
[2] = " 內力";

7896 
rs
[3] = " 體力";

7898 
	`DwFmeReg
(
x
, 
y
, 145, 173, 0, 
	`COLOR
(255), 30);

7899 
	`DwFaPic
(
Rre
[
um
].
HdNum
, 
x
 + 50, 
y
 + 62);

7900 
r
 = 
	`big5toUTF8
(@
e
[
um
].
Name
);

7901 
	`dwshadowxt
(@
r
[1], 
x
 + 60 - 
	`ngth
(
	`pch
(@
e
[
um
].
Name
)* 5, 
y
 + 65, 
	`COLOR
(0x66), COLOR(0x63));

7902 
i
 = 0 
to
 3 do

7903 
	`dwshadowxt
(@
rs
[
i
, 1], 
x
 - 17, 
y
 + 86 + 21 * i, 
	`COLOR
(0x23), COLOR(0x21));

7905 
r
 = 
	`fm
("%9d", [
Rre
[
um
].
Lev
]);

7906 
	`dwgshadowxt
(@
r
[1], 
x
 + 50, 
y
 + 86, 
	`COLOR
(0x7), COLOR(0x5));

7908 
RRe
[
um
].
Hu
) {

7911 
c1
 = 
	`COLOR
(0xE);

7912 
c2
 = 
	`COLOR
(0x10);

7916 
c1
 = 
	`COLOR
(0x14);

7917 
c2
 = 
	`COLOR
(0x16);

7921 
c1
 = 
	`COLOR
(0x7);

7922 
c2
 = 
	`COLOR
(0x5);

7925 
r
 = 
	`fm
("%4d", [
RRe
[
um
].
CutHP
]);

7926 
	`dwgshadowxt
(@
r
[1], 
x
 + 50, 
y
 + 107, 
c1
, 
c2
);

7928 
r
 = "/";

7929 
	`dwgshadowxt
(@
r
[1], 
x
 + 90, 
y
 + 107, 
	`COLOR
(0x66), COLOR(0x63));

7931 
RRe
[
um
].
Poisi
) {

7934 
c1
 = 
	`COLOR
(0x30);

7935 
c2
 = 
	`COLOR
(0x32);

7939 
c1
 = 
	`COLOR
(0x35);

7940 
c2
 = 
	`COLOR
(0x37);

7944 
c1
 = 
	`COLOR
(0x23);

7945 
c2
 = 
	`COLOR
(0x21);

7948 
r
 = 
	`fm
("%4d", [
RRe
[
um
].
MaxHP
]);

7949 
	`dwgshadowxt
(@
r
[1], 
x
 + 100, 
y
 + 107, 
c1
, 
c2
);

7953 i(
e
[
um
].
MPTy
 == 0)

7955 
c1
 = 
	`COLOR
(0x50);

7956 
c2
 = 
	`COLOR
(0x4E);

7958 i(
e
[
um
].
MPTy
 == 1)

7960 
c1
 = 
	`COLOR
(0x7);

7961 
c2
 = 
	`COLOR
(0x5);

7964 
c1
 = 
	`COLOR
(0x66);

7965 
c2
 = 
	`COLOR
(0x63);

7967 
r
 = 
	`fm
("%4d/%4d", [
RRe
[
um
].
CutMP
, RRe[um].
MaxMP
]);

7968 
	`dwgshadowxt
(@
r
[1], 
x
 + 50, 
y
 + 128, 
c1
, 
c2
);

7969 
r
 = 
	`fm
("%9d", [
e
[
um
].
PhyPow
]);

7970 
	`dwgshadowxt
(@
r
[1], 
x
 + 50, 
y
 + 149, 
	`COLOR
(0x7), COLOR(0x5));

7972 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

7974 
	}
}

7978 
	$Wa
(
bnum
 = 0)()

7979 
v


7980 
i
 = 0;

7981 
i1
 = 0;

7982 
i2
 = 0;

7983 
x
 = 0;

7986 
Bre
[
BreAmou
] = Bre[
bnum
];

7988 
i
 = 
bnum
 
to
 
BReAmou
 - 1 do

7989 
Bre
[
i
] = Brole[i + 1];

7991 
i
 = 0 
to
 
BReAmou
 - 1 do

7993 i(
Bre
[
i
].
Dd
 == 0)

7994 
Bfld
[2, 
Bre
[
i
].
X
, Bre[i].
Y
] = i

7996 
Bfld
[2, 
Bre
[
i
].
X
, Bre[i].
Y
] = -1;

7999 
	}
}

8003 
	$ReeReStus
()

8004 
v


8005 
i
 = 0;

8006 
um
 = 0;

8008 
i
 = 0 
to
 
BReAmou
 - 1 do

8010 
um
 = 
Bre
[
i
].rnum;

8012 i(
Bre
[
i
].
Tm
 == 0)

8014 
RRe
[
um
].
CutHP
 = RRe[um].CutHP + RRe[um].
MaxHP
 / 2;

8015 i(
RRe
[
um
].
CutHP
 <= 0) RRole[rnum].CurrentHP = 1;

8016 i(
RRe
[
um
].
CutHP
 > RRe[um].
MaxHP
) RRole[rnum].CurrentHP = RRole[rnum].MaxHP;

8017 
RRe
[
um
].
CutMP
 = RRe[um].CutMP + RRe[um].
MaxMP
 / 20;

8018 i(
RRe
[
um
].
CutMP
 > RRe[um].
MaxMP
) RRole[rnum].CurrentMP = RRole[rnum].MaxMP;

8019 
e
[
um
].
PhyPow
 =re[um].PhyPow + 
MAX_PHYSICAL_POWER
 / 10;

8020 i(
e
[
um
].
PhyPow
 > 
MAX_PHYSICAL_POWER
)role[rnum].PhyPower = MAX_PHYSICAL_POWER;

8023 
RRe
[
um
].
Hu
 = 0;

8024 
RRe
[
um
].
Poisi
 = 0;

8025 
RRe
[
um
].
CutHP
 = RRe[um].
MaxHP
;

8026 
RRe
[
um
].
CutMP
 = RRe[um].
MaxMP
;

8027 
e
[
um
].
PhyPow
 = 
MAX_PHYSICAL_POWER
 * 9 / 10;

8031 
	}
}

8035 
	$AddExp
()

8036 
v


8037 
i
 = 0;

8038 
um
 = 0;

8039 
basicvue
 = 0;

8040 
amou
 = 0;

8041 
r
: 
widerg
;

8043 
i
 = 0 
to
 
BReAmou
 - 1 do

8045 
um
 = 
Bre
[
i
].rnum;

8046 
Rre
[
um
].
Exp
 = Rre[um].Ex+ 
Bre
[
i
].
ExpG
;

8047 
Rre
[
um
].
ExpFBook
 = Rre[um].ExpFBook + 
Bre
[
i
].
ExpG
 / 5 * 4;

8048 
Rre
[
um
].
ExpFIm
 = Rre[um].ExpFIm + 
Bre
[
i
].
ExpG
 / 5 * 3;

8049 
amou
 = 
	`Cum
(0);

8050 i(
amou
 > 0
basicvue
 = 
wa
[7] /mount

8051 
basicvue
 = 0;

8052 i((
Bre
[
i
].
Tm
 =0&& (Bre[i].
Dd
 == 0))

8054 
Rre
[
um
].
Exp
 = Rre[um].Ex+ 
basicvue
;

8055 
Rre
[
um
].
ExpFBook
 = Rre[um].ExpFBook + 
basicvue
 / 5 * 4;

8056 
Rre
[
um
].
ExpFIm
 = Rre[um].ExpFIm + 
basicvue
 / 5 * 3;

8057 
	`ShowSimeStus
(
um
, 100, 50);

8058 
	`DwFmeReg
(100, 235, 145, 25, 0, 
	`COLOR
(255), 25);

8059 
r
 = " 得經驗";

8060 
	`Dwshadowxt
(@
r
[1], 83, 237, 
	`COLOR
(0x23), COLOR(0x21));

8061 
r
 = 
	`fm
("%5d", [
Bre
[
i
].
ExpG
 + 
basicvue
]);

8062 
	`Dwgshadowxt
(@
r
[1], 188, 237, 
	`COLOR
(0x66), COLOR(0x64));

8063 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

8064 
Redw
;

8065 
WaKey
;

8070 
	}
}

8074 
	$CheckLevUp
()

8075 
v


8076 
i
 = 0;

8077 
um
 = 0;

8079 
i
 = 0 
to
 
BReAmou
 - 1 do

8081 
um
 = 
Bre
[
i
].rnum;

8082 
	`ut16
(
Rre
[
um
].
Exp
>ut16(
g_vupLi
[Rre[um].
Lev
 - 1])&& (Rre[um].Lev < 
MAX_LEVEL
) do

8084 
Rre
[
um
].
Exp
 = Rre[um].Ex- 
g_vupLi
[Rre[um].
Lev
 - 1];

8085 
Rre
[
um
].
Lev
 = Rrole[rnum].Level + 1;

8086 
	`LevUp
(
i
);

8090 
	}
}

8094 
	$LevUp
(
bnum
 = 0)()

8095 
v


8096 
i
 = 0;

8097 
um
 = 0;

8098 
add
 = 0;

8099 
r
: 
widerg
;

8102 
um
 = 
bre
[
bnum
].rnum;

8103 
RRe
[
um
].
MaxHP
 = RRe[um].MaxHP + 
Rre
[um].
IncLi
 * 3 + 
	`ndom
(6);

8104 i(
RRe
[
um
].
MaxHP
 > 
MAX_HP
) RRole[rnum].MaxHP = MAX_HP;

8105 
RRe
[
um
].
CutHP
 = RRe[um].
MaxHP
;

8107 
add
 = 
Rre
[
um
].
Aude
 / 15 + 1;

8108 
add
 = 
	`ndom
(add) + 1;

8110 
RRe
[
um
].
MaxMP
 = RRe[um].MaxMP + (9 - 
add
) * 3;

8111 i(
RRe
[
um
].
MaxMP
 > 
MAX_MP
) RRole[rnum].MaxMP = MAX_MP;

8112 
RRe
[
um
].
CutMP
 = RRe[um].
MaxMP
;

8114 
RRe
[
um
].
Aack
 = RRe[um].Aack + 
add
;

8115 
Rre
[
um
].
Sed
 = Rre[um].Sed + 
add
;

8116 
Rre
[
um
].
Den
 = Rre[um].Den + 
add
;

8118 
i
 = 46 
to
 54 do

8120 i(
e
[
um
].
da
[
i
] > 0)

8121 
e
[
um
].
da
[
i
] =re[um].da[i] + 
	`ndom
(3) + 1;

8123 
i
 = 43 
to
 58 do

8125 i(
e
[
um
].
da
[
i
] > 
MAX_PRO_LIST
[i])

8126 
e
[
um
].
da
[
i
] = 
MAX_PRO_LIST
[i];

8129 
RRe
[
um
].
PhyPow
 = 
MAX_PHYSICAL_POWER
;

8130 
RRe
[
um
].
Hu
 = 0;

8131 
RRe
[
um
].
Poisi
 = 0;

8133 i(
Bre
[
bnum
].
Tm
 == 0)

8135 
	`ShowStus
(
um
);

8136 
r
 = " 升級";

8137 
	`Dwxtwh
(@
r
[1], 50, 
SCREEN_CENTER_Y
 - 150, 46, 
	`COLOR
(0x23), COLOR(0x21));

8138 
WaKey
;

8141 
	}
}

8145 
	$CheckBook
()

8146 
v


8147 
i
 = 0;

8148 
i1
 = 0;

8149 
i2
 = 0;

8150 
p
 = 0;

8151 
um
 = 0;

8152 
um
 = 0;

8153 
mnum
 = 0;

8154 
mv
 = 0;

8155 
edexp
 = 0;

8156 
edem
 = 0;

8157 
edemamou
 = 0;

8158 
emamou
 = 0;

8159 
r
: 
widerg
;

8161 
i
 = 0 
to
 
BReAmou
 - 1 do

8163 
um
 = 
Bre
[
i
].rnum;

8164 
um
 = 
Rre
[
um
].
PiBook
;

8165 i(
um
 >= 0)

8167 
mv
 = 1;

8168 
mnum
 = 
Rem
[
um
].
Magic
;

8169 i(
mnum
 > 0)

8170 
i1
 = 0 
to
 9 do

8171 i(
Rre
[
um
].
Magic
[
i1
] =
mnum
)

8173 
mv
 = 
Rre
[
um
].
MagLev
[
i1
] / 100 + 1;

8176 
edexp
 = 
mv
 * 
Rem
[
um
].
NdExp
 * (7 - 
Rre
[
um
].
Aude
 / 15);

8178 i((
Rre
[
um
].
ExpFBook
 >
edexp
&& (
mv
 < 10))

8180 
dw
;

8181 
	`EOIm
(
um
, 
um
);

8182 
WaKey
;

8183 
dw
;

8184 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

8186 i(
mnum
 > 0)

8187 
	`ru_33
(
um
, 
mnum
, 1);

8188 
Rre
[
um
].
ExpFBook
 = 0;

8193 i((
Rre
[
um
].
ExpFIm
 >
rem
[
um
].
NdExpFIm
&& (rem[um].NdExpFIm > 0&& (
Bre
[
i
].
Tm
 == 0))

8195 
dw
;

8196 
p
 = 0;

8197 
i2
 = 0 
to
 4 do

8199 i(
rem
[
um
].
GIm
[
i2
] >0
p
 = + 1;

8201 
p
 = 
	`ndom
(p);

8202 
edem
 = 
rem
[
um
].
NdMl
;

8203 i(
rem
[
um
].
GIm
[
p
] >= 0)

8205 
edemamou
 = 
rem
[
um
].
NdMAmou
[
p
];

8206 
emamou
 = 0;

8207 
i2
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

8208 i(
RImLi
[
i2
].
Numb
 =
edem
)

8210 
emamou
 = 
RImLi
[
i2
].
Amou
;

8213 i(
edemamou
 <
emamou
)

8215 
	`ShowSimeStus
(
um
, 350, 50);

8216 
	`DwFmeReg
(115, 63, 145, 25, 0, 
	`COLOR
(255), 25);

8217 
r
 = " 製藥成功";

8218 
	`Dwshadowxt
(@
r
[1], 127, 65, 
	`COLOR
(0x23), COLOR(0x21));

8220 
	`ru_2
(
rem
[
um
].
GIm
[
p
], 1 + 
	`ndom
(5));

8221 
	`ru_32
(
edem
, -
edemamou
);

8222 
Rre
[
um
].
ExpFIm
 = 0;

8231 
	}
}

8235 
funi
 
CRNum
(
am
 = 0) = 0;

8236 
v


8237 
	gi
 = 0;

8239 
	gsu
 = 0;

8240 
	gi
 = 0 
to
 
brޗmou
 - 1 do

8242 i((
Bre
[
i
].
Tm
 =
am
&& (Bre[i].
Dd
 =0)
su
 =esult + 1;

8249 
	$BeMuIm
(
bnum
 = 0)()

8250 
v


8251 
um
 = 0;

8252 
um
 = 0;

8253 
mode
 = 0;

8254 
r
: 
widerg
;

8256 i(
MuIm
)

8258 
um
 = 
CurIm
;

8259 
um
 = 
bre
[
bnum
].rnum;

8260 
mode
 = 
Rem
[
um
].
ImTy
;

8261 
mode
) {

8264 
	`EOIm
(
um
, 
um
);

8265 
	`ru_32
(
um
, -1);

8266 
Bre
[
bnum
].
Aed
 = 1;

8267 
WaKey
;

8271 
	`UHiddWn
(
bnum
, 
um
);

8276 
	}
}

8280 
	$PyAiAmi
(
bnum
, 
mode
 = 0)()

8281 
v


8282 
d1
 = 0;

8283 
d2
 = 0;

8284 
dm
 = 0;

8285 
um
 = 0;

8286 
i
 = 0;

8287 
begpic
 = 0;

8288 
dpic
 = 0;

8289 
idx
 = 0;

8290 
g
 = 0;

8291 
um
 = 0;

8292 
n
 = 0;

8293 
fame
: 
rg
;

8295 
d1
 = 
Ax
 - 
Bx
;

8296 
d2
 = 
Ay
 - 
By
;

8297 
dm
 = 
	`abs
(
d1
-bs(
d2
);

8298 i((
dm
 >= 0))

8299 i(
d1
 < 0
Bre
[
bnum
].
Fa
 = 0 Brole[bnum].Face = 3

8301 i(
d2
 < 0
Bre
[
bnum
].
Fa
 = 2 Brole[bnum].Face = 1;

8303 
Redw
;

8304 
um
 = 
bre
[
bnum
].rnum;

8305 i(
e
[
um
].
AmiFmeNum
[
mode
] > 0)

8307 
begpic
 = 0;

8308 
i
 = 0 
to
 4 do

8310 i(
i
 >
mode
) ;

8311 
begpic
 = begpi+ 
e
[
um
].
AmiFmeNum
[
i
] * 4;

8313 
begpic
 = begpi+ 
Bre
[
bnum
].
Fa
 * 
e
[
um
].
AmiFmeNum
[
mode
];

8314 
dpic
 = 
begpic
 + 
e
[
um
].
AmiFmeNum
[
mode
] - 1;

8316 
fame
 = 
	`fm
("%3d", [
e
[
um
].
HdNum
]);

8318 
i
 = 1 
to
 
	`ngth
(
fame
) do

8319 i(
fame
[
i
] == " ") filename[i] = "0";

8321 
idx
 = 
	`feݒ
("fight/fight" + 
fame
 + ".idx", 
fmݒad
);

8322 
g
 = 
	`feݒ
("fight/fight" + 
fame
 + ".g", 
fmݒad
);

8323 
n
 = 
	`feek
(
g
, 0, 2);

8324 
	`feek
(
g
, 0, 0);

8325 
	`fd
(
g
, 
g_aiBuff
[0], 
n
);

8326 
um
 = 
	`feek
(
idx
, 0, 2) / 4;

8327 
	`feek
(
idx
, 0, 0);

8328 
	`fd
(
idx
, 
g_aIdxBuff
[0], 
um
 * 4);

8329 
	`feo
(
g
);

8330 
	`feo
(
idx
);

8332 
i
 = 
begpic
 
to
 
dpic
 do

8334 
	`DwBfldWhAi
(
bnum
, 
i
);

8335 
	`sdl_upde
(
g_snSur
, 0, 0, g_snSur.
w
, g_snSur.
h
);

8336 
	`sdl_day
(20);

8340 
	}
}

8344 
	$UPoisi
(
bnum
 = 0)()

8345 
v


8346 
um
 = 0;

8347 
bnum1
 = 0;

8348 
um1
 = 0;

8349 
poi
 = 0;

8350 

 = 0;

8351 
addpoi
 = 0;

8352 

: 
boޗn
;

8354 
	`ln
(
bnum
, 1);

8355 
um
 = 
bre
[
bnum
].rnum;

8356 
poi
 = 
Rre
[
um
].
UPoi
;

8357 

 = 
poi
 / 15 + 1;

8358 i((
Bre
[
bnum
].
Tm
 =0&& (
bre
[bnum].
Auto
 == 0))

8359 

 = 
	`aim
(
bnum
, 

);

8360 i((
bfld
[2, 
Ax
, 
Ay
] >0&& (

 =
ue
))

8362 
Bre
[
bnum
].
Aed
 = 1;

8363 
e
[
um
].
PhyPow
 =role[rnum].PhyPower - 3;

8364 
bnum1
 = 
bfld
[2, 
Ax
, 
Ay
];

8365 i(
bre
[
bnum1
].
Tm
 <> 
Bre
[
bnum
].Team)

8367 
um1
 = 
bre
[
bnum1
].
um
;

8368 
addpoi
 = 
Rre
[
um
].
UPoi
 / 3 - 
e
[
um1
].
DefPoi
 / 4;

8369 i(
addpoi
 < 0)ddpoi = 0;

8370 i(
addpoi
 + 
e
[
um1
].
Poisi
 > 99)ddpoi = 99 -role[rnum1].Poision;

8371 
e
[
um1
].
Poisi
 =re[um1].Poisi + 
addpoi
;

8372 
bre
[
bnum1
].
ShowNumb
 = 
addpoi
;

8373 
	`SAmiPosi
(0, 0);

8374 
	`PyAiAmi
(
bnum
, 0);

8375 
	`PyMagicAmi
(
bnum
, 30);

8376 
	`ShowHuVue
(2);

8379 
	}
}

8383 
	$Medce
(
bnum
 = 0)()

8384 
v


8385 
um
 = 0;

8386 
bnum1
 = 0;

8387 
um1
 = 0;

8388 
med
 = 0;

8389 

 = 0;

8390 
addli
 = 0;

8391 

: 
boޗn
;

8393 
	`ln
(
bnum
, 1);

8394 
um
 = 
bre
[
bnum
].rnum;

8395 
med
 = 
Rre
[
um
].
Medce
;

8396 

 = 
med
 / 15 + 1;

8397 i((
Bre
[
bnum
].
Tm
 =0&& (
bre
[bnum].
Auto
 == 0))

8398 

 = 
	`aim
(
bnum
, 

)

8401 
Ax
 = 
Bx
;

8402 
Ay
 = 
By
;

8404 i((
bfld
[2, 
Ax
, 
Ay
] >0&& (

 =
ue
))

8406 
Bre
[
bnum
].
Aed
 = 1;

8407 
e
[
um
].
PhyPow
 =role[rnum].PhyPower - 5;

8408 
bnum1
 = 
bfld
[2, 
Ax
, 
Ay
];

8409 i(
bre
[
bnum1
].
Tm
 =
Bre
[
bnum
].Team)

8411 
um1
 = 
bre
[
bnum1
].
um
;

8412 
addli
 = 
Rre
[
um
].
Medce
;

8413 i(
addli
 < 0)ddlife = 0;

8414 i(
addli
 + 
e
[
um1
].
CutHP
 >re[um1].
MaxHP
)ddlife =role[rnum1].MaxHP -role[rnum1].CurrentHP;

8415 
e
[
um1
].
CutHP
 =re[um1].CutHP + 
addli
;

8416 
Rre
[
um1
].
Hu
 = Rre[um1].Hu - 
addli
 / 
LIFE_HURT
;

8417 i(
Rre
[
um1
].
Hu
 < 0) Rrole[rnum1].Hurt = 0;

8418 
bre
[
bnum1
].
ShowNumb
 = 
addli
;

8419 
	`SAmiPosi
(0, 0);

8420 
	`PyAiAmi
(
bnum
, 0);

8421 
	`PyMagicAmi
(
bnum
, 0);

8422 
	`ShowHuVue
(3);

8426 
	}
}

8430 
	$MedPoisi
(
bnum
 = 0)()

8431 
v


8432 
um
 = 0;

8433 
bnum1
 = 0;

8434 
um1
 = 0;

8435 
medpoi
 = 0;

8436 

 = 0;

8437 
muoi
 = 0;

8438 

: 
boޗn
;

8440 
	`ln
(
bnum
, 1);

8441 
um
 = 
bre
[
bnum
].rnum;

8442 
medpoi
 = 
Rre
[
um
].
MedPoi
;

8443 

 = 
medpoi
 / 15 + 1;

8444 i((
Bre
[
bnum
].
Tm
 =0&& (
bre
[bnum].
Auto
 == 0))

8445 

 = 
	`aim
(
bnum
, 

)

8448 
Ax
 = 
Bx
;

8449 
Ay
 = 
By
;

8451 i((
bfld
[2, 
Ax
, 
Ay
] >0&& (

 =
ue
))

8453 
Bre
[
bnum
].
Aed
 = 1;

8454 
e
[
um
].
PhyPow
 =role[rnum].PhyPower - 5;

8455 
bnum1
 = 
bfld
[2, 
Ax
, 
Ay
];

8456 i(
bre
[
bnum1
].
Tm
 =
Bre
[
bnum
].Team)

8458 
um1
 = 
bre
[
bnum1
].
um
;

8459 
muoi
 = 
Rre
[
um
].
MedPoi
;

8460 i(
muoi
 < 0) minuspoi = 0;

8461 i(
e
[
um1
].
Poisi
 - 
muoi
 <= 0) minuspoi =role[rnum1].Poision;

8462 
e
[
um1
].
Poisi
 =re[um1].Poisi - 
muoi
;

8463 
bre
[
bnum1
].
ShowNumb
 = 
muoi
;

8464 
	`SAmiPosi
(0, 0);

8465 
	`PyAiAmi
(
bnum
, 0);

8466 
	`PyMagicAmi
(
bnum
, 36);

8467 
	`ShowHuVue
(4);

8471 
	}
}

8475 
	$UHiddWn
(
bnum
, 
um
 = 0)()

8476 
v


8477 
um
 = 0;

8478 
bnum1
 = 0;

8479 
um1
 = 0;

8480 
hidd
 = 0;

8481 

 = 0;

8482 
hu
 = 0;

8483 

: 
boޗn
;

8485 
	`ln
(
bnum
, 1);

8486 
um
 = 
bre
[
bnum
].rnum;

8487 
hidd
 = 
e
[
um
].
HidWp
;

8488 

 = 
hidd
 / 15 + 1;

8489 i(
rem
[
um
].
UnKnow7
 > 0)

8490 
	`evt
(
rem
[
um
].
UnKnow7
)

8492 i((
Bre
[
bnum
].
Tm
 =0&& (
bre
[bnum].
Auto
 == 0))

8493 

 = 
	`aim
(
bnum
, 

);

8494 i((
bfld
[2, 
Ax
, 
Ay
] >0&& (

 =
ue
&& (
bre
[bfld[2, Ax, Ay]].
Tm
 <> 0))

8496 
Bre
[
bnum
].
Aed
 = 1;

8497 
	`ru_32
(
um
, -1);

8498 
bnum1
 = 
bfld
[2, 
Ax
, 
Ay
];

8499 i(
bre
[
bnum1
].
Tm
 <> 
Bre
[
bnum
].Team)

8501 
um1
 = 
bre
[
bnum1
].
um
;

8502 
hu
 = 
e
[
um
].
HidWp
 / 2 - 
rem
[
um
].
AddCutHP
 / 3;

8503 
hu
 = hu * (
e
[
um1
].
Hu
 / 33 + 1);

8504 i(
hu
 < 0) hurt = 0;

8505 
e
[
um1
].
CutHP
 =re[um1].CutHP - 
hu
;

8506 
bre
[
bnum1
].
ShowNumb
 = 
hu
;

8507 
	`SAmiPosi
(0, 0);

8508 
	`PyAiAmi
(
bnum
, 0);

8509 
	`PyMagicAmi
(
bnum
, 
rem
[
um
].
AmiNum
);

8510 
	`ShowHuVue
(0);

8515 
	}
}

8519 
	$Re
(
bnum
 = 0)()

8520 
v


8521 
um
 = 0;

8523 
Bre
[
bnum
].
Aed
 = 1;

8524 
um
 = 
bre
[
bnum
].rnum;

8525 
RRe
[
um
].
CutHP
 = RRe[um].CutHP + RRe[um].
MaxHP
 / 20;

8526 i(
RRe
[
um
].
CutHP
 > RRe[um].
MaxHP
) RRole[rnum].CurrentHP = RRole[rnum].MaxHP;

8527 
RRe
[
um
].
CutMP
 = RRe[um].CutMP + RRe[um].
MaxMP
 / 20;

8528 i(
RRe
[
um
].
CutMP
 > RRe[um].
MaxMP
) RRole[rnum].CurrentMP = RRole[rnum].MaxMP;

8529 
e
[
um
].
PhyPow
 =re[um].PhyPow + 
MAX_PHYSICAL_POWER
 / 20;

8530 i(
e
[
um
].
PhyPow
 > 
MAX_PHYSICAL_POWER
)role[rnum].PhyPower = MAX_PHYSICAL_POWER;

8532 
	}
}

8536 
	$AutoBe
(
bnum
 = 0)()

8537 
v


8538 
i
 = 0;

8539 
p
 = 0;

8540 
a
 = 0;

8541 
mp
 = 0;

8542 
um
 = 0;

8543 
um
 = 0;

8544 
mou
 = 0;

8545 
aim
 = 0;

8546 
mnum
 = 0;

8547 
v
 = 0;

8548 
Ax1
 = 0;

8549 
Ay1
 = 0;

8550 
i1
 = 0;

8551 
i2
 = 0;

8552 

 = 0;

8553 
1
 = 0;

8554 
dis0
 = 0;

8555 
dis
 = 0;

8556 
r
: 
widerg
;

8558 
um
 = 
bre
[
bnum
].rnum;

8559 
	`showsimeus
(
um
, 350, 50);

8560 
	`sdl_day
(450);

8564 i((
Bre
[
bnum
].
Aed
 =0&& (
RRe
[
um
].
CutHP
 < RRe[um].
MaxHP
 / 5))

8566 i(
	`ndom
(100) < 70)

8569 i((
Rre
[
um
].
Medce
 >50&& (
e
[um].
PhyPow
 >50&& (
	`ndom
(100) < 50))

8571 
	`medce
(
bnum
);

8576 
	`AutoUIm
(
bnum
, 45);

8583 i((
Bre
[
bnum
].
Aed
 =0&& (
RRe
[
um
].
CutMP
 < RRe[um].
MaxMP
 / 5))

8585 i(
	`ndom
(100) < 60)

8587 
	`AutoUIm
(
bnum
, 50);

8593 i((
Bre
[
bnum
].
Aed
 =0&& (
e
[
um
].
PhyPow
 < 
MAX_PHYSICAL_POWER
 / 5))

8595 i(
	`ndom
(100) < 80)

8597 
	`AutoUIm
(
bnum
, 48);

8602 i((
Bre
[
bnum
].
Aed
 =0&& (
e
[
um
].
PhyPow
 >= 10))

8605 
mou
 = 
	`Cum
(1 - 
Bre
[
bnum
].
Tm
);

8606 
aim
 = 
	`ndom
(
mou
) + 1;

8608 
i
 = 0 
to
 
brޗmou
 - 1 do

8610 i((
Bre
[
bnum
].
Tm
 <> Bre[
i
].Tm&& (Bre[i].
Dd
 == 0))

8612 
aim
 =im - 1;

8613 i(
aim
 <= 0) ;

8618 
Ax
 = 
Bx
;

8619 
Ay
 = 
By
;

8620 
Ax1
 = 
Bre
[
i
].
X
;

8621 
Ay1
 = 
Bre
[
i
].
Y
;

8622 
	`CCSe
(
bnum
, 0);

8623 
dis0
 = 
	`abs
(
Ax1
 - 
Bx
+bs(
Ay1
 - 
By
);

8624 
i1
 = 
	`m
(
Ax1
, 
Bx

to
 
	`max
(Ax1, Bx) do

8625 
i2
 = 
	`m
(
Ay1
, 
By

to
 
	`max
(Ay1, By) do

8627 i(
Bfld
[3, 
i1
, 
i2
] == 0)

8629 
dis
 = 
	`abs
(
Ax1
 - 
i1
+bs(
Ay1
 - 
i2
);

8630 i((
dis
 < 
dis0
&& (
	`abs
(
i1
 - 
Bx
+bs(
i2
 - 
By
<
bre
[
bnum
].
Sp
))

8632 
Ax
 = 
i1
;

8633 
Ay
 = 
i2
;

8634 
dis0
 = 
dis
;

8638 i(
Bfld
[3, 
Ax
, 
Ay
] =0
	`MoveAmi
(
bnum
);

8639 
Ax
 = 
Bre
[
i
].
X
;

8640 
Ay
 = 
Bre
[
i
].
Y
;

8644 
p
 = 0;

8645 
a
 = 0;

8646 
mp
 = 0;

8647 
i1
 = 0 
to
 9 do

8649 
mnum
 = 
Rre
[
um
].
Magic
[
i1
];

8650 i(
mnum
 > 0)

8652 
a
 = + 1;

8653 
v
 = 
Rre
[
um
].
MagLev
[
i1
] / 100 + 1;

8654 i(
RRe
[
um
].
CutMP
 < 
rmagic
[
mnum
].
NdMP
 * ((
v
 + 1) / 2))evel = RRole[rnum].CurrentMP /magic[mnum].NeedMP * 2;

8655 i(
v
 > 10)evel = 10;

8656 i(
v
 <= 0)evel = 1;

8657 i(
rmagic
[
mnum
].
Aack
[
v
 - 1] > 
mp
)

8659 
p
 = 
i1
;

8660 
mp
 = 
rmagic
[
mnum
].
Aack
[
v
 - 1];

8666 i(
	`ndom
(100< 5
p
 =dom(
a
);

8671 i(
	`abs
(
Ax
 - 
Bx
+bs(
Ay
 - 
By
> 

)

8673 
p
 = 0;

8674 
a
 = 0;

8675 
mp
 = 0;

8676 
i1
 = 0 
to
 9 do

8678 
mnum
 = 
Rre
[
um
].
Magic
[
i1
];

8679 i(
mnum
 > 0)

8681 
v
 = 
Rre
[
um
].
MagLev
[
i1
] / 100 + 1;

8682 
a
 = 
rmagic
[
mnum
].
MoveDi
[
v
 - 1];

8683 i(
rmagic
[
mnum
].
AAaTy
 =3
a
 = +magic[mnum].
ADi
[
v
 - 1];

8684 i(
a
 > 
mp
)

8686 
p
 = 
i1
;

8687 
mp
 = 
a
;

8693 
mnum
 = 
Rre
[
um
].
Magic
[
p
];

8694 
v
 = 
Rre
[
um
].
MagLev
[
p
] / 100 + 1;

8695 

 = 
rmagic
[
mnum
].
MoveDi
[
v
 - 1];

8696 
1
 = 0;

8697 i(
rmagic
[
mnum
].
AAaTy
 =3
1
 =magic[mnum].
ADi
[
v
 - 1];

8698 i(
	`abs
(
Ax
 - 
Bx
+bs(
Ay
 - 
By
<

 + 
1
)

8701 i((
rmagic
[
mnum
].
AAaTy
 == 3))

8704 
dis
 = 0;

8705 
Ax1
 = 
Bx
;

8706 
Ay1
 = 
By
;

8707 
i1
 = 
	`m
(
Ax
, 
Bx

to
 
	`max
(Ax, Bx) do

8708 
i2
 = 
	`m
(
Ay
, 
By

to
 
	`max
(Ay, By) do

8710 i((
	`abs
(
i1
 - 
Ax
<
1
&& (abs(
i2
 - 
Ay
<1&& (abs(i1 - 
Bx
+bs(i2 - 
By
<

 + step1))

8712 i(
dis
 < 
	`abs
(
i1
 - 
Bx
+bs(
i2
 - 
By
))

8714 
dis
 = 
	`abs
(
i1
 - 
Bx
+bs(
i2
 - 
By
);

8715 
Ax1
 = 
i1
;

8716 
Ay1
 = 
i2
;

8720 
Ax
 = 
Ax1
;

8721 
Ay
 = 
Ay1
;

8723 i(
Rmagic
[
mnum
].
AAaTy
 <> 3)

8724 
	`SAmiPosi
(
Rmagic
[
mnum
].
AAaTy
, 

)

8726 
	`SAmiPosi
(
Rmagic
[
mnum
].
AAaTy
, 
1
);

8728 i(
bfld
[4, 
Ax
, 
Ay
] <> 0)

8730 
Bre
[
bnum
].
Aed
 = 1;

8731 
i1
 = 0 
to
 
	`sign
(
Rre
[
um
].
ATwi
) do

8733 
Rre
[
um
].
MagLev
[
p
] = Rre[um].MagLev[p] + 
	`ndom
(2) + 1;

8734 i(
Rre
[
um
].
MagLev
[
p
] > 999) Rrole[rnum].MagLevel[p] = 999;

8735 i(
rmagic
[
mnum
].
UnKnow
[4] > 0
	`evt
(rmagic[mnum].UnKnow[4])

8736 
	`AackAi
(
bnum
, 
mnum
, 
v
);

8744 i(
Bre
[
bnum
].
Aed
 =0
	`
(bnum);

8747 i(
	`SDL_PlEvt
(@
evt
) >= 0)

8749 i((
evt
.
ty
 =
SDL_QUITEV
))

8750 i(
	`mesgedlg
("A you suqu?", 
mtCfmi
, [
mbOk
, 
mbCl
], 0=
idOK

Qu
;

8751 i((
evt
.
key
.
keysym
.
sym
 =
sdlk_Es
))

8753 
bre
[
bnum
].
Auto
 = 0;

8756 
	}
}

8760 
	$AutoUIm
(
bnum
, 
li
 = 0)()

8761 
v


8762 
i
 = 0;

8763 
p
 = 0;

8764 
mp
 = 0;

8765 
um
 = 0;

8766 
um
 = 0;

8767 
r
: 
widerg
;

8769 
um
 = 
bre
[
bnum
].rnum;

8770 i(
Bre
[
bnum
].
Tm
 <> 0)

8772 
mp
 = 0;

8773 
p
 = -1;

8774 
i
 = 0 
to
 3 do

8776 i(
Rre
[
um
].
TakgIm
[
i
] >= 0)

8778 i(
rem
[
Rre
[
um
].
TakgIm
[
i
]].
Da
[
li
] > 
mp
)

8780 
mp
 = 
rem
[
Rre
[
um
].
TakgIm
[
i
]].
Da
[
li
];

8781 
p
 = 
i
;

8787 
mp
 = 0;

8788 
p
 = -1;

8789 
i
 = 0 
to
 
MAX_ITEM_NUM
 - 1 do

8791 i((
RImLi
[
i
].
Amou
 > 0&& (
rem
[RImLi[i].
Numb
].
ImTy
 == 3))

8793 i(
rem
[
RImLi
[
i
].
Numb
].
Da
[
li
] > 
mp
)

8795 
mp
 = 
rem
[
RImLi
[
i
].
Numb
].
Da
[
li
];

8796 
p
 = 
i
;

8802 i(
p
 >= 0)

8804 i(
Bre
[
bnum
].
Tm
 <> 0)

8805 
um
 = 
e
[
um
].
TakgIm
[
p
]

8807 
um
 = 
RImLi
[
p
].
Numb
;

8808 
dw
;

8809 
	`SDL_UpdeRe
(
g_snSur
, 0, 0, 
SCREEN_WIDTH
, 
SCREEN_HEIGHT
);

8810 
	`EOIm
(
um
, 
um
);

8811 i(
Bre
[
bnum
].
Tm
 <> 0)

8812 
	`ru_41
(
um
, 
e
[um].
TakgIm
[
p
], -1)

8814 
	`ru_32
(
RImLi
[
p
].
Numb
, -1);

8815 
Bre
[
bnum
].
Aed
 = 1;

8816 
	`sdl_day
(750);

8819 
	}
}

	@typedef.h

29 #ide
__TYPEDEF_H__


30 
	#__TYPEDEF_H__


	)

32 #agm
ck
 (1)

34 
	#FALSE
 0

	)

35 
	#TRUE
 (!
FALSE
)

	)

37 
	tbo
;

39 
	tst8
;

40 
	tut8
;

41 
st8
 
	tby
;

43 
	tst16
;

44 
	tut16
;

46 
	tst32
;

47 
	tut32
;

50 
	mEmSnLayGround
,

51 
	mEmSnLayBudg
,

52 
	mEmSnLaySky
,

53 
	mEmSnLayEvt
,

54 
	mEmSnLayBudgOfft
,

55 
	mEmSnLaySkyOfft
,

57 
	mSCENCE_LAYER_NUM


58 } 
	tEmSnLay
;

61 
	mEmInSnS
,

62 
	mEmInSnE
,

63 
	mEmInSnJump
,

64 } 
	tEmInSn
;

67 
	mEmInGameM
,

68 
	mEmInGameSn
,

69 
	mEmInGameBeFld
,

70 
	mEmInGameT


71 } 
	tEmInGame
;

74 
	mEmMaMuNew
,

75 
	mEmMaMuLd
,

76 
	mEmMaMuEx


77 } 
	tEmMaMu
;

80 
	mEmMPY
,

81 
	mEmMPYg
,

82 
	mEmMPUnifd


83 } 
	tEmNeiTy
;

87 
st16
 
	mx
;

88 
st16
 
	my
;

89 } 
	tT_Posi
;

93 
ut16
 
	mw
;

94 
ut16
 
	mh
;

95 
st16
 
	mdx
;

96 
st16
 
	mdy
;

97 } 
	tT_PicRe
;

101 
st16
 
	mx
;

102 
st16
 
	my
;

103 
ut16
 
	mw
;

104 
ut16
 
	mh
;

105 } 
	tT_Re
;

109 
ut8
 
	mr
;

110 
ut8
 
	mg
;

111 
ut8
 
	mb
;

112 } 
	tT_RGB
;

116 
st16
 
	mdex
;

117 
st16
 
	mnum
;

118 } 
	tT_ImLi
;

122 
bo
 
	mSh
;

123 
st16
 
	mmx
;

124 
st16
 
	mmy
;

125 
st16
 
	msx
;

126 
st16
 
	msy
;

127 
st16
 
	mmFa
;

128 
st16
 
	mshX
;

129 
st16
 
	mshY
;

130 
st16
 
	mshX1
;

131 
st16
 
	mshY1
;

132 
st16
 
	mshFa
;

133 
st16
 
	mam
[
MAX_TEAM_ROLE
];

134 
T_ImLi
 
	memLi
[
ITEM_NUM
];

135 } 
	tT_SaveComm
;

139 
st16
 
	mliNum
;

140 
st16
 
	mIndex
;

141 
st32
 
	mcLi
;

142 
	mme
[
NAME_LEN
];

143 
st16
 
	mxu
;

144 
st16
 
	mv
;

145 
st16
 
	mexp
;

146 
st16
 
	mli
;

147 
st16
 
	mmaxLi
;

148 
st16
 
	mwound
;

149 
st16
 
	mpoisiښg
;

150 
st16
 
	mphyPow
;

151 
ut16
 
	mexpFIm
;

152 
st16
 
	mequ
[2];

153 
st16
 
	mamiFmeNum
[5];

154 
st16
 
	mamiDay
[5];

155 
st16
 
	msoundDly
[5];

156 
st16
 
	mÞiTy
;

157 
st16
 
	mÞi
;

158 
st16
 
	mmaxNei
;

159 
st16
 
	mck
;

160 
st16
 
	md
;

161 
st16
 
	mden
;

162 
st16
 
	mmedce
;

163 
st16
 
	muPoi
;

164 
st16
 
	mmedPoi
;

165 
st16
 
	mdefPoi
;

166 
st16
 
	mfi
;

167 
st16
 
	mswd
;

168 
st16
 
	mbde
;

169 
st16
 
	munusu
;

170 
st16
 
	mhidWp
;

171 
st16
 
	mknowdge
;

172 
st16
 
	mhics
;

173 
st16
 
	mtPoi
;

174 
st16
 
	mtTwi
;

175 
st16
 
	mpu
;

176 
st16
 
	mtude
;

177 
st16
 
	maiBook
;

178 
st16
 
	mexpFBook
;

179 
st16
 
	mmagic
[10];

180 
st16
 
	mmagLev
[10];

181 
st16
 
	mkgIm
[4];

182 
st16
 
	mkgImNum
[4];

183 } 
	tT_Re
;

187 
st16
 
	mliNum
;

188 
	mme
[20];

189 
	mme1
[20];

190 
	modui
[30];

191 
st16
 
	mmagic
;

192 
st16
 
	mamiNum
;

193 
st16
 
	mur
;

194 
st16
 
	mequTy
;

195 
st16
 
	mshowIro
;

196 
st16
 
	memTy
;

197 
st16
 
	munknown1
;

198 
st16
 
	munknown2
;

199 
st16
 
	munknown3
;

200 
st16
 
	maddLi
;

201 
st16
 
	maddMaxLi
;

202 
st16
 
	maddPoi
;

203 
st16
 
	maddPhyPow
;

204 
st16
 
	mchgeNeiTy
;

205 
st16
 
	maddNei
;

206 
st16
 
	maddMaxNei
;

207 
st16
 
	maddAack
;

208 
st16
 
	maddSed
;

209 
st16
 
	maddDen
;

210 
st16
 
	maddMedce
;

211 
st16
 
	maddUPoi
;

212 
st16
 
	maddMedPoi
;

213 
st16
 
	maddDefPoi
;

214 
st16
 
	maddFi
;

215 
st16
 
	maddSwd
;

216 
st16
 
	maddBde
;

217 
st16
 
	maddUnusu
;

218 
st16
 
	maddHidWp
;

219 
st16
 
	maddKnowdge
;

220 
st16
 
	maddEthics
;

221 
st16
 
	maddATwi
;

222 
st16
 
	maddAPoi
;

223 
st16
 
	mlyPcRe
;

224 
st16
 
	medMPTy
;

225 
st16
 
	medMP
;

226 
st16
 
	medAack
;

227 
st16
 
	medSed
;

228 
st16
 
	medUPoi
;

229 
st16
 
	medMedce
;

230 
st16
 
	medMedPoi
;

231 
st16
 
	medFi
;

232 
st16
 
	medSwd
;

233 
st16
 
	medBde
;

234 
st16
 
	medUnusu
;

235 
st16
 
	medHidWp
;

236 
st16
 
	medAude
;

237 
st16
 
	medExp
;

238 
st16
 
	medExpFIm
;

239 
st16
 
	medMl
;

240 
st16
 
	mgIm
[5];

241 
st16
 
	medMNum
[5];

242 } 
	tT_Im
;

246 
st16
 
	mliNum
;

247 
	mme
[10];

248 
st16
 
	mexMusic
;

249 
st16
 
	mMusic
;

250 
st16
 
	mjumpSn
;

251 
st16
 
	mCdi
;

252 
st16
 
	mmEn1Y
;

253 
st16
 
	mmEn1X
;

254 
st16
 
	mmEn2Y
;

255 
st16
 
	mmEn2X
;

256 
st16
 
	mY
;

257 
st16
 
	mX
;

259 
st16
 
	mexY
[3];

260 
st16
 
	mexX
[3];

261 
st16
 
	mjumpY
;

262 
st16
 
	mjumpX
;

263 
st16
 
	mjumpEnY
;

264 
st16
 
	mjumpEnX
;

265 } 
	tT_Sn
;

269 
st16
 
	mliNum
;

270 
	mme
[10];

271 
st16
 
	munKnow
[5];

272 
st16
 
	msoundNum
;

273 
st16
 
	mmagicTy
;

274 
st16
 
	mamiNum
;

275 
st16
 
	mhuTy
;

276 
st16
 
	mtAaTy
;

277 
st16
 
	medMP
;

278 
st16
 
	mpoisi
;

279 
st16
 
	mck
[10];

280 
st16
 
	mmoveDi
[10];

281 
st16
 
	mtDi
[10];

282 
st16
 
	maddMP
[10];

283 
st16
 
	mhuMP
[10];

284 } 
	tT_Magic
;

288 
st16
 
	mem
[5];

289 
st16
 
	mnum
[5];

290 
st16
 
	mi
[5];

291 } 
	tT_Sh
;

295 
T_SaveComm
 
	mcomm
;

296 
T_Re
 
	mres
[
ROLE_NUM
];

297 
T_Im
 
	mems
[
ITEM_NUM
];

298 
T_Sn
 
	msns
[
SCENCE_NUM
];

299 
T_Magic
 
	mmagics
[
MAGIC_NUM
];

300 
T_Sh
 
	mshs
[
SHOP_NUM
];

301 } 
	tT_ReDa
;

305 
st16
 
	mblock
;

306 
st16
 
	md
;

307 
st16
 
	maiEvt
;

308 
st16
 
	memEvt
;

309 
st16
 
	mEvt
;

310 
st16
 
	mpic1
;

311 
st16
 
	mpic2
;

312 
st16
 
	mpic3
;

313 
st16
 
	ms
;

314 
st16
 
	mx
;

315 
st16
 
	my
;

316 } 
	tT_Evt
;

320 
st16
 
	mnum
;

321 
st16
 
	mam
;

322 
st16
 
	my
;

323 
st16
 
	mx
;

324 
st16
 
	m
;

325 
st16
 
	mdd
;

326 
st16
 
	m
;

327 
st16
 
	maed
;

328 
st16
 
	mpic
;

329 
st16
 
	mshowNumb
;

330 
st16
 
	munU1
;

331 
st16
 
	munU2
;

332 
st16
 
	munU3
;

333 
st16
 
	mexpG
;

334 
st16
 
	mautoMode
;

335 } 
	tT_BeRe
;

	@/usr/include/SDL/SDL.h

25 #ide
_SDL_H


26 
	#_SDL_H


	)

28 
	~"SDL_ma.h
"

29 
	~"SDL_dc.h
"

30 
	~"SDL_audio.h
"

31 
	~"SDL_cdrom.h
"

32 
	~"SDL_ufo.h
"

33 
	~"SDL_dn.h
"

34 
	~"SDL_r.h
"

35 
	~"SDL_evts.h
"

36 
	~"SDL_ldso.h
"

37 
	~"SDL_mux.h
"

38 
	~"SDL_rws.h
"

39 
	~"SDL_thad.h
"

40 
	~"SDL_tim.h
"

41 
	~"SDL_video.h
"

42 
	~"SDL_vsi.h
"

44 
	~"beg_code.h
"

46 #ifde
__lulus


55 
	#SDL_INIT_TIMER
 0x00000001

	)

56 
	#SDL_INIT_AUDIO
 0x00000010

	)

57 
	#SDL_INIT_VIDEO
 0x00000020

	)

58 
	#SDL_INIT_CDROM
 0x00000100

	)

59 
	#SDL_INIT_JOYSTICK
 0x00000200

	)

60 
	#SDL_INIT_NOPARACHUTE
 0x00100000

	)

61 
	#SDL_INIT_EVENTTHREAD
 0x01000000

	)

62 
	#SDL_INIT_EVERYTHING
 0x0000FFFF

	)

69 
DECLSPEC
 
SDLCALL
 
SDL_In
(
Ut32
 
ags
);

72 
DECLSPEC
 
SDLCALL
 
SDL_InSubSyem
(
Ut32
 
ags
);

75 
DECLSPEC
 
SDLCALL
 
SDL_QuSubSyem
(
Ut32
 
ags
);

81 
DECLSPEC
 
Ut32
 
SDLCALL
 
SDL_WasIn
(Ut32 
ags
);

86 
DECLSPEC
 
SDLCALL
 
SDL_Qu
();

89 #ifde
__lulus


92 
	~"o_code.h
"

	@/usr/include/SDL/SDL_events.h

25 #ide
_SDL_evts_h


26 
	#_SDL_evts_h


	)

28 
	~"SDL_dc.h
"

29 
	~"SDL_r.h
"

30 
	~"SDL_aive.h
"

31 
	~"SDL_keybrd.h
"

32 
	~"SDL_mou.h
"

33 
	~"SDL_joyick.h
"

34 
	~"SDL_qu.h
"

36 
	~"beg_code.h
"

38 #ifde
__lulus


43 
	#SDL_RELEASED
 0

	)

44 
	#SDL_PRESSED
 1

	)

47 
	eSDL_Evts
 {

48 
SDL_NOEVENT
 = 0,

49 
SDL_ACTIVEEVENT
,

50 
SDL_KEYDOWN
,

51 
SDL_KEYUP
,

52 
SDL_MOUSEMOTION
,

53 
SDL_MOUSEBUTTONDOWN
,

54 
SDL_MOUSEBUTTONUP
,

55 
SDL_JOYAXISMOTION
,

56 
SDL_JOYBALLMOTION
,

57 
SDL_JOYHATMOTION
,

58 
SDL_JOYBUTTONDOWN
,

59 
SDL_JOYBUTTONUP
,

60 
SDL_QUIT
,

61 
SDL_SYSWMEVENT
,

62 
SDL_EVENT_RESERVEDA
,

63 
SDL_EVENT_RESERVEDB
,

64 
SDL_VIDEORESIZE
,

65 
SDL_VIDEOEXPOSE
,

66 
SDL_EVENT_RESERVED2
,

67 
SDL_EVENT_RESERVED3
,

68 
SDL_EVENT_RESERVED4
,

69 
SDL_EVENT_RESERVED5
,

70 
SDL_EVENT_RESERVED6
,

71 
SDL_EVENT_RESERVED7
,

73 
SDL_USEREVENT
 = 24,

77 
SDL_NUMEVENTS
 = 32

78 } 
	tSDL_EvtTy
;

81 
	#SDL_EVENTMASK
(
X
(1<<(X))

	)

82 
	eSDL_EvtMasks
 {

83 
SDL_ACTIVEEVENTMASK
 = 
SDL_EVENTMASK
(
SDL_ACTIVEEVENT
),

84 
SDL_KEYDOWNMASK
 = 
SDL_EVENTMASK
(
SDL_KEYDOWN
),

85 
SDL_KEYUPMASK
 = 
SDL_EVENTMASK
(
SDL_KEYUP
),

86 
SDL_KEYEVENTMASK
 = 
SDL_EVENTMASK
(
SDL_KEYDOWN
)|

87 
SDL_EVENTMASK
(
SDL_KEYUP
),

88 
SDL_MOUSEMOTIONMASK
 = 
SDL_EVENTMASK
(
SDL_MOUSEMOTION
),

89 
SDL_MOUSEBUTTONDOWNMASK
 = 
SDL_EVENTMASK
(
SDL_MOUSEBUTTONDOWN
),

90 
SDL_MOUSEBUTTONUPMASK
 = 
SDL_EVENTMASK
(
SDL_MOUSEBUTTONUP
),

91 
SDL_MOUSEEVENTMASK
 = 
SDL_EVENTMASK
(
SDL_MOUSEMOTION
)|

92 
SDL_EVENTMASK
(
SDL_MOUSEBUTTONDOWN
)|

93 
SDL_EVENTMASK
(
SDL_MOUSEBUTTONUP
),

94 
SDL_JOYAXISMOTIONMASK
 = 
SDL_EVENTMASK
(
SDL_JOYAXISMOTION
),

95 
SDL_JOYBALLMOTIONMASK
 = 
SDL_EVENTMASK
(
SDL_JOYBALLMOTION
),

96 
SDL_JOYHATMOTIONMASK
 = 
SDL_EVENTMASK
(
SDL_JOYHATMOTION
),

97 
SDL_JOYBUTTONDOWNMASK
 = 
SDL_EVENTMASK
(
SDL_JOYBUTTONDOWN
),

98 
SDL_JOYBUTTONUPMASK
 = 
SDL_EVENTMASK
(
SDL_JOYBUTTONUP
),

99 
SDL_JOYEVENTMASK
 = 
SDL_EVENTMASK
(
SDL_JOYAXISMOTION
)|

100 
SDL_EVENTMASK
(
SDL_JOYBALLMOTION
)|

101 
SDL_EVENTMASK
(
SDL_JOYHATMOTION
)|

102 
SDL_EVENTMASK
(
SDL_JOYBUTTONDOWN
)|

103 
SDL_EVENTMASK
(
SDL_JOYBUTTONUP
),

104 
SDL_VIDEORESIZEMASK
 = 
SDL_EVENTMASK
(
SDL_VIDEORESIZE
),

105 
SDL_VIDEOEXPOSEMASK
 = 
SDL_EVENTMASK
(
SDL_VIDEOEXPOSE
),

106 
SDL_QUITMASK
 = 
SDL_EVENTMASK
(
SDL_QUIT
),

107 
SDL_SYSWMEVENTMASK
 = 
SDL_EVENTMASK
(
SDL_SYSWMEVENT
)

108 } 
	tSDL_EvtMask
 ;

109 
	#SDL_ALLEVENTS
 0xFFFFFFFF

	)

112 
	sSDL_AiveEvt
 {

113 
Ut8
 
ty
;

114 
Ut8
 
ga
;

115 
Ut8
 
e
;

116 } 
	tSDL_AiveEvt
;

119 
	sSDL_KeybrdEvt
 {

120 
Ut8
 
ty
;

121 
Ut8
 
which
;

122 
Ut8
 
e
;

123 
SDL_keysym
 
keysym
;

124 } 
	tSDL_KeybrdEvt
;

127 
	sSDL_MouMiEvt
 {

128 
Ut8
 
ty
;

129 
Ut8
 
which
;

130 
Ut8
 
e
;

131 
Ut16
 
x
, 
y
;

132 
St16
 
xl
;

133 
St16
 
yl
;

134 } 
	tSDL_MouMiEvt
;

137 
	sSDL_MouBuEvt
 {

138 
Ut8
 
ty
;

139 
Ut8
 
which
;

140 
Ut8
 
bu
;

141 
Ut8
 
e
;

142 
Ut16
 
x
, 
y
;

143 } 
	tSDL_MouBuEvt
;

146 
	sSDL_JoyAxisEvt
 {

147 
Ut8
 
ty
;

148 
Ut8
 
which
;

149 
Ut8
 
axis
;

150 
St16
 
vue
;

151 } 
	tSDL_JoyAxisEvt
;

154 
	sSDL_JoyBlEvt
 {

155 
Ut8
 
ty
;

156 
Ut8
 
which
;

157 
Ut8
 
bl
;

158 
St16
 
xl
;

159 
St16
 
yl
;

160 } 
	tSDL_JoyBlEvt
;

163 
	sSDL_JoyHEvt
 {

164 
Ut8
 
ty
;

165 
Ut8
 
which
;

166 
Ut8
 
h
;

167 
Ut8
 
vue
;

173 } 
	tSDL_JoyHEvt
;

176 
	sSDL_JoyBuEvt
 {

177 
Ut8
 
ty
;

178 
Ut8
 
which
;

179 
Ut8
 
bu
;

180 
Ut8
 
e
;

181 } 
	tSDL_JoyBuEvt
;

187 
	sSDL_ResizeEvt
 {

188 
Ut8
 
ty
;

189 
w
;

190 
h
;

191 } 
	tSDL_ResizeEvt
;

194 
	sSDL_ExpoEvt
 {

195 
Ut8
 
ty
;

196 } 
	tSDL_ExpoEvt
;

199 
	sSDL_QuEvt
 {

200 
Ut8
 
ty
;

201 } 
	tSDL_QuEvt
;

204 
	sSDL_UrEvt
 {

205 
Ut8
 
ty
;

206 
code
;

207 *
da1
;

208 *
da2
;

209 } 
	tSDL_UrEvt
;

212 
SDL_SysWMmsg
;

213 
SDL_SysWMmsg
 
	tSDL_SysWMmsg
;

214 
	sSDL_SysWMEvt
 {

215 
Ut8
 
ty
;

216 
SDL_SysWMmsg
 *
msg
;

217 } 
	tSDL_SysWMEvt
;

220 
	uSDL_Evt
 {

221 
Ut8
 
ty
;

222 
SDL_AiveEvt
 
aive
;

223 
SDL_KeybrdEvt
 
key
;

224 
SDL_MouMiEvt
 
mi
;

225 
SDL_MouBuEvt
 
bu
;

226 
SDL_JoyAxisEvt
 
jaxis
;

227 
SDL_JoyBlEvt
 
jbl
;

228 
SDL_JoyHEvt
 
jh
;

229 
SDL_JoyBuEvt
 
jbu
;

230 
SDL_ResizeEvt
 
size
;

231 
SDL_ExpoEvt
 
expo
;

232 
SDL_QuEvt
 
qu
;

233 
SDL_UrEvt
 
ur
;

234 
SDL_SysWMEvt
 
syswm
;

235 } 
	tSDL_Evt
;

244 
DECLSPEC
 
SDLCALL
 
SDL_PumpEvts
();

259 
	gSDL_ADDEVENT
,

260 
	gSDL_PEEKEVENT
,

261 
	gSDL_GETEVENT


262 } 
	tSDL_evi
;

264 
DECLSPEC
 
SDLCALL
 
SDL_PpEvts
(
SDL_Evt
 *
evts
, 
numevts
,

265 
SDL_evi
 
ai
, 
Ut32
 
mask
);

271 
DECLSPEC
 
SDLCALL
 
SDL_PlEvt
(
SDL_Evt
 *
evt
);

277 
DECLSPEC
 
SDLCALL
 
SDL_WaEvt
(
SDL_Evt
 *
evt
);

283 
DECLSPEC
 
SDLCALL
 
SDL_PushEvt
(
SDL_Evt
 *
evt
);

291 (
SDLCALL
 *
	tSDL_EvtFr
)(cڡ 
	tSDL_Evt
 *
	tevt
);

308 
DECLSPEC
 
SDLCALL
 
SDL_SEvtFr
(
SDL_EvtFr
 
fr
);

314 
DECLSPEC
 
SDL_EvtFr
 
SDLCALL
 
SDL_GEvtFr
();

324 
	#SDL_QUERY
 -1

	)

325 
	#SDL_IGNORE
 0

	)

326 
	#SDL_DISABLE
 0

	)

327 
	#SDL_ENABLE
 1

	)

328 
DECLSPEC
 
Ut8
 
SDLCALL
 
SDL_EvtS
(Ut8 
ty
, 
e
);

332 #ifde
__lulus


335 
	~"o_code.h
"

	@/usr/include/SDL/SDL_gfxPrimitives.h

9 #ide
_SDL_gfxPrimives_h


10 
	#_SDL_gfxPrimives_h


	)

12 
	~<mh.h
>

13 #ide
M_PI


14 
	#M_PI
 3.141592654

	)

17 
	~"SDL.h
"

20 #ifde
__lulus


26 
	#SDL_GFXPRIMITIVES_MAJOR
 2

	)

27 
	#SDL_GFXPRIMITIVES_MINOR
 0

	)

28 
	#SDL_GFXPRIMITIVES_MICRO
 13

	)

32 #ifde
WIN32


33 #ifde
BUILD_DLL


34 
	#DLLINTERFACE
 
	`__deec
(
dexpt
)

	)

36 
	#DLLINTERFACE
 
	`__deec
(
dimpt
)

	)

39 
	#DLLINTERFACE


	)

48 
DLLINTERFACE
 
pixC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, 
Ut32
 
c
);

49 
DLLINTERFACE
 
pixRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

53 
DLLINTERFACE
 
hleC
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
x2
, St16 
y
, 
Ut32
 
c
);

54 
DLLINTERFACE
 
hleRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
x2
, St16 
y
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

58 
DLLINTERFACE
 
vleC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y1
, St16 
y2
, 
Ut32
 
c
);

59 
DLLINTERFACE
 
vleRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y1
, St16 
y2
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

63 
DLLINTERFACE
 
gC
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, 
Ut32
 
c
);

64 
DLLINTERFACE
 
gRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
,

65 
St16
 
x2
, St16 
y2
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

69 
DLLINTERFACE
 
boxC
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, 
Ut32
 
c
);

70 
DLLINTERFACE
 
boxRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
,

71 
St16
 
y2
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

75 
DLLINTERFACE
 
leC
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, 
Ut32
 
c
);

76 
DLLINTERFACE
 
leRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
,

77 
St16
 
x2
, St16 
y2
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

80 
DLLINTERFACE
 
leC
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, 
Ut32
 
c
);

81 
DLLINTERFACE
 
leRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
,

82 
St16
 
x2
, St16 
y2
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

86 
DLLINTERFACE
 
ceC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
r
, 
Ut32
 
c
);

87 
DLLINTERFACE
 
ceRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
d
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

91 
DLLINTERFACE
 
ceC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
r
, 
Ut32
 
c
);

92 
DLLINTERFACE
 
ceRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
,

93 
St16
 
d
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

97 
DLLINTERFACE
 
fdCeC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
r
, 
Ut32
 
c
);

98 
DLLINTERFACE
 
fdCeRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
,

99 
St16
 
d
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

103 
DLLINTERFACE
 
lC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
rx
, St16 
ry
, 
Ut32
 
c
);

104 
DLLINTERFACE
 
lRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
,

105 
St16
 
rx
, St16 
ry
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

109 
DLLINTERFACE
 
lC
(
SDL_Sur
 * 
d
, 
St16
 
xc
, St16 
yc
, St16 
rx
, St16 
ry
, 
Ut32
 
c
);

110 
DLLINTERFACE
 
lRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
,

111 
St16
 
rx
, St16 
ry
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

115 
DLLINTERFACE
 
fdEΝC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
rx
, St16 
ry
, 
Ut32
 
c
);

116 
DLLINTERFACE
 
fdEΝRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
,

117 
St16
 
rx
, St16 
ry
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

119 
	#CLOCKWISE


	)

123 
DLLINTERFACE
 
pC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
d
,

124 
St16
 
t
, St16 
d
, 
Ut32
 
c
);

125 
DLLINTERFACE
 
pRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
d
,

126 
St16
 
t
, St16 
d
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

130 
DLLINTERFACE
 
fdPC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
d
,

131 
St16
 
t
, St16 
d
, 
Ut32
 
c
);

132 
DLLINTERFACE
 
fdPRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, St16 
d
,

133 
St16
 
t
, St16 
d
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

137 
DLLINTERFACE
 
igC
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, St16 
x3
, St16 
y3
, 
Ut32
 
c
);

138 
DLLINTERFACE
 
igRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, St16 
x3
, St16 
y3
,

139 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

143 
DLLINTERFACE
 
igC
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, St16 
x3
, St16 
y3
, 
Ut32
 
c
);

144 
DLLINTERFACE
 
igRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, St16 
x3
, St16 
y3
,

145 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

149 
DLLINTERFACE
 
fdTrigC
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, St16 
x3
, St16 
y3
, 
Ut32
 
c
);

150 
DLLINTERFACE
 
fdTrigRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x1
, St16 
y1
, St16 
x2
, St16 
y2
, St16 
x3
, St16 
y3
,

151 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

155 
DLLINTERFACE
 
pygC
(
SDL_Sur
 * 
d
, cڡ 
St16
 * 
vx
, cڡ St16 * 
vy
, 
n
, 
Ut32
 
c
);

156 
DLLINTERFACE
 
pygRGBA
(
SDL_Sur
 * 
d
, cڡ 
St16
 * 
vx
, cڡ St16 * 
vy
,

157 
n
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

161 
DLLINTERFACE
 
pygC
(
SDL_Sur
 * 
d
, cڡ 
St16
 * 
vx
, cڡ St16 * 
vy
, 
n
, 
Ut32
 
c
);

162 
DLLINTERFACE
 
pygRGBA
(
SDL_Sur
 * 
d
, cڡ 
St16
 * 
vx
, cڡ St16 * 
vy
,

163 
n
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

167 
DLLINTERFACE
 
fdPygC
(
SDL_Sur
 * 
d
, cڡ 
St16
 * 
vx
, cڡ St16 * 
vy
, 
n
, 
Ut32
 
c
);

168 
DLLINTERFACE
 
fdPygRGBA
(
SDL_Sur
 * 
d
, cڡ 
St16
 * 
vx
,

169 cڡ 
St16
 * 
vy
, 
n
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

174 
DLLINTERFACE
 
bezrC
(
SDL_Sur
 * 
d
, cڡ 
St16
 * 
vx
, cڡ St16 * 
vy
, 
n
, 
s
, 
Ut32
 
c
);

175 
DLLINTERFACE
 
bezrRGBA
(
SDL_Sur
 * 
d
, cڡ 
St16
 * 
vx
, cڡ St16 * 
vy
,

176 
n
, 
s
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

181 
DLLINTERFACE
 
chaC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, 
c
, 
Ut32
 
c
);

182 
DLLINTERFACE
 
chaRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, 
c
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

183 
DLLINTERFACE
 
rgC
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, cڡ *
c
, 
Ut32
 
c
);

184 
DLLINTERFACE
 
rgRGBA
(
SDL_Sur
 * 
d
, 
St16
 
x
, St16 
y
, cڡ *
c
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

186 
DLLINTERFACE
 
gfxPrimivesSFt
(cڡ *
ftda
, 
cw
, 
ch
);

189 #ifde
__lulus


	@/usr/include/SDL/SDL_mixer.h

25 #ide
_SDL_MIXER_H


26 
	#_SDL_MIXER_H


	)

28 
	~"SDL_tys.h
"

29 
	~"SDL_rws.h
"

30 
	~"SDL_audio.h
"

31 
	~"SDL_byd.h
"

32 
	~"SDL_vsi.h
"

33 
	~"beg_code.h
"

36 #ifde
__lulus


42 
	#SDL_MIXER_MAJOR_VERSION
 1

	)

43 
	#SDL_MIXER_MINOR_VERSION
 2

	)

44 
	#SDL_MIXER_PATCHLEVEL
 6

	)

49 
	#SDL_MIXER_VERSION
(
X
) \

51 (
X
)->
maj
 = 
SDL_MIXER_MAJOR_VERSION
; \

52 (
X
)->
m
 = 
SDL_MIXER_MINOR_VERSION
; \

53 (
X
)->
tch
 = 
SDL_MIXER_PATCHLEVEL
; \

54 }

	)

57 
	#MIX_MAJOR_VERSION
 
SDL_MIXER_MAJOR_VERSION


	)

58 
	#MIX_MINOR_VERSION
 
SDL_MIXER_MINOR_VERSION


	)

59 
	#MIX_PATCHLEVEL
 
SDL_MIXER_PATCHLEVEL


	)

60 
	#MIX_VERSION
(
X

	`SDL_MIXER_VERSION
(X)

	)

66 
DECLSPEC
 cڡ 
SDL_vsi
 * 
SDLCALL
 
Mix_Lked_Vsi
();

70 #ide
MIX_CHANNELS


71 
	#MIX_CHANNELS
 8

	)

75 
	#MIX_DEFAULT_FREQUENCY
 22050

	)

76 #i
SDL_BYTEORDER
 =
SDL_LIL_ENDIAN


77 
	#MIX_DEFAULT_FORMAT
 
AUDIO_S16LSB


	)

79 
	#MIX_DEFAULT_FORMAT
 
AUDIO_S16MSB


	)

81 
	#MIX_DEFAULT_CHANNELS
 2

	)

82 
	#MIX_MAX_VOLUME
 128

	)

86 
	glod
;

87 
Ut8
 *
	gabuf
;

88 
Ut32
 
	g
;

89 
Ut8
 
	gvume
;

90 } 
	tMix_Chunk
;

94 
	gMIX_NO_FADING
,

95 
	gMIX_FADING_OUT
,

96 
	gMIX_FADING_IN


97 } 
	tMix_Fadg
;

100 
	gMUS_NONE
,

101 
	gMUS_CMD
,

102 
	gMUS_WAV
,

103 
	gMUS_MOD
,

104 
	gMUS_MID
,

105 
	gMUS_OGG
,

106 
	gMUS_MP3


107 } 
	tMix_MusicTy
;

110 
_Mix_Music
 
	tMix_Music
;

113 
DECLSPEC
 
SDLCALL
 
Mix_OnAudio
(
equcy
, 
Ut16
 
fm
, 
chls
,

114 
chunksize
);

121 
DECLSPEC
 
SDLCALL
 
Mix_AoChls
(
numchs
);

126 
DECLSPEC
 
SDLCALL
 
Mix_QuySc
(*
equcy
,
Ut16
 *
fm
,*
chls
);

129 
DECLSPEC
 
Mix_Chunk
 * 
SDLCALL
 
Mix_LdWAV_RW
(
SDL_RWs
 *
c
, 
䓤c
);

130 
	#Mix_LdWAV
(
fe

	`Mix_LdWAV_RW
(
	`SDL_RWFromFe
(fe, "rb"), 1)

	)

131 
DECLSPEC
 
Mix_Music
 * 
SDLCALL
 
Mix_LdMUS
(cڡ *
fe
);

133 #ifde
USE_RWOPS


136 
DECLSPEC
 
Mix_Music
 * 
SDLCALL
 
Mix_LdMUS_RW
(
SDL_RWs
 *
rw
);

140 
DECLSPEC
 
Mix_Chunk
 * 
SDLCALL
 
Mix_QuickLd_WAV
(
Ut8
 *
mem
);

143 
DECLSPEC
 
Mix_Chunk
 * 
SDLCALL
 
Mix_QuickLd_RAW
(
Ut8
 *
mem
, 
Ut32
 
n
);

146 
DECLSPEC
 
SDLCALL
 
Mix_FeChunk
(
Mix_Chunk
 *
chunk
);

147 
DECLSPEC
 
SDLCALL
 
Mix_FeMusic
(
Mix_Music
 *
music
);

152 
DECLSPEC
 
Mix_MusicTy
 
SDLCALL
 
Mix_GMusicTy
(cڡ 
Mix_Music
 *
music
);

158 
DECLSPEC
 
SDLCALL
 
Mix_SPoMix
((*
mix_func
)

159 (*
uda
, 
Ut8
 *
am
, 
n
), *
g
);

164 
DECLSPEC
 
SDLCALL
 
Mix_HookMusic
((*
mix_func
)

165 (*
uda
, 
Ut8
 *
am
, 
n
), *
g
);

170 
DECLSPEC
 
SDLCALL
 
Mix_HookMusicFished
((*
music_fished
)());

173 
DECLSPEC
 * 
SDLCALL
 
Mix_GMusicHookDa
();

183 
DECLSPEC
 
SDLCALL
 
Mix_ChlFished
((*
chl_fished
)(
chl
));

188 
	#MIX_CHANNEL_POST
 -2

	)

207 (*
	gMix_EfFunc_t
)(
	tch
, *
	tam
, 
	tn
, *
	tuda
);

218 (*
	gMix_EfDe_t
)(
	tch
, *
	tuda
);

267 
DECLSPEC
 
SDLCALL
 
Mix_RegiEf
(
ch
, 
Mix_EfFunc_t
 
f
,

268 
Mix_EfDe_t
 
d
, *
g
);

279 
DECLSPEC
 
SDLCALL
 
Mix_UegiEf
(
chl
, 
Mix_EfFunc_t
 
f
);

293 
DECLSPEC
 
SDLCALL
 
Mix_UegiAEfs
(
chl
);

296 
	#MIX_EFFECTSMAXSPEED
 "MIX_EFFECTSMAXSPEED"

	)

333 
DECLSPEC
 
SDLCALL
 
Mix_SPng
(
chl
, 
Ut8
 

, Ut8 
right
);

373 
DECLSPEC
 
SDLCALL
 
Mix_SPosi
(
chl
, 
St16
 
g
, 
Ut8
 
di
);

403 
DECLSPEC
 
SDLCALL
 
Mix_SDi
(
chl
, 
Ut8
 
di
);

427 
no_r_DECLSPEC
 
SDLCALL
 
Mix_SRevb
(
chl
, 
Ut8
 
echo
);

450 
DECLSPEC
 
SDLCALL
 
Mix_SRevSo
(
chl
, 

);

459 
DECLSPEC
 
SDLCALL
 
Mix_RerveChls
(
num
);

469 
DECLSPEC
 
SDLCALL
 
Mix_GroupChl
(
which
, 
g
);

471 
DECLSPEC
 
SDLCALL
 
Mix_GroupChls
(
om
, 
to
, 
g
);

475 
DECLSPEC
 
SDLCALL
 
Mix_GroupAvaab
(
g
);

479 
DECLSPEC
 
SDLCALL
 
Mix_GroupCou
(
g
);

481 
DECLSPEC
 
SDLCALL
 
Mix_GroupOlde
(
g
);

483 
DECLSPEC
 
SDLCALL
 
Mix_GroupNew
(
g
);

491 
	#Mix_PyChl
(
chl
,
chunk
,
los

	`Mix_PyChlTimed
(chl,chunk,los,-1)

	)

493 
DECLSPEC
 
SDLCALL
 
Mix_PyChlTimed
(
chl
, 
Mix_Chunk
 *
chunk
, 
los
, 
ticks
);

494 
DECLSPEC
 
SDLCALL
 
Mix_PyMusic
(
Mix_Music
 *
music
, 
los
);

497 
DECLSPEC
 
SDLCALL
 
Mix_FadeInMusic
(
Mix_Music
 *
music
, 
los
, 
ms
);

498 
DECLSPEC
 
SDLCALL
 
Mix_FadeInMusicPos
(
Mix_Music
 *
music
, 
los
, 
ms
, 
posi
);

499 
	#Mix_FadeInChl
(
chl
,
chunk
,
los
,
ms

	`Mix_FadeInChlTimed
(chl,chunk,los,ms,-1)

	)

500 
DECLSPEC
 
SDLCALL
 
Mix_FadeInChlTimed
(
chl
, 
Mix_Chunk
 *
chunk
, 
los
, 
ms
, 
ticks
);

507 
DECLSPEC
 
SDLCALL
 
Mix_Vume
(
chl
, 
vume
);

508 
DECLSPEC
 
SDLCALL
 
Mix_VumeChunk
(
Mix_Chunk
 *
chunk
, 
vume
);

509 
DECLSPEC
 
SDLCALL
 
Mix_VumeMusic
(
vume
);

512 
DECLSPEC
 
SDLCALL
 
Mix_HtChl
(
chl
);

513 
DECLSPEC
 
SDLCALL
 
Mix_HtGroup
(
g
);

514 
DECLSPEC
 
SDLCALL
 
Mix_HtMusic
();

520 
DECLSPEC
 
SDLCALL
 
Mix_ExpeChl
(
chl
, 
ticks
);

526 
DECLSPEC
 
SDLCALL
 
Mix_FadeOutChl
(
which
, 
ms
);

527 
DECLSPEC
 
SDLCALL
 
Mix_FadeOutGroup
(
g
, 
ms
);

528 
DECLSPEC
 
SDLCALL
 
Mix_FadeOutMusic
(
ms
);

531 
DECLSPEC
 
Mix_Fadg
 
SDLCALL
 
Mix_FadgMusic
();

532 
DECLSPEC
 
Mix_Fadg
 
SDLCALL
 
Mix_FadgChl
(
which
);

535 
DECLSPEC
 
SDLCALL
 
Mix_Pau
(
chl
);

536 
DECLSPEC
 
SDLCALL
 
Mix_Resume
(
chl
);

537 
DECLSPEC
 
SDLCALL
 
Mix_Paud
(
chl
);

540 
DECLSPEC
 
SDLCALL
 
Mix_PauMusic
();

541 
DECLSPEC
 
SDLCALL
 
Mix_ResumeMusic
();

542 
DECLSPEC
 
SDLCALL
 
Mix_RewdMusic
();

543 
DECLSPEC
 
SDLCALL
 
Mix_PaudMusic
();

551 
DECLSPEC
 
SDLCALL
 
Mix_SMusicPosi
(
posi
);

556 
DECLSPEC
 
SDLCALL
 
Mix_Pyg
(
chl
);

557 
DECLSPEC
 
SDLCALL
 
Mix_PygMusic
();

560 
DECLSPEC
 
SDLCALL
 
Mix_SMusicCMD
(cڡ *
commd
);

563 
DECLSPEC
 
SDLCALL
 
Mix_SSynchroVue
(
vue
);

564 
DECLSPEC
 
SDLCALL
 
Mix_GSynchroVue
();

569 
DECLSPEC
 
Mix_Chunk
 * 
SDLCALL
 
Mix_GChunk
(
chl
);

572 
DECLSPEC
 
SDLCALL
 
Mix_CloAudio
();

575 
	#Mix_SE
 
SDL_SE


	)

576 
	#Mix_GE
 
SDL_GE


	)

579 #ifde
__lulus


582 
	~"o_code.h
"

	@/usr/include/SDL/SDL_rotozoom.h

10 #ide
_SDL_rozoom_h


11 
	#_SDL_rozoom_h


	)

13 
	~<mh.h
>

16 #ifde
__lulus


20 #ide
M_PI


21 
	#M_PI
 3.141592654

	)

24 
	~"SDL.h
"

28 
	#SMOOTHING_OFF
 0

	)

29 
	#SMOOTHING_ON
 1

	)

33 
	stCRGBA
 {

34 
Ut8
 
r
;

35 
Ut8
 
g
;

36 
Ut8
 
b
;

37 
Ut8
 
a
;

38 } 
	ttCRGBA
;

40 
	stCY
 {

41 
Ut8
 
y
;

42 } 
	ttCY
;

47 #ifde
WIN32


48 #ifde
BUILD_DLL


49 
	#DLLINTERFACE
 
	`__deec
(
dexpt
)

	)

51 
	#DLLINTERFACE
 
	`__deec
(
dimpt
)

	)

54 
	#DLLINTERFACE


	)

68 
DLLINTERFACE
 
SDL_Sur
 *
rozoomSur
(SDL_Sur * 
c
, 
g
, 
zoom
, 
smoh
);

70 
DLLINTERFACE
 
SDL_Sur
 *
rozoomSurXY


71 (
SDL_Sur
 * 
c
, 
g
, 
zoomx
, 
zoomy
, 
smoh
);

75 
DLLINTERFACE
 
rozoomSurSize
(
width
, 
height
, 
g
, 
zoom
, *
dwidth
,

76 *
dheight
);

78 
DLLINTERFACE
 
rozoomSurSizeXY


79 (
width
, 
height
, 
g
, 
zoomx
, 
zoomy
,

80 *
dwidth
, *
dheight
);

93 
DLLINTERFACE
 
SDL_Sur
 *
zoomSur
(SDL_Sur * 
c
, 
zoomx
, 
zoomy
, 
smoh
);

97 
DLLINTERFACE
 
zoomSurSize
(
width
, 
height
, 
zoomx
, 
zoomy
, *
dwidth
, *
dheight
);

101 #ifde
__lulus


	@/usr/include/SDL/SDL_ttf.h

30 #ide
_SDL_TTF_H


31 
	#_SDL_TTF_H


	)

33 
	~"SDL.h
"

34 
	~"beg_code.h
"

37 #ifde
__lulus


43 
	#SDL_TTF_MAJOR_VERSION
 2

	)

44 
	#SDL_TTF_MINOR_VERSION
 0

	)

45 
	#SDL_TTF_PATCHLEVEL
 8

	)

50 
	#SDL_TTF_VERSION
(
X
) \

52 (
X
)->
maj
 = 
SDL_TTF_MAJOR_VERSION
; \

53 (
X
)->
m
 = 
SDL_TTF_MINOR_VERSION
; \

54 (
X
)->
tch
 = 
SDL_TTF_PATCHLEVEL
; \

55 }

	)

58 
	#TTF_MAJOR_VERSION
 
SDL_TTF_MAJOR_VERSION


	)

59 
	#TTF_MINOR_VERSION
 
SDL_TTF_MINOR_VERSION


	)

60 
	#TTF_PATCHLEVEL
 
SDL_TTF_PATCHLEVEL


	)

61 
	#TTF_VERSION
(
X

	`SDL_TTF_VERSION
(X)

	)

67 
DECLSPEC
 cڡ 
SDL_vsi
 * 
SDLCALL
 
TTF_Lked_Vsi
();

70 
	#UNICODE_BOM_NATIVE
 0xFEFF

	)

71 
	#UNICODE_BOM_SWAPPED
 0xFFFE

	)

77 
DECLSPEC
 
SDLCALL
 
TTF_BySwdUNICODE
(
swd
);

80 
_TTF_Ft
 
	tTTF_Ft
;

83 
DECLSPEC
 
SDLCALL
 
TTF_In
();

89 
DECLSPEC
 
TTF_Ft
 * 
SDLCALL
 
TTF_OnFt
(cڡ *
fe
, 
size
);

90 
DECLSPEC
 
TTF_Ft
 * 
SDLCALL
 
TTF_OnFtIndex
(cڡ *
fe
, 
size
, 
dex
);

91 
DECLSPEC
 
TTF_Ft
 * 
SDLCALL
 
TTF_OnFtRW
(
SDL_RWs
 *
c
, 
䓤c
, 
size
);

92 
DECLSPEC
 
TTF_Ft
 * 
SDLCALL
 
TTF_OnFtIndexRW
(
SDL_RWs
 *
c
, 
䓤c
, 
size
, 
dex
);

98 
	#TTF_STYLE_NORMAL
 0x00

	)

99 
	#TTF_STYLE_BOLD
 0x01

	)

100 
	#TTF_STYLE_ITALIC
 0x02

	)

101 
	#TTF_STYLE_UNDERLINE
 0x04

	)

102 
DECLSPEC
 
SDLCALL
 
TTF_GFtSty
(
TTF_Ft
 *
ft
);

103 
DECLSPEC
 
SDLCALL
 
TTF_SFtSty
(
TTF_Ft
 *
ft
, 
y
);

106 
DECLSPEC
 
SDLCALL
 
TTF_FtHeight
(
TTF_Ft
 *
ft
);

111 
DECLSPEC
 
SDLCALL
 
TTF_FtAs
(
TTF_Ft
 *
ft
);

116 
DECLSPEC
 
SDLCALL
 
TTF_FtDes
(
TTF_Ft
 *
ft
);

119 
DECLSPEC
 
SDLCALL
 
TTF_FtLeSk
(
TTF_Ft
 *
ft
);

122 
DECLSPEC
 
SDLCALL
 
TTF_FtFas
(
TTF_Ft
 *
ft
);

125 
DECLSPEC
 
SDLCALL
 
TTF_FtFaIsFixedWidth
(
TTF_Ft
 *
ft
);

126 
DECLSPEC
 * 
SDLCALL
 
TTF_FtFaFamyName
(
TTF_Ft
 *
ft
);

127 
DECLSPEC
 * 
SDLCALL
 
TTF_FtFaStyName
(
TTF_Ft
 *
ft
);

133 
DECLSPEC
 
SDLCALL
 
TTF_GlyphMrics
(
TTF_Ft
 *
ft
, 
Ut16
 
ch
,

134 *
mx
, *
maxx
,

135 *
my
, *
maxy
, *
adv
);

138 
DECLSPEC
 
SDLCALL
 
TTF_SizeText
(
TTF_Ft
 *
ft
, cڡ *
xt
, *
w
, *
h
);

139 
DECLSPEC
 
SDLCALL
 
TTF_SizeUTF8
(
TTF_Ft
 *
ft
, cڡ *
xt
, *
w
, *
h
);

140 
DECLSPEC
 
SDLCALL
 
TTF_SizeUNICODE
(
TTF_Ft
 *
ft
, cڡ 
Ut16
 *
xt
, *
w
, *
h
);

148 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdText_Sid
(
TTF_Ft
 *
ft
,

149 cڡ *
xt
, 
SDL_C
 
fg
);

150 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdUTF8_Sid
(
TTF_Ft
 *
ft
,

151 cڡ *
xt
, 
SDL_C
 
fg
);

152 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdUNICODE_Sid
(
TTF_Ft
 *
ft
,

153 cڡ 
Ut16
 *
xt
, 
SDL_C
 
fg
);

162 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdGlyph_Sid
(
TTF_Ft
 *
ft
,

163 
Ut16
 
ch
, 
SDL_C
 
fg
);

170 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdText_Shaded
(
TTF_Ft
 *
ft
,

171 cڡ *
xt
, 
SDL_C
 
fg
, SDL_C 
bg
);

172 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdUTF8_Shaded
(
TTF_Ft
 *
ft
,

173 cڡ *
xt
, 
SDL_C
 
fg
, SDL_C 
bg
);

174 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdUNICODE_Shaded
(
TTF_Ft
 *
ft
,

175 cڡ 
Ut16
 *
xt
, 
SDL_C
 
fg
, SDL_C 
bg
);

184 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdGlyph_Shaded
(
TTF_Ft
 *
ft
,

185 
Ut16
 
ch
, 
SDL_C
 
fg
, SDL_C 
bg
);

191 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdText_Bnded
(
TTF_Ft
 *
ft
,

192 cڡ *
xt
, 
SDL_C
 
fg
);

193 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdUTF8_Bnded
(
TTF_Ft
 *
ft
,

194 cڡ *
xt
, 
SDL_C
 
fg
);

195 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdUNICODE_Bnded
(
TTF_Ft
 *
ft
,

196 cڡ 
Ut16
 *
xt
, 
SDL_C
 
fg
);

204 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
TTF_RdGlyph_Bnded
(
TTF_Ft
 *
ft
,

205 
Ut16
 
ch
, 
SDL_C
 
fg
);

208 
	#TTF_RdText
(
ft
, 
xt
, 
fg
, 
bg
) \

209 
	`TTF_RdText_Shaded
(
ft
, 
xt
, 
fg
, 
bg
)

	)

210 
	#TTF_RdUTF8
(
ft
, 
xt
, 
fg
, 
bg
) \

211 
	`TTF_RdUTF8_Shaded
(
ft
, 
xt
, 
fg
, 
bg
)

	)

212 
	#TTF_RdUNICODE
(
ft
, 
xt
, 
fg
, 
bg
) \

213 
	`TTF_RdUNICODE_Shaded
(
ft
, 
xt
, 
fg
, 
bg
)

	)

216 
DECLSPEC
 
SDLCALL
 
TTF_CloFt
(
TTF_Ft
 *
ft
);

219 
DECLSPEC
 
SDLCALL
 
TTF_Qu
();

222 
DECLSPEC
 
SDLCALL
 
TTF_WasIn
();

225 
	#TTF_SE
 
SDL_SE


	)

226 
	#TTF_GE
 
SDL_GE


	)

229 #ifde
__lulus


232 
	~"o_code.h
"

	@/usr/include/SDL/SDL_video.h

25 #ide
_SDL_video_h


26 
	#_SDL_video_h


	)

28 
	~"SDL_dc.h
"

29 
	~"SDL_r.h
"

30 
	~"SDL_rws.h
"

32 
	~"beg_code.h
"

34 #ifde
__lulus


39 
	#SDL_ALPHA_OPAQUE
 255

	)

40 
	#SDL_ALPHA_TRANSPARENT
 0

	)

43 
	sSDL_Re
 {

44 
St16
 
x
, 
y
;

45 
Ut16
 
w
, 
h
;

46 } 
	tSDL_Re
;

48 
	sSDL_C
 {

49 
Ut8
 
r
;

50 
Ut8
 
g
;

51 
Ut8
 
b
;

52 
Ut8
 
unud
;

53 } 
	tSDL_C
;

54 
	#SDL_Cour
 
SDL_C


	)

56 
	sSDL_P
 {

57 
ncs
;

58 
SDL_C
 *
cs
;

59 } 
	tSDL_P
;

62 
	sSDL_PixFm
 {

63 
SDL_P
 *
ˉe
;

64 
Ut8
 
BsPPix
;

65 
Ut8
 
BysPPix
;

66 
Ut8
 
Rloss
;

67 
Ut8
 
Gloss
;

68 
Ut8
 
Bloss
;

69 
Ut8
 
Aloss
;

70 
Ut8
 
Rshi
;

71 
Ut8
 
Gshi
;

72 
Ut8
 
Bshi
;

73 
Ut8
 
Ashi
;

74 
Ut32
 
Rmask
;

75 
Ut32
 
Gmask
;

76 
Ut32
 
Bmask
;

77 
Ut32
 
Amask
;

80 
Ut32
 
ckey
;

82 
Ut8
 
pha
;

83 } 
	tSDL_PixFm
;

88 
	sSDL_Sur
 {

89 
Ut32
 
ags
;

90 
SDL_PixFm
 *
fm
;

91 
w
, 
h
;

92 
Ut16
 
pch
;

93 *
pixs
;

94 
offt
;

97 
ive_hwda
 *
hwda
;

100 
SDL_Re
 
_
;

101 
Ut32
 
unud1
;

104 
Ut32
 
locked
;

107 
SDL_BlM
 *
m
;

110 
fm_vsi
;

113 
fcou
;

114 } 
	tSDL_Sur
;

118 
	#SDL_SWSURFACE
 0x00000000

	)

119 
	#SDL_HWSURFACE
 0x00000001

	)

120 
	#SDL_ASYNCBLIT
 0x00000004

	)

122 
	#SDL_ANYFORMAT
 0x10000000

	)

123 
	#SDL_HWPALETTE
 0x20000000

	)

124 
	#SDL_DOUBLEBUF
 0x40000000

	)

125 
	#SDL_FULLSCREEN
 0x80000000

	)

126 
	#SDL_OPENGL
 0x00000002

	)

127 
	#SDL_OPENGLBLIT
 0x0000000A

	)

128 
	#SDL_RESIZABLE
 0x00000010

	)

129 
	#SDL_NOFRAME
 0x00000020

	)

131 
	#SDL_HWACCEL
 0x00000100

	)

132 
	#SDL_SRCCOLORKEY
 0x00001000

	)

133 
	#SDL_RLEACCELOK
 0x00002000

	)

134 
	#SDL_RLEACCEL
 0x00004000

	)

135 
	#SDL_SRCALPHA
 0x00010000

	)

136 
	#SDL_PREALLOC
 0x01000000

	)

139 
	#SDL_MUSTLOCK
(
sur
) \

140 (
sur
->
offt
 || \

141 ((
sur
->
ags
 & (
SDL_HWSURFACE
|
SDL_ASYNCBLIT
|
SDL_RLEACCEL
)!0))

	)

144 (*
SDL_bl
)(
	tSDL_Sur
 *
	tc
, 
	tSDL_Re
 *
	te
,

145 
	tSDL_Sur
 *
	td
, 
	tSDL_Re
 *
	td
);

149 
	sSDL_VideoInfo
 {

150 
Ut32
 
hw_avaab
 :1;

151 
Ut32
 
wm_avaab
 :1;

152 
Ut32
 
UnudBs1
 :6;

153 
Ut32
 
UnudBs2
 :1;

154 
Ut32
 
bl_hw
 :1;

155 
Ut32
 
bl_hw_CC
 :1;

156 
Ut32
 
bl_hw_A
 :1;

157 
Ut32
 
bl_sw
 :1;

158 
Ut32
 
bl_sw_CC
 :1;

159 
Ut32
 
bl_sw_A
 :1;

160 
Ut32
 
bl_fl
 :1;

161 
Ut32
 
UnudBs3
 :16;

162 
Ut32
 
video_mem
;

163 
SDL_PixFm
 *
vfmt
;

164 
cut_w
;

165 
cut_h
;

166 } 
	tSDL_VideoInfo
;

176 
	#SDL_YV12_OVERLAY
 0x32315659

	)

177 
	#SDL_IYUV_OVERLAY
 0x56555949

	)

178 
	#SDL_YUY2_OVERLAY
 0x32595559

	)

179 
	#SDL_UYVY_OVERLAY
 0x59565955

	)

180 
	#SDL_YVYU_OVERLAY
 0x55595659

	)

183 
	sSDL_Ovy
 {

184 
Ut32
 
fm
;

185 
w
, 
h
;

186 
es
;

187 
Ut16
 *
pches
;

188 
Ut8
 **
pixs
;

191 
ive_yuvhwfuncs
 *
hwfuncs
;

192 
ive_yuvhwda
 *
hwda
;

195 
Ut32
 
hw_ovy
 :1;

196 
Ut32
 
UnudBs
 :31;

197 } 
	tSDL_Ovy
;

202 
SDL_GL_RED_SIZE
,

203 
SDL_GL_GREEN_SIZE
,

204 
SDL_GL_BLUE_SIZE
,

205 
SDL_GL_ALPHA_SIZE
,

206 
SDL_GL_BUFFER_SIZE
,

207 
SDL_GL_DOUBLEBUFFER
,

208 
SDL_GL_DEPTH_SIZE
,

209 
SDL_GL_STENCIL_SIZE
,

210 
SDL_GL_ACCUM_RED_SIZE
,

211 
SDL_GL_ACCUM_GREEN_SIZE
,

212 
SDL_GL_ACCUM_BLUE_SIZE
,

213 
SDL_GL_ACCUM_ALPHA_SIZE
,

214 
SDL_GL_STEREO
,

215 
SDL_GL_MULTISAMPLEBUFFERS
,

216 
SDL_GL_MULTISAMPLESAMPLES
,

217 
SDL_GL_ACCELERATED_VISUAL
,

218 
SDL_GL_SWAP_CONTROL


219 } 
	tSDL_GL
;

222 
	#SDL_LOGPAL
 0x01

	)

223 
	#SDL_PHYSPAL
 0x02

	)

240 
DECLSPEC
 
SDLCALL
 
SDL_VideoIn
(cڡ *
driv_me
, 
Ut32
 
ags
);

241 
DECLSPEC
 
SDLCALL
 
SDL_VideoQu
();

247 
DECLSPEC
 * 
SDLCALL
 
SDL_VideoDrivName
(*
mebuf
, 
maxn
);

255 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
SDL_GVideoSur
();

263 
DECLSPEC
 cڡ 
SDL_VideoInfo
 * 
SDLCALL
 
SDL_GVideoInfo
();

276 
DECLSPEC
 
SDLCALL
 
SDL_VideoModeOK
(
width
, 
height
, 
b
, 
Ut32
 
ags
);

287 
DECLSPEC
 
SDL_Re
 ** 
SDLCALL
 
SDL_LiModes
(
SDL_PixFm
 *
fm
, 
Ut32
 
ags
);

347 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
SDL_SVideoMode


348 (
width
, 
height
, 
b
, 
Ut32
 
ags
);

356 
DECLSPEC
 
SDLCALL
 
SDL_UpdeRes


357 (
SDL_Sur
 *
sn
, 
nums
, 
SDL_Re
 *
s
);

358 
DECLSPEC
 
SDLCALL
 
SDL_UpdeRe


359 (
SDL_Sur
 *
sn
, 
St32
 
x
, St32 
y
, 
Ut32
 
w
, Ut32 
h
);

371 
DECLSPEC
 
SDLCALL
 
SDL_Fl
(
SDL_Sur
 *
sn
);

381 
DECLSPEC
 
SDLCALL
 
SDL_SGamma
(
d
, 
g
, 
blue
);

395 
DECLSPEC
 
SDLCALL
 
SDL_SGammaRamp
(cڡ 
Ut16
 *
d
, cڡ Ut16 *
g
, cڡ Ut16 *
blue
);

406 
DECLSPEC
 
SDLCALL
 
SDL_GGammaRamp
(
Ut16
 *
d
, Ut16 *
g
, Ut16 *
blue
);

423 
DECLSPEC
 
SDLCALL
 
SDL_SCs
(
SDL_Sur
 *
sur
,

424 
SDL_C
 *
cs
, 
fc
, 
ncs
);

442 
DECLSPEC
 
SDLCALL
 
SDL_SP
(
SDL_Sur
 *
sur
, 
ags
,

443 
SDL_C
 *
cs
, 
fc
,

444 
ncs
);

449 
DECLSPEC
 
Ut32
 
SDLCALL
 
SDL_MRGB


450 (
SDL_PixFm
 *
fm
, 
Ut8
 
r
, Ut8 
g
, Ut8 
b
);

455 
DECLSPEC
 
Ut32
 
SDLCALL
 
SDL_MRGBA
(
SDL_PixFm
 *
fm
,

456 
Ut8
 
r
, Ut8 
g
, Ut8 
b
, Ut8 
a
);

461 
DECLSPEC
 
SDLCALL
 
SDL_GRGB
(
Ut32
 
pix
, 
SDL_PixFm
 *
fmt
,

462 
Ut8
 *
r
, Ut8 *
g
, Ut8 *
b
);

467 
DECLSPEC
 
SDLCALL
 
SDL_GRGBA
(
Ut32
 
pix
, 
SDL_PixFm
 *
fmt
,

468 
Ut8
 *
r
, Ut8 *
g
, Ut8 *
b
, Ut8 *
a
);

504 
	#SDL_AocSur
 
SDL_CeRGBSur


	)

505 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
SDL_CeRGBSur


506 (
Ut32
 
ags
, 
width
, 
height
, 
dth
,

507 
Ut32
 
Rmask
, Ut32 
Gmask
, Ut32 
Bmask
, Ut32 
Amask
);

508 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
SDL_CeRGBSurFrom
(*
pixs
,

509 
width
, 
height
, 
dth
, 
pch
,

510 
Ut32
 
Rmask
, Ut32 
Gmask
, Ut32 
Bmask
, Ut32 
Amask
);

511 
DECLSPEC
 
SDLCALL
 
SDL_FeSur
(
SDL_Sur
 *
sur
);

531 
DECLSPEC
 
SDLCALL
 
SDL_LockSur
(
SDL_Sur
 *
sur
);

532 
DECLSPEC
 
SDLCALL
 
SDL_UockSur
(
SDL_Sur
 *
sur
);

540 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
SDL_LdBMP_RW
(
SDL_RWs
 *
c
, 
䓤c
);

543 
	#SDL_LdBMP
(
fe

	`SDL_LdBMP_RW
(
	`SDL_RWFromFe
(fe, "rb"), 1)

	)

550 
DECLSPEC
 
SDLCALL
 
SDL_SaveBMP_RW


551 (
SDL_Sur
 *
sur
, 
SDL_RWs
 *
d
, 
d
);

554 
	#SDL_SaveBMP
(
sur
, 
fe
) \

555 
	`SDL_SaveBMP_RW
(
sur
, 
	`SDL_RWFromFe
(
fe
, "wb"), 1)

	)

566 
DECLSPEC
 
SDLCALL
 
SDL_SCKey


567 (
SDL_Sur
 *
sur
, 
Ut32
 
ag
, Ut32 
key
);

584 
DECLSPEC
 
SDLCALL
 
SDL_SAha
(
SDL_Sur
 *
sur
, 
Ut32
 
ag
, 
Ut8
 
pha
);

598 
DECLSPEC
 
SDL_bo
 
SDLCALL
 
SDL_SClRe
(
SDL_Sur
 *
sur
, cڡ 
SDL_Re
 *

);

605 
DECLSPEC
 
SDLCALL
 
SDL_GClRe
(
SDL_Sur
 *
sur
, 
SDL_Re
 *

);

619 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
SDL_CvtSur


620 (
SDL_Sur
 *
c
, 
SDL_PixFm
 *
fmt
, 
Ut32
 
ags
);

691 
	#SDL_BlSur
 
SDL_UBl


	)

696 
DECLSPEC
 
SDLCALL
 
SDL_UBl


697 (
SDL_Sur
 *
c
, 
SDL_Re
 *
e
,

698 
SDL_Sur
 *
d
, 
SDL_Re
 *
d
);

702 
DECLSPEC
 
SDLCALL
 
SDL_LowBl


703 (
SDL_Sur
 *
c
, 
SDL_Re
 *
e
,

704 
SDL_Sur
 *
d
, 
SDL_Re
 *
d
);

715 
DECLSPEC
 
SDLCALL
 
SDL_FlRe


716 (
SDL_Sur
 *
d
, 
SDL_Re
 *
d
, 
Ut32
 
c
);

729 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
SDL_DiyFm
(SDL_Sur *
sur
);

743 
DECLSPEC
 
SDL_Sur
 * 
SDLCALL
 
SDL_DiyFmAha
(SDL_Sur *
sur
);

755 
DECLSPEC
 
SDL_Ovy
 * 
SDLCALL
 
SDL_CeYUVOvy
(
width
, 
height
,

756 
Ut32
 
fm
, 
SDL_Sur
 *
diy
);

759 
DECLSPEC
 
SDLCALL
 
SDL_LockYUVOvy
(
SDL_Ovy
 *
ovy
);

760 
DECLSPEC
 
SDLCALL
 
SDL_UockYUVOvy
(
SDL_Ovy
 *
ovy
);

768 
DECLSPEC
 
SDLCALL
 
SDL_DiyYUVOvy
(
SDL_Ovy
 *
ovy
, 
SDL_Re
 *
d
);

771 
DECLSPEC
 
SDLCALL
 
SDL_FeYUVOvy
(
SDL_Ovy
 *
ovy
);

784 
DECLSPEC
 
SDLCALL
 
SDL_GL_LdLibry
(cڡ *
th
);

789 
DECLSPEC
 * 
SDLCALL
 
SDL_GL_GProcAddss
(cڡ * 
oc
);

794 
DECLSPEC
 
SDLCALL
 
SDL_GL_SAribu
(
SDL_GL
 

, 
vue
);

805 
DECLSPEC
 
SDLCALL
 
SDL_GL_GAribu
(
SDL_GL
 

, * 
vue
);

810 
DECLSPEC
 
SDLCALL
 
SDL_GL_SwBufrs
();

816 
DECLSPEC
 
SDLCALL
 
SDL_GL_UpdeRes
(
nums
, 
SDL_Re
* 
s
);

817 
DECLSPEC
 
SDLCALL
 
SDL_GL_Lock
();

818 
DECLSPEC
 
SDLCALL
 
SDL_GL_Uock
();

827 
DECLSPEC
 
SDLCALL
 
SDL_WM_SCti
(cڡ *
t
, cڡ *
ic
);

828 
DECLSPEC
 
SDLCALL
 
SDL_WM_GCti
(**
t
, **
ic
);

836 
DECLSPEC
 
SDLCALL
 
SDL_WM_SIc
(
SDL_Sur
 *
ic
, 
Ut8
 *
mask
);

843 
DECLSPEC
 
SDLCALL
 
SDL_WM_IcifyWdow
();

860 
DECLSPEC
 
SDLCALL
 
SDL_WM_ToggFuSn
(
SDL_Sur
 *
sur
);

867 
	gSDL_GRAB_QUERY
 = -1,

868 
	gSDL_GRAB_OFF
 = 0,

869 
	gSDL_GRAB_ON
 = 1,

870 
	gSDL_GRAB_FULLSCREEN


871 } 
	tSDL_GbMode
;

877 
DECLSPEC
 
SDL_GbMode
 
SDLCALL
 
SDL_WM_GbIut
(SDL_GbMod
mode
);

880 
DECLSPEC
 
SDLCALL
 
SDL_SoSch
(
SDL_Sur
 *
c
, 
SDL_Re
 *
e
,

881 
SDL_Sur
 *
d
, 
SDL_Re
 *
d
);

884 #ifde
__lulus


887 
	~"o_code.h
"

	@/usr/include/iconv.h

19 #ide
_ICONV_H


20 
	#_ICONV_H
 1

	)

22 
	~<us.h
>

23 
	#__ed_size_t


	)

24 
	~<ddef.h
>

27 
__BEGIN_DECLS


30 *
	ticv_t
;

38 
icv_t
 
icv_ݒ
 (
__cڡ
 *
__tocode
, __cڡ *
__omcode
);

43 
size_t
 
icv
 (
icv_t
 
__cd
, **
__ri
 
__buf
,

44 
size_t
 *
__ri
 
__bye
,

45 **
__ri
 
__outbuf
,

46 
size_t
 *
__ri
 
__outbye
);

52 
icv_o
 (
icv_t
 
__cd
);

54 
	g__END_DECLS


	@/usr/include/limits.h

23 #ide
_LIBC_LIMITS_H_


24 
	#_LIBC_LIMITS_H_
 1

	)

26 
	~<us.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #i!
defed
 
__GNUC__
 || __GNUC__ < 2

42 #ide
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<bs/wdsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifde
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #i
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #i
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifde
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #i
defed
 
__GNUC__
 && !defed 
_GCC_LIMITS_H_


124 #ude_x<
lims
.
h
>

129 #ifde
__USE_ISOC99


130 #ide
LLONG_MIN


131 
	#LLONG_MIN
 
LONG_LONG_MIN


	)

133 #ide
LLONG_MAX


134 
	#LLONG_MAX
 
LONG_LONG_MAX


	)

136 #ide
ULLONG_MAX


137 
	#ULLONG_MAX
 
ULONG_LONG_MAX


	)

142 #ifdef 
__USE_POSIX


144 
	~<bs/posix1_lim.h
>

147 #ifdef 
__USE_POSIX2


148 
	~<bs/posix2_lim.h
>

151 #ifdef 
__USE_XOPEN


152 
	~<bs/xݒ_lim.h
>

	@/usr/include/time.h

23 #idef 
_TIME_H


25 #i(! 
defed
 
__ed_time_t
 && !defed 
__ed_ock_t
 && \

26 ! 
defed
 
	g__ed_timeec
)

27 
	#_TIME_H
 1

	)

28 
	~<us.h
>

30 
	g__BEGIN_DECLS


34 #ifdef 
_TIME_H


36 
	#__ed_size_t


	)

37 
	#__ed_NULL


	)

38 
	~<ddef.h
>

42 
	~<bs/time.h
>

45 #i!
defed
 
__STRICT_ANSI__
 && !defed 
__USE_XOPEN2K


46 #ide
CLK_TCK


47 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

53 #i!
defed
 
__ock_t_defed
 && (defed 
_TIME_H
 || defed 
__ed_ock_t
)

54 
	#__ock_t_defed
 1

	)

56 
	~<bs/tys.h
>

58 
__BEGIN_NAMESPACE_STD


60 
__ock_t
 
	tock_t
;

61 
	g__END_NAMESPACE_STD


62 #i
defed
 
__USE_XOPEN
 || defed 
__USE_POSIX
 || defed 
__USE_MISC


63 
	$__USING_NAMESPACE_STD
(
ock_t
)

67 #unde
__ed_ock_t


69 #i!
defed
 
__time_t_defed
 && (defed 
_TIME_H
 || defed 
__ed_time_t
)

70 
	#__time_t_defed
 1

	)

72 
	~<bs/tys.h
>

74 
__BEGIN_NAMESPACE_STD


76 
__time_t
 
	ttime_t
;

77 
__END_NAMESPACE_STD


78 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC
 || defed 
__USE_SVID


79 
	$__USING_NAMESPACE_STD
(
time_t
)

83 #unde
__ed_time_t


85 #i!
defed
 
__ockid_t_defed
 && \

86 ((
defed
 
_TIME_H
 && defed 
__USE_POSIX199309
|| defed 
__ed_ockid_t
)

87 
	#__ockid_t_defed
 1

	)

89 
	~<bs/tys.h
>

92 
__ockid_t
 
	tockid_t
;

95 #unde
__ockid_time_t


97 #i!
defed
 
__tim_t_defed
 && \

98 ((
defed
 
_TIME_H
 && defed 
__USE_POSIX199309
|| defed 
__ed_tim_t
)

99 
	#__tim_t_defed
 1

	)

101 
	~<bs/tys.h
>

104 
__tim_t
 
	ttim_t
;

107 #unde
__ed_tim_t


110 #i!
defed
 
__timeec_defed
 && \

111 ((
defed
 
_TIME_H
 && \

112 (
defed
 
__USE_POSIX199309
 || defed 
__USE_MISC
)) || \

113 
defed
 
__ed_timeec
)

114 
	#__timeec_defed
 1

	)

118 
	stimeec


120 
__time_t
 
tv_c
;

121 
tv_nc
;

125 #unde
__ed_timeec


128 #ifdef 
_TIME_H


129 
__BEGIN_NAMESPACE_STD


131 
	stm


133 
tm_c
;

134 
tm_m
;

135 
tm_hour
;

136 
tm_mday
;

137 
tm_m
;

138 
tm_yr
;

139 
tm_wday
;

140 
tm_yday
;

141 
tm_isd
;

143 #ifdef 
__USE_BSD


144 
tm_gmtoff
;

145 
__cڡ
 *
tm_ze
;

147 
__tm_gmtoff
;

148 
__cڡ
 *
__tm_ze
;

151 
__END_NAMESPACE_STD


152 #i
defed
 
__USE_XOPEN
 || defed 
__USE_POSIX
 || defed 
__USE_MISC


153 
	$__USING_NAMESPACE_STD
(
tm
)

157 #ifde
__USE_POSIX199309


159 
	simec


161 
timeec
 
_rv
;

162 
timeec
 
_vue
;

166 
sigevt
;

170 #ifde
__USE_XOPEN2K


171 #ide
__pid_t_defed


172 
__pid_t
 
	tpid_t
;

173 
	#__pid_t_defed


	)

178 
__BEGIN_NAMESPACE_STD


181 
ock_t
 
	$ock
 (
__THROW
;

184 
time_t
 
	$time
 (
time_t
 *
__tim

__THROW
;

187 
	$difime
 (
time_t
 
__time1
,ime_
__time0
)

188 
__THROW
 
	`__ibu__
 ((
__cڡ__
));

191 
time_t
 
	$mktime
 (
tm
 *
__

__THROW
;

197 
size_t
 
	$rime
 (*
__ri
 
__s
, 
size_t
 
__maxsize
,

198 
__cڡ
 *
__ri
 
__fm
,

199 
__cڡ
 
tm
 *
__ri
 
__

__THROW
;

200 
__END_NAMESPACE_STD


202 #ifde
__USE_XOPEN


205 *
	$time
 (
__cڡ
 *
__ri
 
__s
,

206 
__cڡ
 *
__ri
 
__fmt
, 
tm
 *
__
)

207 
__THROW
;

210 #ifde
__USE_GNU


213 
	~<xlo.h
>

215 
size_t
 
	$rime_l
 (*
__ri
 
__s
, 
size_t
 
__maxsize
,

216 
__cڡ
 *
__ri
 
__fm
,

217 
__cڡ
 
tm
 *
__ri
 
__
,

218 
__lo_t
 
__loc

__THROW
;

220 *
	$time_l
 (
__cڡ
 *
__ri
 
__s
,

221 
__cڡ
 *
__ri
 
__fmt
, 
tm
 *
__
,

222 
__lo_t
 
__loc

__THROW
;

226 
__BEGIN_NAMESPACE_STD


229 
tm
 *
	$gmtime
 (
__cڡ
 
time_t
 *
__tim

__THROW
;

233 
tm
 *
	$loime
 (
__cڡ
 
time_t
 *
__tim

__THROW
;

234 
__END_NAMESPACE_STD


236 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


239 
tm
 *
	$gmtime_r
 (
__cڡ
 
time_t
 *
__ri
 
__tim
,

240 
tm
 *
__ri
 
__

__THROW
;

244 
tm
 *
	$loime_r
 (
__cڡ
 
time_t
 *
__ri
 
__tim
,

245 
tm
 *
__ri
 
__

__THROW
;

248 
__BEGIN_NAMESPACE_STD


251 *
	$asime
 (
__cڡ
 
tm
 *
__

__THROW
;

254 *
	$ime
 (
__cڡ
 
time_t
 *
__tim

__THROW
;

255 
__END_NAMESPACE_STD


257 #i
defed
 
__USE_POSIX
 || defed 
__USE_MISC


262 *
	$asime_r
 (
__cڡ
 
tm
 *
__ri
 
__
,

263 *
__ri
 
__buf

__THROW
;

266 *
	$ime_r
 (
__cڡ
 
time_t
 *
__ri
 
__tim
,

267 *
__ri
 
__buf

__THROW
;

272 *
__tzme
[2];

273 
__daylight
;

274 
__timeze
;

277 #ifdef 
__USE_POSIX


279 *
tzme
[2];

283 
	$tzt
 (
__THROW
;

286 #i
defed
 
__USE_SVID
 || defed 
__USE_XOPEN


287 
daylight
;

288 
timeze
;

291 #ifde
__USE_SVID


294 
	$ime
 (
__cڡ
 
time_t
 *
__wh

__THROW
;

300 
	#__ip
(
yr
) \

301 ((
yr
% 4 =0 && ((yr% 100 !0 || (yr% 400 =0))

	)

304 #ifde
__USE_MISC


309 
time_t
 
	$timegm
 (
tm
 *
__

__THROW
;

312 
time_t
 
	$timol
 (
tm
 *
__

__THROW
;

315 
	$dysize
 (
__yr

__THROW
 
	`__ibu__
 ((
__cڡ__
));

319 #ifde
__USE_POSIX199309


324 
	`nop
 (
__cڡ
 
timeec
 *
__queed_time
,

325 
timeec
 *
__mag
);

329 
	$ock_gs
 (
ockid_t
 
__ock_id
, 
timeec
 *
__s

__THROW
;

332 
	$ock_gtime
 (
ockid_t
 
__ock_id
, 
timeec
 *
__

__THROW
;

335 
	$ock_ime
 (
ockid_t
 
__ock_id
, 
__cڡ
 
timeec
 *
__
)

336 
__THROW
;

338 #ifde
__USE_XOPEN2K


343 
	`ock_nop
 (
ockid_t
 
__ock_id
, 
__ags
,

344 
__cڡ
 
timeec
 *
__q
,

345 
timeec
 *
__m
);

348 
	$ock_guockid
 (
pid_t
 
__pid
, 
ockid_t
 *
__ock_id

__THROW
;

353 
	$tim_
 (
ockid_t
 
__ock_id
,

354 
sigevt
 *
__ri
 
__evp
,

355 
tim_t
 *
__ri
 
__timid

__THROW
;

358 
	$tim_de
 (
tim_t
 
__timid

__THROW
;

361 
	$tim_ime
 (
tim_t
 
__timid
, 
__ags
,

362 
__cڡ
 
imec
 *
__ri
 
__vue
,

363 
imec
 *
__ri
 
__ovue

__THROW
;

366 
	$tim_gtime
 (
tim_t
 
__timid
, 
imec
 *
__vue
)

367 
__THROW
;

370 
	$tim_govrun
 (
tim_t
 
__timid

__THROW
;

374 #ifde
__USE_XOPEN_EXTENDED


386 
gde_r
;

395 
tm
 *
	`gde
 (
__cڡ
 *
__rg
);

398 #ifde
__USE_GNU


409 
	`gde_r
 (
__cڡ
 *
__ri
 
__rg
,

410 
tm
 *
__ri
 
__sbu
);

413 
__END_DECLS


	@/usr/include/bits/posix1_lim.h

25 #idef 
_BITS_POSIX1_LIM_H


26 
	#_BITS_POSIX1_LIM_H
 1

	)

32 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

35 
	#_POSIX_AIO_MAX
 1

	)

38 
	#_POSIX_ARG_MAX
 4096

	)

41 #ifde
__USE_XOPEN2K


42 
	#_POSIX_CHILD_MAX
 25

	)

44 
	#_POSIX_CHILD_MAX
 6

	)

48 
	#_POSIX_DELAYTIMER_MAX
 32

	)

52 
	#_POSIX_HOST_NAME_MAX
 255

	)

55 
	#_POSIX_LINK_MAX
 8

	)

58 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

61 
	#_POSIX_MAX_CANON
 255

	)

65 
	#_POSIX_MAX_INPUT
 255

	)

68 
	#_POSIX_MQ_OPEN_MAX
 8

	)

71 
	#_POSIX_MQ_PRIO_MAX
 32

	)

74 
	#_POSIX_NAME_MAX
 14

	)

77 #ifde
__USE_XOPEN2K


78 
	#_POSIX_NGROUPS_MAX
 8

	)

80 
	#_POSIX_NGROUPS_MAX
 0

	)

84 #ifde
__USE_XOPEN2K


85 
	#_POSIX_OPEN_MAX
 20

	)

87 
	#_POSIX_OPEN_MAX
 16

	)

92 
	#_POSIX_FD_SETSIZE
 
_POSIX_OPEN_MAX


	)

95 
	#_POSIX_PATH_MAX
 256

	)

98 
	#_POSIX_PIPE_BUF
 512

	)

102 
	#_POSIX_RE_DUP_MAX
 255

	)

105 
	#_POSIX_RTSIG_MAX
 8

	)

108 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

111 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

114 
	#_POSIX_SIGQUEUE_MAX
 32

	)

117 
	#_POSIX_SSIZE_MAX
 32767

	)

120 
	#_POSIX_STREAM_MAX
 8

	)

123 
	#_POSIX_SYMLINK_MAX
 255

	)

127 
	#_POSIX_SYMLOOP_MAX
 8

	)

130 
	#_POSIX_TIMER_MAX
 32

	)

133 
	#_POSIX_TTY_NAME_MAX
 9

	)

136 
	#_POSIX_TZNAME_MAX
 6

	)

139 
	#_POSIX_QLIMIT
 1

	)

143 
	#_POSIX_HIWAT
 
_POSIX_PIPE_BUF


	)

146 
	#_POSIX_UIO_MAXIOV
 16

	)

149 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

153 
	~<bs/lol_lim.h
>

156 #idef 
SSIZE_MAX


157 
	#SSIZE_MAX
 
LONG_MAX


	)

164 #idef 
NGROUPS_MAX


165 
	#NGROUPS_MAX
 8

	)

	@/usr/include/bits/posix2_lim.h

23 #idef 
_BITS_POSIX2_LIM_H


24 
	#_BITS_POSIX2_LIM_H
 1

	)

28 
	#_POSIX2_BC_BASE_MAX
 99

	)

31 
	#_POSIX2_BC_DIM_MAX
 2048

	)

34 
	#_POSIX2_BC_SCALE_MAX
 99

	)

37 
	#_POSIX2_BC_STRING_MAX
 1000

	)

41 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

45 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

48 
	#_POSIX2_LINE_MAX
 2048

	)

52 
	#_POSIX2_RE_DUP_MAX
 255

	)

56 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

63 #idef 
BC_BASE_MAX


64 
	#BC_BASE_MAX
 
_POSIX2_BC_BASE_MAX


	)

66 #idef 
BC_DIM_MAX


67 
	#BC_DIM_MAX
 
_POSIX2_BC_DIM_MAX


	)

69 #idef 
BC_SCALE_MAX


70 
	#BC_SCALE_MAX
 
_POSIX2_BC_SCALE_MAX


	)

72 #idef 
BC_STRING_MAX


73 
	#BC_STRING_MAX
 
_POSIX2_BC_STRING_MAX


	)

75 #idef 
COLL_WEIGHTS_MAX


76 
	#COLL_WEIGHTS_MAX
 255

	)

78 #idef 
EXPR_NEST_MAX


79 
	#EXPR_NEST_MAX
 
_POSIX2_EXPR_NEST_MAX


	)

81 #idef 
LINE_MAX


82 
	#LINE_MAX
 
_POSIX2_LINE_MAX


	)

84 #idef 
CHARCLASS_NAME_MAX


85 
	#CHARCLASS_NAME_MAX
 2048

	)

89 
	#RE_DUP_MAX
 (0x7fff)

	)

	@/usr/include/bits/time.h

24 #ide
__ed_timev


25 #ide
_BITS_TIME_H


26 
	#_BITS_TIME_H
 1

	)

34 
	#CLOCKS_PER_SEC
 1000000l

	)

36 #i!
defed
 
__STRICT_ANSI__
 && !defed 
__USE_XOPEN2K


39 
	~<bs/tys.h
>

40 
__syscf
 ();

41 
	#CLK_TCK
 ((
__ock_t

	`__syscf
 (2)

	)

44 #ifde
__USE_POSIX199309


46 
	#CLOCK_REALTIME
 0

	)

48 
	#CLOCK_MONOTONIC
 1

	)

50 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

52 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

55 
	#TIMER_ABSTIME
 1

	)

61 #ifde
__ed_timev


62 #unde
__ed_timev


63 #ide
_STRUCT_TIMEVAL


64 
	#_STRUCT_TIMEVAL
 1

	)

65 
	~<bs/tys.h
>

69 
	stimev


71 
__time_t
 
	mtv_c
;

72 
__sucds_t
 
	mtv_uc
;

	@/usr/include/bits/types.h

24 #idef 
_BITS_TYPES_H


25 
	#_BITS_TYPES_H
 1

	)

27 
	~<us.h
>

28 
	~<bs/wdsize.h
>

30 
	#__ed_size_t


	)

31 
	~<ddef.h
>

34 
	t__u_ch
;

35 
	t__u_sht
;

36 
	t__u_t
;

37 
	t__u_lg
;

40 sigd 
	t__t8_t
;

41 
	t__ut8_t
;

42 sigd 
	t__t16_t
;

43 
	t__ut16_t
;

44 sigd 
	t__t32_t
;

45 
	t__ut32_t
;

46 #i
__WORDSIZE
 == 64

47 sigd 
	t__t64_t
;

48 
	t__ut64_t
;

49 #i
defed
 
__GLIBC_HAVE_LONG_LONG


50 
__exnsi__
 sigd 
	t__t64_t
;

51 
__exnsi__
 
	t__ut64_t
;

55 #i
__WORDSIZE
 == 64

56 
	t__quad_t
;

57 
	t__u_quad_t
;

58 #i
defed
 
__GLIBC_HAVE_LONG_LONG


59 
__exnsi__
 
	t__quad_t
;

60 
__exnsi__
 
	t__u_quad_t
;

64 
	m__v
[2];

65 } 
	t__quad_t
;

68 
__u_lg
 
	m__v
[2];

69 } 
	t__u_quad_t
;

102 
	#__S16_TYPE
 

	)

103 
	#__U16_TYPE
 

	)

104 
	#__S32_TYPE
 

	)

105 
	#__U32_TYPE
 

	)

106 
	#__SLONGWORD_TYPE
 

	)

107 
	#__ULONGWORD_TYPE
 

	)

108 #i
__WORDSIZE
 == 32

109 
	#__SQUAD_TYPE
 
__quad_t


	)

110 
	#__UQUAD_TYPE
 
__u_quad_t


	)

111 
	#__SWORD_TYPE
 

	)

112 
	#__UWORD_TYPE
 

	)

113 
	#__SLONG32_TYPE
 

	)

114 
	#__ULONG32_TYPE
 

	)

115 
	#__S64_TYPE
 
__quad_t


	)

116 
	#__U64_TYPE
 
__u_quad_t


	)

117 #i
__WORDSIZE
 == 64

118 
	#__SQUAD_TYPE
 

	)

119 
	#__UQUAD_TYPE
 

	)

120 
	#__SWORD_TYPE
 

	)

121 
	#__UWORD_TYPE
 

	)

122 
	#__SLONG32_TYPE
 

	)

123 
	#__ULONG32_TYPE
 

	)

124 
	#__S64_TYPE
 

	)

125 
	#__U64_TYPE
 

	)

129 
	~<bs/tysizes.h
>

133 
	#__STD_TYPE
 
__exnsi__
 

	)

136 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

137 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

138 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

139 
__STD_TYPE
 
__INO_T_TYPE
 
	g__o_t
;

140 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__o64_t
;

141 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

142 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__ƚk_t
;

143 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

144 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

145 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

146 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

147 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__ock_t
;

148 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__im_t
;

149 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__im64_t
;

150 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

151 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

152 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__ucds_t
;

153 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__sucds_t
;

155 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

156 
__STD_TYPE
 
__SWBLK_T_TYPE
 
	g__swblk_t
;

157 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

160 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__ockid_t
;

163 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim_t
;

166 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

171 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkt_t
;

172 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkt64_t
;

175 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkt_t
;

176 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkt64_t
;

179 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsft_t
;

180 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsft64_t
;

182 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

186 
__off64_t
 
	t__loff_t
;

187 
__quad_t
 *
	t__qaddr_t
;

188 *
	t__ddr_t
;

191 
__STD_TYPE
 
__SWORD_TYPE
 
	g___t
;

194 
__STD_TYPE
 
__U32_TYPE
 
	g__sockn_t
;

197 #unde
__STD_TYPE


	@/usr/include/bits/wordsize.h

19 
	#__WORDSIZE
 32

	)

	@/usr/include/bits/xopen_lim.h

30 #ide
_XOPEN_LIM_H


31 
	#_XOPEN_LIM_H
 1

	)

33 
	#__ed_IOV_MAX


	)

34 
	~<bs/dio_lim.h
>

66 
	#_XOPEN_IOV_MAX
 
_POSIX_UIO_MAXIOV


	)

71 
	#NL_ARGMAX
 
_POSIX_ARG_MAX


	)

74 
	#NL_LANGMAX
 
_POSIX2_LINE_MAX


	)

77 
	#NL_MSGMAX
 
INT_MAX


	)

81 
	#NL_NMAX
 
INT_MAX


	)

84 
	#NL_SETMAX
 
INT_MAX


	)

87 
	#NL_TEXTMAX
 
INT_MAX


	)

90 
	#NZERO
 20

	)

94 #ifde
INT_MAX


95 #i
INT_MAX
 == 32767

96 
	#WORD_BIT
 16

	)

98 #i
INT_MAX
 == 2147483647

99 
	#WORD_BIT
 32

	)

102 
	#WORD_BIT
 64

	)

105 #i
defed
 
__INT_MAX__


106 #i
__INT_MAX__
 == 32767

107 
	#WORD_BIT
 16

	)

109 #i
__INT_MAX__
 == 2147483647

110 
	#WORD_BIT
 32

	)

113 
	#WORD_BIT
 64

	)

117 
	#WORD_BIT
 32

	)

121 #ifde
LONG_MAX


122 #i
LONG_MAX
 == 2147483647

123 
	#LONG_BIT
 32

	)

126 
	#LONG_BIT
 64

	)

128 #i
defed
 
__LONG_MAX__


129 #i
__LONG_MAX__
 == 2147483647

130 
	#LONG_BIT
 32

	)

133 
	#LONG_BIT
 64

	)

136 
	~<bs/wdsize.h
>

137 #i
__WORDSIZE
 == 64

138 
	#LONG_BIT
 64

	)

140 
	#LONG_BIT
 32

	)

	@/usr/include/features.h

19 #idef 
_FEATURES_H


20 
	#_FEATURES_H
 1

	)

90 #unde
__USE_ISOC99


91 #unde
__USE_POSIX


92 #unde
__USE_POSIX2


93 #unde
__USE_POSIX199309


94 #unde
__USE_POSIX199506


95 #unde
__USE_XOPEN


96 #unde
__USE_XOPEN_EXTENDED


97 #unde
__USE_UNIX98


98 #unde
__USE_XOPEN2K


99 #unde
__USE_LARGEFILE


100 #unde
__USE_LARGEFILE64


101 #unde
__USE_FILE_OFFSET64


102 #unde
__USE_BSD


103 #unde
__USE_SVID


104 #unde
__USE_MISC


105 #unde
__USE_GNU


106 #unde
__USE_REENTRANT


107 #unde
__USE_FORTIFY_LEVEL


108 #unde
__FAVOR_BSD


109 #unde
__KERNEL_STRICT_NAMES


113 #ide
_LOOSE_KERNEL_NAMES


114 
	#__KERNEL_STRICT_NAMES


	)

118 
	#__USE_ANSI
 1

	)

127 #i
defed
 
__GNUC__
 && defed 
__GNUC_MINOR__


128 
	#__GNUC_PREREQ
(
maj
, 
m
) \

129 ((
__GNUC__
 << 16+ 
__GNUC_MINOR__
 >((
maj
<< 16+ (
m
))

	)

131 
	#__GNUC_PREREQ
(
maj
, 
m
0

	)

136 #i
defed
 
_BSD_SOURCE
 && \

137 !(
defed
 
	g_POSIX_SOURCE
 || defed 
	g_POSIX_C_SOURCE
 || \

138 
defed
 
	g_XOPEN_SOURCE
 || defed 
	g_XOPEN_SOURCE_EXTENDED
 || \

139 
defed
 
	g_GNU_SOURCE
 || defed 
	g_SVID_SOURCE
)

140 
	#__FAVOR_BSD
 1

	)

144 #ifde
_GNU_SOURCE


145 #unde
_ISOC99_SOURCE


146 
	#_ISOC99_SOURCE
 1

	)

147 #unde
_POSIX_SOURCE


148 
	#_POSIX_SOURCE
 1

	)

149 #unde
_POSIX_C_SOURCE


150 
	#_POSIX_C_SOURCE
 199506L

	)

151 #unde
_XOPEN_SOURCE


152 
	#_XOPEN_SOURCE
 600

	)

153 #unde
_XOPEN_SOURCE_EXTENDED


154 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

155 #unde
_LARGEFILE64_SOURCE


156 
	#_LARGEFILE64_SOURCE
 1

	)

157 #unde
_BSD_SOURCE


158 
	#_BSD_SOURCE
 1

	)

159 #unde
_SVID_SOURCE


160 
	#_SVID_SOURCE
 1

	)

165 #i(!
defed
 
__STRICT_ANSI__
 && !defed 
_ISOC99_SOURCE
 && \

166 !
defed
 
	g_POSIX_SOURCE
 && !defed 
	g_POSIX_C_SOURCE
 && \

167 !
defed
 
	g_XOPEN_SOURCE
 && !defed 
	g_XOPEN_SOURCE_EXTENDED
 && \

168 !
defed
 
	g_BSD_SOURCE
 && !defed 
	g_SVID_SOURCE
)

169 
	#_BSD_SOURCE
 1

	)

170 
	#_SVID_SOURCE
 1

	)

177 #i(
defed
 
_ISOC99_SOURCE
 || defed 
_ISOC9X_SOURCE
 \

178 || (
defed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

179 
	#__USE_ISOC99
 1

	)

184 #i((!
defed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

185 !
defed
 
_POSIX_SOURCE
 && !defed 
_POSIX_C_SOURCE
)

186 
	#_POSIX_SOURCE
 1

	)

187 #i
defed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

188 
	#_POSIX_C_SOURCE
 2

	)

190 
	#_POSIX_C_SOURCE
 199506L

	)

194 #i
defed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >1 || defed 
_XOPEN_SOURCE


195 
	#__USE_POSIX
 1

	)

198 #i
defed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || defed 
_XOPEN_SOURCE


199 
	#__USE_POSIX2
 1

	)

202 #i(
_POSIX_C_SOURCE
 - 0) >= 199309L

203 
	#__USE_POSIX199309
 1

	)

206 #i(
_POSIX_C_SOURCE
 - 0) >= 199506L

207 
	#__USE_POSIX199506
 1

	)

210 #i(
_POSIX_C_SOURCE
 - 0) >= 200112L

211 
	#__USE_XOPEN2K
 1

	)

214 #ifdef 
_XOPEN_SOURCE


215 
	#__USE_XOPEN
 1

	)

216 #i(
_XOPEN_SOURCE
 - 0) >= 500

217 
	#__USE_XOPEN_EXTENDED
 1

	)

218 
	#__USE_UNIX98
 1

	)

219 #unde
_LARGEFILE_SOURCE


220 
	#_LARGEFILE_SOURCE
 1

	)

221 #i(
_XOPEN_SOURCE
 - 0) >= 600

222 
	#__USE_XOPEN2K
 1

	)

223 #unde
__USE_ISOC99


224 
	#__USE_ISOC99
 1

	)

227 #ifde
_XOPEN_SOURCE_EXTENDED


228 
	#__USE_XOPEN_EXTENDED
 1

	)

233 #ifde
_LARGEFILE_SOURCE


234 
	#__USE_LARGEFILE
 1

	)

237 #ifde
_LARGEFILE64_SOURCE


238 
	#__USE_LARGEFILE64
 1

	)

241 #i
defed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

242 
	#__USE_FILE_OFFSET64
 1

	)

245 #i
defed
 
_BSD_SOURCE
 || defed 
_SVID_SOURCE


246 
	#__USE_MISC
 1

	)

249 #ifdef 
_BSD_SOURCE


250 
	#__USE_BSD
 1

	)

253 #ifdef 
_SVID_SOURCE


254 
	#__USE_SVID
 1

	)

257 #ifdef 
_GNU_SOURCE


258 
	#__USE_GNU
 1

	)

261 #i
defed
 
_REENTRANT
 || defed 
_THREAD_SAFE


262 
	#__USE_REENTRANT
 1

	)

265 #i
_FORTIFY_SOURCE
 > 0 && 
__GNUC_PREREQ
 (4, 1&& 
__OPTIMIZE__
 > 0

266 #i
_FORTIFY_SOURCE
 == 1

267 
	#__USE_FORTIFY_LEVEL
 1

	)

268 #i
_FORTIFY_SOURCE
 > 1

269 
	#__USE_FORTIFY_LEVEL
 2

	)

274 
	#__STDC_IEC_559__
 1

	)

275 
	#__STDC_IEC_559_COMPLEX__
 1

	)

278 
	#__STDC_ISO_10646__
 200009L

	)

286 #unde
__GNU_LIBRARY__


287 
	#__GNU_LIBRARY__
 6

	)

291 
	#__GLIBC__
 2

	)

292 
	#__GLIBC_MINOR__
 3

	)

294 
	#__GLIBC_PREREQ
(
maj
, 
m
) \

295 ((
__GLIBC__
 << 16+ 
__GLIBC_MINOR__
 >((
maj
<< 16+ (
m
))

	)

298 #i
defed
 
__GNUC__
 \

299 || (
defed
 
	g__PGI
 && defed 
	g__i386__
 ) \

300 || (
defed
 
	g__INTEL_COMPILER
 && (defed 
	g__i386__
 || defed 
	g__64__
)) \

301 || (
defed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

302 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

306 #ide
__ASSEMBLER__


307 #ide
_SYS_CDEFS_H


308 
	~<sys/cdefs.h
>

313 #i
defed
 
__USE_FILE_OFFSET64
 && !defed 
__REDIRECT


314 
	#__USE_LARGEFILE
 1

	)

315 
	#__USE_LARGEFILE64
 1

	)

321 #i
__GNUC_PREREQ
 (2, 7&& 
defed
 
__OPTIMIZE__
 \

322 && !
defed
 
	g__OPTIMIZE_SIZE__
 && !defed 
	g__NO_INLINE__


323 
	#__USE_EXTERN_INLINES
 1

	)

331 
	~<gnu/ubs.h
>

	@/usr/include/math.h

24 #idef 
_MATH_H


25 
	#_MATH_H
 1

	)

27 
	~<us.h
>

29 
	g__BEGIN_DECLS


33 
	~<bs/huge_v.h
>

34 #ifde
__USE_ISOC99


35 
	~<bs/huge_vf.h
>

36 
	~<bs/huge_vl.h
>

39 
	~<bs/f.h
>

42 
	~<bs/n.h
>

46 
	~<bs/mhdef.h
>

53 
	#__MATHCALL
(
funi
,
suffix
, 
gs
) \

54 
	`__MATHDECL
 (
_Mdoub_
,
funi
,
suffix
, 
gs
)

	)

55 
	#__MATHDECL
(
ty
, 
funi
,
suffix
, 
gs
) \

56 
	`__MATHDECL_1
(
ty
, 
funi
,
suffix
, 
gs
); \

57 
	`__MATHDECL_1
(
ty
, 
	`__CONCAT
(
__
,
funi
),
suffix
, 
gs
)

	)

58 
	#__MATHCALLX
(
funi
,
suffix
, 
gs
, 
ib
) \

59 
	`__MATHDECLX
 (
_Mdoub_
,
funi
,
suffix
, 
gs
, 
ib
)

	)

60 
	#__MATHDECLX
(
ty
, 
funi
,
suffix
, 
gs
, 
ib
) \

61 
	`__MATHDECL_1
(
ty
, 
funi
,
suffix
, 
gs

	`__ibu__
 (
ib
); \

62 
	`__MATHDECL_1
(
ty
, 
	`__CONCAT
(
__
,
funi
),
suffix
, 
gs

	`__ibu__
 (
ib
)

	)

63 
	#__MATHDECL_1
(
ty
, 
funi
,
suffix
, 
gs
) \

64 
ty
 
	`__MATH_PRECNAME
(
funi
,
suffix

gs
 
__THROW


	)

66 
	#_Mdoub_
 

	)

67 
	#__MATH_PRECNAME
(
me
,
r

	`__CONCAT
ame,r)

	)

68 
	#_Mdoub_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

69 
	#_Mdoub_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

70 
	~<bs/mhs.h
>

71 #unde
_Mdoub_


72 #unde
_Mdoub_BEGIN_NAMESPACE


73 #unde
_Mdoub_END_NAMESPACE


74 #unde
__MATH_PRECNAME


76 #i
defed
 
__USE_MISC
 || defed 
__USE_ISOC99


82 #ide
_Mt_


83 
	#_Mt_
 

	)

85 
	#_Mdoub_
 
_Mt_


	)

86 #ifde
__STDC__


87 
	#__MATH_PRECNAME
(
me
,
r
me##
f
##
	)
r

89 
	#__MATH_PRECNAME
(
me
,
r
m
f
 
	)
r

91 
	#_Mdoub_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

92 
	#_Mdoub_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

93 
	~<bs/mhs.h
>

94 #unde
_Mdoub_


95 #unde
_Mdoub_BEGIN_NAMESPACE


96 #unde
_Mdoub_END_NAMESPACE


97 #unde
__MATH_PRECNAME


99 #i(
__STDC__
 - 0 || 
__GNUC__
 - 0&& !
defed
 
__NO_LONG_DOUBLE_MATH


103 #ide
_Mlg_doub_


104 
	#_Mlg_doub_
 

	)

106 
	#_Mdoub_
 
_Mlg_doub_


	)

107 #ifde
__STDC__


108 
	#__MATH_PRECNAME
(
me
,
r
me##
l
##
	)
r

110 
	#__MATH_PRECNAME
(
me
,
r
m
l
 
	)
r

112 
	#_Mdoub_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

113 
	#_Mdoub_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

114 
	~<bs/mhs.h
>

115 #unde
_Mdoub_


116 #unde
_Mdoub_BEGIN_NAMESPACE


117 #unde
_Mdoub_END_NAMESPACE


118 #unde
__MATH_PRECNAME


123 #unde
__MATHDECL_1


124 #unde
__MATHDECL


125 #unde
__MATHCALL


128 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN


130 
signgam
;

135 #ifde
__USE_ISOC99


173 
	mFP_NAN
,

174 
	#FP_NAN
 
FP_NAN


	)

175 
	mFP_INFINITE
,

176 
	#FP_INFINITE
 
FP_INFINITE


	)

177 
	mFP_ZERO
,

178 
	#FP_ZERO
 
FP_ZERO


	)

179 
	mFP_SUBNORMAL
,

180 
	#FP_SUBNORMAL
 
FP_SUBNORMAL


	)

181 
	mFP_NORMAL


182 
	#FP_NORMAL
 
FP_NORMAL


	)

186 #ifde
__NO_LONG_DOUBLE_MATH


187 
	#assify
(
x
) \

188 ( (
x
= (? 
	`__assifyf
 (x: 
	`__assify
 (x))

	)

190 
	#assify
(
x
) \

191 ( (
x
) ==  () \

192 ? 
	`__assifyf
 (
x
) \

193 :  (
x
) ==  () \

194 ? 
	`__assify
 (
x
: 
	`__assifyl
 (x))

	)

198 #ifde
__NO_LONG_DOUBLE_MATH


199 
	#signb
(
x
) \

200 ( (
x
= (? 
	`__signbf
 (x: 
	`__signb
 (x))

	)

202 
	#signb
(
x
) \

203 ( (
x
) ==  () \

204 ? 
	`__signbf
 (
x
) \

205 :  (
x
) ==  () \

206 ? 
	`__signb
 (
x
: 
	`__signbl
 (x))

	)

210 #ifde
__NO_LONG_DOUBLE_MATH


211 
	#isfe
(
x
) \

212 ( (
x
= (? 
	`__fef
 (x: 
	`__fe
 (x))

	)

214 
	#isfe
(
x
) \

215 ( (
x
) ==  () \

216 ? 
	`__fef
 (
x
) \

217 :  (
x
) ==  () \

218 ? 
	`__fe
 (
x
: 
	`__f
 (x))

	)

222 
	#im
(
x
(
	`assify
 (x=
FP_NORMAL
)

	)

226 #ifde
__NO_LONG_DOUBLE_MATH


227 
	#i
(
x
) \

228 ( (
x
= (? 
	`__if
 (x: 
	`__i
 (x))

	)

230 
	#i
(
x
) \

231 ( (
x
) ==  () \

232 ? 
	`__if
 (
x
) \

233 :  (
x
) ==  () \

234 ? 
	`__i
 (
x
: 
	`__il
 (x))

	)

238 #ifde
__NO_LONG_DOUBLE_MATH


239 
	#isf
(
x
) \

240 ( (
x
= (? 
	`__isff
 (x: 
	`__isf
 (x))

	)

242 
	#isf
(
x
) \

243 ( (
x
) ==  () \

244 ? 
	`__isff
 (
x
) \

245 :  (
x
) ==  () \

246 ? 
	`__isf
 (
x
: 
	`__is
 (x))

	)

250 
	#MATH_ERRNO
 1

	)

251 
	#MATH_ERREXCEPT
 2

	)

255 #ifdef 
__USE_MISC


259 
	m_IEEE_
 = -1,

260 
	m_SVID_
,

261 
	m_XOPEN_
,

262 
	m_POSIX_
,

263 
	m_ISOC_


264 } 
	t_LIB_VERSION_TYPE
;

269 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

273 #ifde
__USE_SVID


279 #ifde
__lulus


280 
	g__exi


282 
	gexi


285 
	gty
;

286 *
	gme
;

287 
	gg1
;

288 
	gg2
;

289 
	gtv
;

292 #ifde
__lulus


293 
	$mhr
 (
__exi
 *
__exc

	`throw
 ();

295 
	`mhr
 (
exi
 *
__exc
);

298 
	#X_TLOSS
 1.41484755040568800000e+16

	)

301 
	#DOMAIN
 1

	)

302 
	#SING
 2

	)

303 
	#OVERFLOW
 3

	)

304 
	#UNDERFLOW
 4

	)

305 
	#TLOSS
 5

	)

306 
	#PLOSS
 6

	)

309 
	#HUGE
 3.40282347e+38F

	)

313 #ifde
__USE_XOPEN


315 
	#MAXFLOAT
 3.40282347e+38F

	)

322 #i
defed
 
__USE_BSD
 || defed 
__USE_XOPEN


323 
	#M_E
 2.7182818284590452354

	)

324 
	#M_LOG2E
 1.4426950408889634074

	)

325 
	#M_LOG10E
 0.43429448190325182765

	)

326 
	#M_LN2
 0.69314718055994530942

	)

327 
	#M_LN10
 2.30258509299404568402

	)

328 
	#M_PI
 3.14159265358979323846

	)

329 
	#M_PI_2
 1.57079632679489661923

	)

330 
	#M_PI_4
 0.78539816339744830962

	)

331 
	#M_1_PI
 0.31830988618379067154

	)

332 
	#M_2_PI
 0.63661977236758134308

	)

333 
	#M_2_SQRTPI
 1.12837916709551257390

	)

334 
	#M_SQRT2
 1.41421356237309504880

	)

335 
	#M_SQRT1_2
 0.70710678118654752440

	)

341 #ifde
__USE_GNU


342 
	#M_El
 2.7182818284590452353602874713526625L

	)

343 
	#M_LOG2El
 1.4426950408889634073599246810018921L

	)

344 
	#M_LOG10El
 0.4342944819032518276511289189166051L

	)

345 
	#M_LN2l
 0.6931471805599453094172321214581766L

	)

346 
	#M_LN10l
 2.3025850929940456840179914546843642L

	)

347 
	#M_PIl
 3.1415926535897932384626433832795029L

	)

348 
	#M_PI_2l
 1.5707963267948966192313216916397514L

	)

349 
	#M_PI_4l
 0.7853981633974483096156608458198757L

	)

350 
	#M_1_PIl
 0.3183098861837906715377675267450287L

	)

351 
	#M_2_PIl
 0.6366197723675813430755350534900574L

	)

352 
	#M_2_SQRTPIl
 1.1283791670955125738961589031215452L

	)

353 
	#M_SQRT2l
 1.4142135623730950488016887242096981L

	)

354 
	#M_SQRT1_2l
 0.7071067811865475244008443621048490L

	)

361 #i
defed
 
__STRICT_ANSI__
 && !defed 
__NO_MATH_INLINES


362 
	#__NO_MATH_INLINES
 1

	)

365 #i
defed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

372 
	#isg
(
x
, 
y

	`__but_isg
(x, y)

	)

373 
	#isgequ
(
x
, 
y

	`__but_isgequ
(x, y)

	)

374 
	#iess
(
x
, 
y

	`__but_iess
(x, y)

	)

375 
	#iesqu
(
x
, 
y

	`__but_iesqu
(x, y)

	)

376 
	#iessg
(
x
, 
y

	`__but_iessg
(x, y)

	)

377 
	#isunded
(
u
, 
v

	`__but_isunded
(u, v)

	)

381 #ifde
__USE_EXTERN_INLINES


382 
	~<bs/mhle.h
>

385 #ifde
__USE_ISOC99


389 #ide
isg


390 
	#isg
(
x
, 
y
) \

391 (
__exnsi__
 \

392 ({ 
	`__tyof__
(
x

__x
 = (x); __tyof__(
y

__y
 = (y); \

393 !
	`isunded
 (
__x
, 
__y
&& __x > __y; 
	}
}))

	)

397 #ide
isgequ


398 
	#isgequ
(
x
, 
y
) \

399 (
__exnsi__
 \

400 ({ 
	`__tyof__
(
x

__x
 = (x); __tyof__(
y

__y
 = (y); \

401 !
	`isunded
 (
__x
, 
__y
&& __x >__y; }))

	)

405 #ide
iess


406 
	#iess
(
x
, 
y
) \

407 (
__exnsi__
 \

408 ({ 
	`__tyof__
(
x

__x
 = (x); __tyof__(
y

__y
 = (y); \

409 !
	`isunded
 (
__x
, 
__y
&& __x < __y; }))

	)

413 #ide
iesqu


414 
	#iesqu
(
x
, 
y
) \

415 (
__exnsi__
 \

416 ({ 
	`__tyof__
(
x

__x
 = (x); __tyof__(
y

__y
 = (y); \

417 !
	`isunded
 (
__x
, 
__y
&& __x <__y; }))

	)

421 #ide
iessg


422 
	#iessg
(
x
, 
y
) \

423 (
__exnsi__
 \

424 ({ 
	`__tyof__
(
x

__x
 = (x); __tyof__(
y

__y
 = (y); \

425 !
	`isunded
 (
__x
, 
__y
&& (__x < __y || __y < __x); }))

	)

429 #ide
isunded


430 
	#isunded
(
u
, 
v
) \

431 (
__exnsi__
 \

432 ({ 
	`__tyof__
(
u

__u
 = (u); __tyof__(
v

__v
 = (v); \

433 
	`assify
 (
__u
=
FP_NAN
 || fpassify (
__v
=FP_NAN; }))

	)

438 
	g__END_DECLS


	@/usr/include/xlocale.h

21 #ide
_XLOCALE_H


22 
	#_XLOCALE_H
 1

	)

28 
	s__lo_ru


31 
lo_da
 *
	m__los
[13];

34 cڡ *
	m__y_b
;

35 cڡ *
	m__y_tow
;

36 cڡ *
	m__y_tou
;

39 cڡ *
	m__mes
[13];

40 } *
	t__lo_t
;

	@/usr/include/bits/huge_val.h

22 #ide
_MATH_H


28 #i
__GNUC_PREREQ
(3,3)

29 
	#HUGE_VAL
 (
	`__but_huge_v
())

	)

30 #i
__GNUC_PREREQ
(2,96)

31 
	#HUGE_VAL
 (
__exnsi__
 0x1.0
p2047
)

	)

32 #i
defed
 
__GNUC__


34 
	#HUGE_VAL
 \

35 (
__exnsi__
 \

36 ((uni { 
__l
 
	`__ibu__
((
	`__mode__
(
__DI__
))); 
__d
; }) \

37 { 
__l
: 0x7ff0000000000000ULL }).
__d
)

	)

41 
	~<dn.h
>

43 uni { 
	m__c
[8]; 
	m__d
; } 
	t__huge_v_t
;

45 #i
__BYTE_ORDER
 =
__BIG_ENDIAN


46 
	#__HUGE_VAL_bys
 { 0x7f, 0xf0, 0, 0, 0, 0, 0, 0 }

	)

48 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


49 
	#__HUGE_VAL_bys
 { 0, 0, 0, 0, 0, 0, 0xf0, 0x7}

	)

52 
__huge_v_t
 
	g__huge_v
 = { 
__HUGE_VAL_bys
 };

53 
	#HUGE_VAL
 (
__huge_v
.
__d
)

	)

	@/usr/include/bits/huge_valf.h

22 #ide
_MATH_H


28 #i
__GNUC_PREREQ
(3,3)

29 
	#HUGE_VALF
 (
	`__but_huge_vf
())

	)

30 #i
__GNUC_PREREQ
(2,96)

31 
	#HUGE_VALF
 (
__exnsi__
 0x1.0
p255f
)

	)

32 #i
defed
 
__GNUC__


34 
	#HUGE_VALF
 \

35 (
__exnsi__
 \

36 ((uni { 
__l
 
	`__ibu__
((
	`__mode__
(
__SI__
))); 
__d
; }) \

37 { 
__l
: 0x7f800000UL }).
__d
)

	)

41 uni { 
	m__c
[4]; 
	m__f
; } 
	t__huge_vf_t
;

43 #i
__BYTE_ORDER
 =
__BIG_ENDIAN


44 
	#__HUGE_VALF_bys
 { 0x7f, 0x80, 0, 0 }

	)

46 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


47 
	#__HUGE_VALF_bys
 { 0, 0, 0x80, 0x7}

	)

50 
__huge_vf_t
 
	g__huge_vf
 = { 
__HUGE_VALF_bys
 };

51 
	#HUGE_VALF
 (
__huge_vf
.
__f
)

	)

	@/usr/include/bits/huge_vall.h

22 #ide
_MATH_H


26 #i
__GNUC_PREREQ
(3,3)

27 
	#HUGE_VALL
 (
	`__but_huge_vl
())

	)

28 #i
__GNUC_PREREQ
(2,96)

29 
	#HUGE_VALL
 (
__exnsi__
 0x1.0
p32767L
)

	)

32 
	#__HUGE_VALL_bys
 { 0, 0, 0, 0, 0, 0, 0, 0x80, 0xff, 0x7f, 0, 0 }

	)

34 
	#__huge_vl_t
 uni { 
__c
[12]; 
__ld
; }

	)

35 #ifde
__GNUC__


36 
	#HUGE_VALL
 (
__exnsi__
 \

37 ((
__huge_vl_t
{ 
__c
: 
__HUGE_VALL_bys
 }).
__ld
)

	)

39 
__huge_vl_t
 
	g__huge_vl
 = { 
__HUGE_VALL_bys
 };

40 
	#HUGE_VALL
 (
__huge_vl
.
__ld
)

	)

	@/usr/include/bits/inf.h

20 #ide
_MATH_H


26 #i
__GNUC_PREREQ
(3,3)

27 
	#INFINITY
 (
	`__but_ff
())

	)

29 
	#INFINITY
 
HUGE_VALF


	)

	@/usr/include/bits/local_lim.h

25 #ide
NR_OPEN


26 
	#__undef_NR_OPEN


	)

28 #ide
LINK_MAX


29 
	#__undef_LINK_MAX


	)

31 #ide
OPEN_MAX


32 
	#__undef_OPEN_MAX


	)

36 
	~<lux/lims.h
>

39 #ifde
__undef_NR_OPEN


40 #unde
NR_OPEN


41 #unde
__undef_NR_OPEN


44 #ifde
__undef_LINK_MAX


45 #unde
LINK_MAX


46 #unde
__undef_LINK_MAX


49 #ifde
__undef_OPEN_MAX


50 #unde
OPEN_MAX


51 #unde
__undef_OPEN_MAX


55 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

57 
	#PTHREAD_KEYS_MAX
 1024

	)

60 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

62 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 
_POSIX_THREAD_DESTRUCTOR_ITERATIONS


	)

65 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

67 
	#PTHREAD_THREADS_MAX
 16384

	)

71 
	#AIO_PRIO_DELTA_MAX
 20

	)

74 
	#PTHREAD_STACK_MIN
 16384

	)

77 
	#TIMER_MAX
 256

	)

80 
	#DELAYTIMER_MAX
 2147483647

	)

83 
	#TTY_NAME_MAX
 32

	)

86 
	#LOGIN_NAME_MAX
 256

	)

89 
	#HOST_NAME_MAX
 64

	)

92 
	#MQ_PRIO_MAX
 32768

	)

	@/usr/include/bits/mathcalls.h

46 #ide
_MATH_H


53 
_Mdoub_BEGIN_NAMESPACE


55 
__MATHCALL
 (
acos
,, (
_Mdoub_
 
__x
));

57 
__MATHCALL
 (
as
,, (
_Mdoub_
 
__x
));

59 
__MATHCALL
 (

,, (
_Mdoub_
 
__x
));

61 
__MATHCALL
 (
2
,, (
_Mdoub_
 
__y
, _Mdoub_ 
__x
));

64 
__MATHCALL
 (
cos
,, (
_Mdoub_
 
__x
));

66 
__MATHCALL
 (
s
,, (
_Mdoub_
 
__x
));

68 
__MATHCALL
 (
n
,, (
_Mdoub_
 
__x
));

73 
__MATHCALL
 (
cosh
,, (
_Mdoub_
 
__x
));

75 
__MATHCALL
 (
sh
,, (
_Mdoub_
 
__x
));

77 
__MATHCALL
 (
nh
,, (
_Mdoub_
 
__x
));

78 
	g_Mdoub_END_NAMESPACE


80 #ifde
__USE_GNU


82 
__MATHDECL
 (,
scos
,,

83 (
_Mdoub_
 
__x
, _Mdoub_ *
__sx
, _Mdoub_ *
__cosx
));

86 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_ISOC99


87 
__BEGIN_NAMESPACE_C99


89 
__MATHCALL
 (
acosh
,, (
_Mdoub_
 
__x
));

91 
__MATHCALL
 (
ash
,, (
_Mdoub_
 
__x
));

93 
__MATHCALL
 (
h
,, (
_Mdoub_
 
__x
));

94 
	g__END_NAMESPACE_C99


99 
_Mdoub_BEGIN_NAMESPACE


101 
__MATHCALL
 (
exp
,, (
_Mdoub_
 
__x
));

104 
__MATHCALL
 (
exp
,, (
_Mdoub_
 
__x
, *
__expڒt
));

107 
__MATHCALL
 (
ldexp
,, (
_Mdoub_
 
__x
, 
__expڒt
));

110 
__MATHCALL
 (
log
,, (
_Mdoub_
 
__x
));

113 
__MATHCALL
 (
log10
,, (
_Mdoub_
 
__x
));

116 
__MATHCALL
 (
modf
,, (
_Mdoub_
 
__x
, _Mdoub_ *
__
));

117 
	g_Mdoub_END_NAMESPACE


119 #ifde
__USE_GNU


121 
__MATHCALL
 (
exp10
,, (
_Mdoub_
 
__x
));

123 
__MATHCALL
 (
pow10
,, (
_Mdoub_
 
__x
));

126 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_ISOC99


127 
__BEGIN_NAMESPACE_C99


129 
__MATHCALL
 (
expm1
,, (
_Mdoub_
 
__x
));

132 
__MATHCALL
 (
log1p
,, (
_Mdoub_
 
__x
));

135 
__MATHCALL
 (
logb
,, (
_Mdoub_
 
__x
));

136 
	g__END_NAMESPACE_C99


139 #ifde
__USE_ISOC99


140 
__BEGIN_NAMESPACE_C99


142 
__MATHCALL
 (
exp2
,, (
_Mdoub_
 
__x
));

145 
__MATHCALL
 (
log2
,, (
_Mdoub_
 
__x
));

146 
	g__END_NAMESPACE_C99


152 
_Mdoub_BEGIN_NAMESPACE


154 
__MATHCALL
 (
pow
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
));

157 
__MATHCALL
 (
sq
,, (
_Mdoub_
 
__x
));

158 
	g_Mdoub_END_NAMESPACE


160 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN
 || defed 
__USE_ISOC99


161 
__BEGIN_NAMESPACE_C99


163 
__MATHCALL
 (
hyp
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
));

164 
	g__END_NAMESPACE_C99


167 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_ISOC99


168 
__BEGIN_NAMESPACE_C99


170 
__MATHCALL
 (
cb
,, (
_Mdoub_
 
__x
));

171 
	g__END_NAMESPACE_C99


177 
_Mdoub_BEGIN_NAMESPACE


179 
__MATHCALLX
 (

,, (
_Mdoub_
 
__x
), (
__cڡ__
));

182 
__MATHCALLX
 (
bs
,, (
_Mdoub_
 
__x
), (
__cڡ__
));

185 
__MATHCALLX
 (
o
,, (
_Mdoub_
 
__x
), (
__cڡ__
));

188 
__MATHCALL
 (
fmod
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
));

193 
__MATHDECL_1
 (,
__isf
,, (
_Mdoub_
 
__vue
)
__ibu__
 ((
__cڡ__
));

196 
__MATHDECL_1
 (,
__fe
,, (
_Mdoub_
 
__vue
)
__ibu__
 ((
__cڡ__
));

197 
	g_Mdoub_END_NAMESPACE


199 #ifde
__USE_MISC


202 
__MATHDECL_1
 (,
isf
,, (
_Mdoub_
 
__vue
)
__ibu__
 ((
__cڡ__
));

205 
__MATHDECL_1
 (,
fe
,, (
_Mdoub_
 
__vue
)
__ibu__
 ((
__cڡ__
));

208 
__MATHCALL
 (
dm
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
));

212 
__MATHCALL
 (
signifind
,, (
_Mdoub_
 
__x
));

215 #i
defed
 
__USE_MISC
 || defed 
__USE_ISOC99


216 
__BEGIN_NAMESPACE_C99


218 
__MATHCALLX
 (
cysign
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
), (
__cڡ__
));

219 
	g__END_NAMESPACE_C99


222 #ifde
__USE_ISOC99


223 
__BEGIN_NAMESPACE_C99


225 
__MATHCALLX
 (
n
,, (
__cڡ
 *
__gb
), (
__cڡ__
));

226 
	g__END_NAMESPACE_C99


231 
__MATHDECL_1
 (,
__i
,, (
_Mdoub_
 
__vue
)
__ibu__
 ((
__cڡ__
));

233 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN


235 
__MATHDECL_1
 (,
i
,, (
_Mdoub_
 
__vue
)
__ibu__
 ((
__cڡ__
));

238 
__MATHCALL
 (
j0
,, (
_Mdoub_
));

239 
__MATHCALL
 (
j1
,, (
_Mdoub_
));

240 
__MATHCALL
 (
jn
,, (, 
_Mdoub_
));

241 
__MATHCALL
 (
y0
,, (
_Mdoub_
));

242 
__MATHCALL
 (
y1
,, (
_Mdoub_
));

243 
__MATHCALL
 (
yn
,, (, 
_Mdoub_
));

247 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN
 || defed 
__USE_ISOC99


248 
__BEGIN_NAMESPACE_C99


250 
__MATHCALL
 (
f
,, (
_Mdoub_
));

251 
__MATHCALL
 (
fc
,, (
_Mdoub_
));

252 
__MATHCALL
 (
lgamma
,, (
_Mdoub_
));

253 
	g__END_NAMESPACE_C99


256 #ifde
__USE_ISOC99


257 
__BEGIN_NAMESPACE_C99


259 
__MATHCALL
 (
tgamma
,, (
_Mdoub_
));

260 
	g__END_NAMESPACE_C99


263 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN


265 
__MATHCALL
 (
gamma
,, (
_Mdoub_
));

268 #ifde
__USE_MISC


272 
__MATHCALL
 (
lgamma
,
_r
, (
_Mdoub_
, *
__signgamp
));

276 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN_EXTENDED
 || defed 
__USE_ISOC99


277 
__BEGIN_NAMESPACE_C99


280 
__MATHCALL
 (
rt
,, (
_Mdoub_
 
__x
));

283 
__MATHCALLX
 (
x
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
), (
__cڡ__
));

284 #ifde
__USE_ISOC99


285 
__MATHCALLX
 (
xowd
,, (
_Mdoub_
 
__x
, 
__y
), (
__cڡ__
));

289 
__MATHCALL
 (
mad
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
));

291 #i
defed
 
__USE_MISC
 || defed 
__USE_ISOC99


293 
__MATHCALL
 (
slbn
,, (
_Mdoub_
 
__x
, 
__n
));

297 
__MATHDECL
 (,
ogb
,, (
_Mdoub_
 
__x
));

300 #ifde
__USE_ISOC99


302 
__MATHCALL
 (
slb
,, (
_Mdoub_
 
__x
, 
__n
));

306 
__MATHCALL
 (
ìbyt
,, (
_Mdoub_
 
__x
));

310 
__MATHCALLX
 (
round
,, (
_Mdoub_
 
__x
), (
__cڡ__
));

314 
__MATHCALLX
 (
unc
,, (
_Mdoub_
 
__x
), (
__cڡ__
));

319 
__MATHCALL
 (
mquo
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
, *
__quo
));

326 
__MATHDECL
 (,
̚t
,, (
_Mdoub_
 
__x
));

327 
__MATHDECL
 (,
rt
,, (
_Mdoub_
 
__x
));

331 
__MATHDECL
 (,
ound
,, (
_Mdoub_
 
__x
));

332 
__MATHDECL
 (,
round
,, (
_Mdoub_
 
__x
));

336 
__MATHCALL
 (
fdim
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
));

339 
__MATHCALL
 (
fmax
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
));

342 
__MATHCALL
 (
fm
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
));

346 
__MATHDECL_1
 (, 
__assify
,, (
_Mdoub_
 
__vue
))

347 
__ibu__
 ((
__cڡ__
));

350 
__MATHDECL_1
 (, 
__signb
,, (
_Mdoub_
 
__vue
))

351 
__ibu__
 ((
__cڡ__
));

355 
__MATHCALL
 (
fma
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__y
, _Mdoub_ 
__z
));

356 
	g__END_NAMESPACE_C99


358 #i
defed
 
__USE_MISC
 || defed 
__USE_XOPEN_EXTENDED


360 
__MATHCALL
 (
slb
,, (
_Mdoub_
 
__x
, _Mdoub_ 
__n
));

	@/usr/include/bits/mathdef.h

19 #i!
defed
 
_MATH_H
 && !defed 
_COMPLEX_H


23 #i
defed
 
__USE_ISOC99
 && defed 
_MATH_H
 && !defed 
_MATH_H_MATHDEF


24 
	#_MATH_H_MATHDEF
 1

	)

26 #i
defed
 
__FLT_EVAL_METHOD__
 && __FLT_EVAL_METHOD__ == 0

29 
	tt_t
;

30 
	tdoub_t
;

36 
	tt_t
;

38 
	tdoub_t
;

43 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

44 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

	@/usr/include/bits/mathinline.h

22 #ide
_MATH_H


26 #ifde
__lulus


27 
	#__MATH_INLINE
 
__le


	)

29 
	#__MATH_INLINE
 
__le


	)

33 #i
defed
 
__USE_ISOC99
 && defed 
__GNUC__
 && __GNUC__ >= 2

35 #i!
__GNUC_PREREQ
 (2,97)

40 #unde
isg


41 #unde
isgequ


42 #unde
iess


43 #unde
iesqu


44 #unde
iessg


45 #unde
isunded


46 #ifde
__i686__


49 
	#isg
(
x
, 
y
) \

50 ({ 
__su
; \

51 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

52 : "" (
__su
: "u" (
y
), "t" (
x
) : "cc", "st"); \

53 
__su
; })

	)

54 
	#isgequ
(
x
, 
y
) \

55 ({ 
__su
; \

56 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

57 : "" (
__su
: "u" (
y
), "t" (
x
) : "cc", "st"); \

58 
__su
; })

	)

60 
	#iess
(
x
, 
y
) \

61 ({ 
__su
; \

62 
	`__asm__
 ("fucomip %%st(1), %%st; seta %%al" \

63 : "" (
__su
: "u" (
x
), "t" (
y
) : "cc", "st"); \

64 
__su
; })

	)

66 
	#iesqu
(
x
, 
y
) \

67 ({ 
__su
; \

68 
	`__asm__
 ("fucomip %%st(1), %%st; setae %%al" \

69 : "" (
__su
: "u" (
x
), "t" (
y
) : "cc", "st"); \

70 
__su
; })

	)

72 
	#iessg
(
x
, 
y
) \

73 ({ 
__su
; \

74 
	`__asm__
 ("fucomip %%st(1), %%st; setne %%al" \

75 : "" (
__su
: "u" (
y
), "t" (
x
) : "cc", "st"); \

76 
__su
; })

	)

78 
	#isunded
(
x
, 
y
) \

79 ({ 
__su
; \

80 
	`__asm__
 ("fucomip %%st(1), %%st; setp %%al" \

81 : "" (
__su
: "u" (
y
), "t" (
x
) : "cc", "st"); \

82 
__su
; })

	)

85 
	#isg
(
x
, 
y
) \

86 ({ 
__su
; \

87 
	`__asm__
 ("fucompp; fnstsw;estb $0x45, %%ah; setz %%al" \

88 : "" (
__su
: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

89 
__su
; })

	)

91 
	#isgequ
(
x
, 
y
) \

92 ({ 
__su
; \

93 
	`__asm__
 ("fucompp; fnstsw;estb $0x05, %%ah; setz %%al" \

94 : "" (
__su
: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

95 
__su
; })

	)

97 
	#iess
(
x
, 
y
) \

98 ({ 
__su
; \

99 
	`__asm__
 ("fucompp; fnstsw;estb $0x45, %%ah; setz %%al" \

100 : "" (
__su
: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

101 
__su
; })

	)

103 
	#iesqu
(
x
, 
y
) \

104 ({ 
__su
; \

105 
	`__asm__
 ("fucompp; fnstsw;estb $0x05, %%ah; setz %%al" \

106 : "" (
__su
: "u" (
x
), "t" (
y
) : "cc", "st", "st(1)"); \

107 
__su
; })

	)

109 
	#iessg
(
x
, 
y
) \

110 ({ 
__su
; \

111 
	`__asm__
 ("fucompp; fnstsw;estb $0x44, %%ah; setz %%al" \

112 : "" (
__su
: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

113 
__su
; })

	)

115 
	#isunded
(
x
, 
y
) \

116 ({ 
__su
; \

117 
	`__asm__
 ("fucompp; fnstsw; sahf; setp %%al" \

118 : "" (
__su
: "u" (
y
), "t" (
x
) : "cc", "st", "st(1)"); \

119 
__su
; })

	)

125 #i
__GNUC_PREREQ
 (2, 8)

127 
__MATH_INLINE
 

128 
__NTH
 (
	$__signbf
 (
__x
))

130 
__exnsi__
 uni { 
__f
; 
__i
; } 
__u
 = { __f: 
__x
 };

131  
__u
.
__i
 < 0;

132 
	}
}

133 
__MATH_INLINE
 

134 
__NTH
 (
	$__signb
 (
__x
))

136 
__exnsi__
 uni { 
__d
; 
__i
[2]; } 
__u
 = { __d: 
__x
 };

137  
__u
.
__i
[1] < 0;

138 
	}
}

139 
__MATH_INLINE
 

140 
__NTH
 (
	$__signbl
 (
__x
))

142 
__exnsi__
 uni { 
__l
; 
__i
[3]; } 
__u
 = { __l: 
__x
 };

143  (
__u
.
__i
[2] & 0x8000) != 0;

144 
	}
}

151 #i
__GNUC_PREREQ
 (2, 8)

153 #i((!
defed
 
__NO_MATH_INLINES
 || defed 
__LIBC_INTERNAL_MATH_INLINES
) \

154 && 
defed
 
__OPTIMIZE__
)

163 #i
defed
 
__USE_MISC
 || defed 
__USE_ISOC99


164 
	#__le_mh
(
func
, 

) \

165 
	`__le_mh_
 (, 
func
, 

) \

166 
	`__le_mh_
 (, 
	`__CONCAT
(
func
,
f
), 

) \

167 
	`__le_mh_
 (, 
	`__CONCAT
(
func
,
l
), 

)

	)

168 
	#__le_mhNP
(
func
, 

) \

169 
	`__le_mhNP_
 (, 
func
, 

) \

170 
	`__le_mhNP_
 (, 
	`__CONCAT
(
func
,
f
), 

) \

171 
	`__le_mhNP_
 (, 
	`__CONCAT
(
func
,
l
), 

)

	)

173 
	#__le_mh
(
func
, 

) \

174 
	`__le_mh_
 (, 
func
, 

)

	)

175 
	#__le_mhNP
(
func
, 

) \

176 
	`__le_mhNP_
 (, 
func
, 

)

	)

179 
	#__le_mh_
(
t_ty
, 
func
, 

) \

180 
	`__le_mh_de_
 (
t_ty
, 
func
, 

, "0" (
__x
))

	)

181 
	#__le_mhNP_
(
t_ty
, 
func
, 

) \

182 
	`__le_mh_deNP_
 (
t_ty
, 
func
, 

, "0" (
__x
))

	)

185 #i
defed
 
__USE_MISC
 || defed 
__USE_ISOC99


186 
	#__le_mh_de
(
func
, 

, 
ms
...) \

187 
	`__le_mh_de_
 (, 
func
, 

, 
ms
) \

188 
	`__le_mh_de_
 (, 
	`__CONCAT
(
func
,
f
), 

, 
ms
) \

189 
	`__le_mh_de_
 (, 
	`__CONCAT
(
func
,
l
), 

, 
ms
)

	)

190 
	#__le_mh_deNP
(
func
, 

, 
ms
...) \

191 
	`__le_mh_deNP_
 (, 
func
, 

, 
ms
) \

192 
	`__le_mh_deNP_
 (, 
	`__CONCAT
(
func
,
f
), 

, 
ms
) \

193 
	`__le_mh_deNP_
 (, 
	`__CONCAT
(
func
,
l
), 

, 
ms
)

	)

195 
	#__le_mh_de
(
func
, 

, 
ms
...) \

196 
	`__le_mh_de_
 (, 
func
, 

, 
ms
)

	)

197 
	#__le_mh_deNP
(
func
, 

, 
ms
...) \

198 
	`__le_mh_deNP_
 (, 
func
, 

, 
ms
)

	)

201 
	#__le_mh_de_
(
t_ty
, 
func
, 

, 
ms
...) \

202 
__MATH_INLINE
 
t_ty
 
	`func
 (t_ty
__THROW
; \

203 
	`__le_mh_deNP_
 (
t_ty
, 
func
, 

, 
ms
)

	)

205 
	#__le_mh_deNP_
(
t_ty
, 
func
, 

, 
ms
...) \

206 
__MATH_INLINE
 
t_ty
 
	`__NTH
 (
	`func
 (t_ty 
__x
)) \

208 
t_ty
 
__su
; \

209 
__asm
 
	`__vީe__
 (

 : "" (
__su
: 
ms
); \

210  
__su
; \

211 }

	)

214 #i
defed
 
__USE_MISC
 || defed 
__USE_ISOC99


215 
	#__le_mhcode
(
func
, 
g
, 
code
) \

216 
	`__le_mhcode_
 (, 
func
, 
g
, 
code
) \

217 
	`__le_mhcode_
 (, 
	`__CONCAT
(
func
,
f
), 
g
, 
code
) \

218 
	`__le_mhcode_
 (, 
	`__CONCAT
(
func
,
l
), 
g
, 
code
)

	)

219 
	#__le_mhcodeNP
(
func
, 
g
, 
code
) \

220 
	`__le_mhcodeNP_
 (, 
func
, 
g
, 
code
) \

221 
	`__le_mhcodeNP_
 (, 
	`__CONCAT
(
func
,
f
), 
g
, 
code
) \

222 
	`__le_mhcodeNP_
 (, 
	`__CONCAT
(
func
,
l
), 
g
, 
code
)

	)

223 
	#__le_mhcode2
(
func
, 
g1
, 
g2
, 
code
) \

224 
	`__le_mhcode2_
 (, 
func
, 
g1
, 
g2
, 
code
) \

225 
	`__le_mhcode2_
 (, 
	`__CONCAT
(
func
,
f
), 
g1
, 
g2
, 
code
) \

226 
	`__le_mhcode2_
 (, 
	`__CONCAT
(
func
,
l
), 
g1
, 
g2
, 
code
)

	)

227 
	#__le_mhcodeNP2
(
func
, 
g1
, 
g2
, 
code
) \

228 
	`__le_mhcodeNP2_
 (, 
func
, 
g1
, 
g2
, 
code
) \

229 
	`__le_mhcodeNP2_
 (, 
	`__CONCAT
(
func
,
f
), 
g1
, 
g2
, 
code
) \

230 
	`__le_mhcodeNP2_
 (, 
	`__CONCAT
(
func
,
l
), 
g1
, 
g2
, 
code
)

	)

231 
	#__le_mhcode3
(
func
, 
g1
, 
g2
, 
g3
, 
code
) \

232 
	`__le_mhcode3_
 (, 
func
, 
g1
, 
g2
, 
g3
, 
code
) \

233 
	`__le_mhcode3_
 (, 
	`__CONCAT
(
func
,
f
), 
g1
, 
g2
, 
g3
, 
code
) \

234 
	`__le_mhcode3_
 (, 
	`__CONCAT
(
func
,
l
), 
g1
, 
g2
, 
g3
, 
code
)

	)

235 
	#__le_mhcodeNP3
(
func
, 
g1
, 
g2
, 
g3
, 
code
) \

236 
	`__le_mhcodeNP3_
 (, 
func
, 
g1
, 
g2
, 
g3
, 
code
) \

237 
	`__le_mhcodeNP3_
 (, 
	`__CONCAT
(
func
,
f
), 
g1
, 
g2
, 
g3
, 
code
) \

238 
	`__le_mhcodeNP3_
 (, 
	`__CONCAT
(
func
,
l
), 
g1
, 
g2
, 
g3
, 
code
)

	)

240 
	#__le_mhcode
(
func
, 
g
, 
code
) \

241 
	`__le_mhcode_
 (, 
func
, (
g
), 
code
)

	)

242 
	#__le_mhcodeNP
(
func
, 
g
, 
code
) \

243 
	`__le_mhcodeNP_
 (, 
func
, (
g
), 
code
)

	)

244 
	#__le_mhcode2
(
func
, 
g1
, 
g2
, 
code
) \

245 
	`__le_mhcode2_
 (, 
func
, 
g1
, 
g2
, 
code
)

	)

246 
	#__le_mhcodeNP2
(
func
, 
g1
, 
g2
, 
code
) \

247 
	`__le_mhcodeNP2_
 (, 
func
, 
g1
, 
g2
, 
code
)

	)

248 
	#__le_mhcode3
(
func
, 
g1
, 
g2
, 
g3
, 
code
) \

249 
	`__le_mhcode3_
 (, 
func
, 
g1
, 
g2
, 
g3
, 
code
)

	)

250 
	#__le_mhcodeNP3
(
func
, 
g1
, 
g2
, 
g3
, 
code
) \

251 
	`__le_mhcodeNP3_
 (, 
func
, 
g1
, 
g2
, 
g3
, 
code
)

	)

254 
	#__le_mhcode_
(
t_ty
, 
func
, 
g
, 
code
) \

255 
__MATH_INLINE
 
t_ty
 
	`func
 (t_ty
__THROW
; \

256 
	`__le_mhcodeNP_
(
t_ty
, 
func
, 
g
, 
code
)

	)

258 
	#__le_mhcodeNP_
(
t_ty
, 
func
, 
g
, 
code
) \

259 
__MATH_INLINE
 
t_ty
 
	`__NTH
 (
	`func
 (t_ty 
g
)) \

261 
code
; \

262 }

	)

265 
	#__le_mhcode2_
(
t_ty
, 
func
, 
g1
, 
g2
, 
code
) \

266 
__MATH_INLINE
 
t_ty
 
	`func
 (t_ty, flt_ty
__THROW
; \

267 
	`__le_mhcodeNP2_
 (
t_ty
, 
func
, 
g1
, 
g2
, 
code
)

	)

269 
	#__le_mhcodeNP2_
(
t_ty
, 
func
, 
g1
, 
g2
, 
code
) \

270 
__MATH_INLINE
 
t_ty
 
	`__NTH
 (
	`func
 (t_ty 
g1
, flt_ty 
g2
)) \

272 
code
; \

273 }

	)

275 
	#__le_mhcode3_
(
t_ty
, 
func
, 
g1
, 
g2
, 
g3
, 
code
) \

276 
__MATH_INLINE
 
t_ty
 
	`func
 (t_ty, flt_ty, flt_ty
__THROW
; \

277 
	`__le_mhcodeNP3_
(
t_ty
, 
func
, 
g1
, 
g2
, 
g3
, 
code
)

	)

279 
	#__le_mhcodeNP3_
(
t_ty
, 
func
, 
g1
, 
g2
, 
g3
, 
code
) \

280 
__MATH_INLINE
 
t_ty
 
	`__NTH
 (
	`func
 (t_ty 
g1
, flt_ty 
g2
, \

281 
t_ty
 
g3
)) \

283 
code
; \

284 }

	)

288 #i!
defed
 
__NO_MATH_INLINES
 && defed 
__OPTIMIZE__


291 
__le_mhcode
 (
__sgn
, 
__x
, \

292  
__x
 == 0.0 ? 0.0 : (__x > 0.0 ? 1.0 : -1.0))

295 #ifde
__FAST_MATH__


296 
__le_mhcode
 (
__pow2
, 
__x
, \

297 
__vue
; \

298 
__expڒt
; \

299 
__exnsi__
 
__p
 = (
__x
; \

300 i(
__x
 =(
__p
) \

302 
__asm
 
__vީe__
 \

304 : "" (
__vue
: "0" (1.0), "u" (
__x
)); \

305  
__vue
; \

307 
__asm
 
__vީe__
 \

313 : "" (
__vue
), "=u" (
__expڒt
: "0" (
__x
)); \

314 
__vue
 += 1.0; \

315 
__asm
 
__vީe__
 \

317 : "" (
__vue
: "0" (__vue), "u" (
__expڒt
)); \

318  
__vue
)

320 #ifde
__USE_GNU


321 
	#__scos_code
 \

322 
__co
; \

323 
__sr
; \

324 
__asm
 
__vީe__
 \

339 : "" (
__co
), "=u" (
__sr
: "0" (
__x
)); \

340 *
__sx
 = 
__sr
; \

341 *
__cosx
 = 
__co


	)

343 
__MATH_INLINE
 

344 
__NTH
 (
	$__scos
 (
__x
, *
__sx
, *
__cosx
))

346 
__scos_code
;

347 
	}
}

349 
__MATH_INLINE
 

350 
__NTH
 (
	$__scosf
 (
__x
, *
__sx
, *
__cosx
))

352 
__scos_code
;

353 
	}
}

355 
__MATH_INLINE
 

356 
__NTH
 (
	$__sco
 (
__x
, *
__sx
, *
__cosx
))

358 
__scos_code
;

359 
	}
}

366 #i
__GNUC_PREREQ
 (3, 5)

367 
	#__expm1_code
 \

368 
__mp
; \

369 
__mp
 = 
	`__but_expm1l
 (
__x
); \

370  
__mp
 ? __m: 
__x


	)

372 
	#__expm1_code
 \

373 
__vue
; \

374 
__expڒt
; \

375 
__mp
; \

376 
__asm
 
__vީe__
 \

385 : "" (
__vue
), "=u" (
__expڒt
: "0" (
__x
)); \

386 
__asm
 
__vީe__
 \

388 : "" (
__mp
: "0" (1.0), "u" (
__expڒt
)); \

389 
__mp
 -= 1.0; \

390 
__mp
 +
__vue
; \

391  
__mp
 ? __m: 
__x


	)

393 
	$__le_mhcodeNP_
 (, 
__expm1l
, 
__x
, 
__expm1_code
)

395 #i
	`__GNUC_PREREQ
 (3, 4)

396 
	`__le_mhcodeNP_
 (, 
__ex
, 
__x
,  
	$__but_ex
 (
__x
))

398 
	#__exp_code
 \

399 
__vue
; \

400 
__expڒt
; \

401 
__asm
 
__vީe__
 \

409 : "" (
__vue
), "=u" (
__expڒt
: "0" (
__x
)); \

410 
__vue
 += 1.0; \

411 
__asm
 
__vީe__
 \

413 : "" (
__vue
: "0" (__vue), "u" (
__expڒt
)); \

414  
__vue


	)

415 
	$__le_mhcodeNP
 (
exp
, 
__x
, 
__exp_code
)

416 
	$__le_mhcodeNP_
 (, 
__ex
, 
__x
, 
__exp_code
)

420 #i!
	`__GNUC_PREREQ
 (3, 5)

421 
	`__le_mhcodeNP
 (
n
, 
__x
, \

422 
__vue
; \

423 
__vue2
 
	`__ibu__
 ((
__unud__
)); \

424 
__asm
 
__vީe__
 \

426 : "" (
__vue2
), "=u" (
__vue
: "0" (
__x
)); \

427  
__vue
)

432 #i
	`__GNUC_PREREQ
 (3, 4)

433 
	`__le_mhcodeNP2_
 (, 
__2l
, 
__y
, 
__x
,

434  
	$__but_2l
 (
__y
, 
__x
))

436 
	#__2_code
 \

437 
__vue
; \

438 
__asm
 
__vީe__
 \

440 : "" (
__vue
: "0" (
__x
), "u" (
__y
) : "st(1)"); \

441  
__vue


	)

442 #ifde
__FAST_MATH__


443 
	$__le_mhcodeNP2
 (
2
, 
__y
, 
__x
, 
__2_code
)

445 
	$__le_mhcodeNP2_
 (, 
__2l
, 
__y
, 
__x
, 
__2_code
)

449 #i
defed
 
__FAST_MATH__
 && !
	`__GNUC_PREREQ
 (3, 5)

450 
	`__le_mhcodeNP2
 (
fmod
, 
__x
, 
__y
, \

451 
__vue
; \

452 
__asm
 
__vީe__
 \

457 : "" (
__vue
: "0" (
__x
), "u" (
__y
) : "ax", "cc"); \

458  
__vue
)

462 #ifde
__FAST_MATH__


463 #i!
	`__GNUC_PREREQ
 (3,3)

464 
	`__le_mhNP
 (
sq
, "fsqrt")

465 
	`__le_mhNP_
 (, 
__sql
, "fsqrt")

466 
	#__libc_sql
(
n

	`__sql
 (n)

	)

468 
	#__libc_sql
(
n

	`__but_sql
 (n)

	)

472 #i
	`__GNUC_PREREQ
 (2, 8)

473 
	`__le_mhcodeNP_
 (, 
bs
, 
__x
,  
	$__but_bs
 (
__x
))

474 #i
defed
 
__USE_MISC
 || defed 
__USE_ISOC99


475 
	`__le_mhcodeNP_
 (, 
bsf
, 
__x
,  
	$__but_bsf
 (
__x
))

476 
	`__le_mhcodeNP_
 (, 
b
, 
__x
,  
	$__but_b
 (
__x
))

478 
	`__le_mhcodeNP_
 (, 
__b
, 
__x
,  
	$__but_b
 (
__x
))

480 
	`__le_mh
 (
bs
, "fabs")

481 
	`__le_mh_
 (, 
__b
, "fabs")

484 #ifde
__FAST_MATH__


485 #i!
	`__GNUC_PREREQ
 (3, 4)

487 
	`__le_mhNP
 (
s
, "fsin")

489 
	`__le_mhNP
 (
cos
, "fcos")

491 
	`__le_mh_deNP
 (
log
, "d2; fxch; fyl2x", "0" (
__x
) : "st(1)")

494 #i!
	`__GNUC_PREREQ
 (3, 5)

495 
	`__le_mh_deNP
 (
log10
, "dlg2; fxch; fyl2x", "0" (
__x
) : "st(1)")

497 
	`__le_mhcodeNP
 (
as
, 
__x
,  
	`__2l
 (__x, 
	`__libc_sql
 (1.0 - __x * __x)))

498 
	`__le_mhcodeNP
 (
acos
, 
__x
,  
	`__2l
 (
	`__libc_sql
 (1.0 - __x * __x), __x))

501 #i!
	`__GNUC_PREREQ
 (3, 4)

502 
	`__le_mh_deNP
 (

, "d1; fn", "0" (
__x
) : "st(1)")

506 
	`__le_mhcode_
 (, 
__sgn1l
, 
__x
, \

507 
__exnsi__
 uni { 
__xld
; 
__xi
[3]; } 
__n
 = \

508 { 
__xld
: 
__x
 
	}
}; \

509 
	g__n
.
	g__xi
[2] = (
__n
.
__xi
[2] & 0x8000) | 0x3fff; \

510 
	g__n
.
	g__xi
[1] = 0x80000000; \

511 
	g__n
.
	g__xi
[0] = 0; \

512  
	g__n
.
	g__xld
)

515 #ifde
__FAST_MATH__


517 
__le_mhcodeNP
 (
sh
, 
__x
, \

518 
__exm1
 = 
__expm1l
 (
__b
 (
__x
)); \

519  0.5 * (
__exm1
 / (__exm1 + 1.0+ __exm1* 
	$__sgn1l
 (
__x
))

521 
	`__le_mhcodeNP
 (
cosh
, 
__x
, \

522 
__ex
 = 
	`__ex
 (
__x
); \

523  0.5 * (
__ex
 + 1.0 / __ex))

525 
	`__le_mhcodeNP
 (
nh
, 
__x
, \

526 
__exm1
 = 
	`__expm1l
 (-
	`__b
 (
__x
 + __x)); \

527  
__exm1
 / (__exm1 + 2.0* 
	`__sgn1l
 (-
__x
))

530 
	`__le_mhcodeNP
 (
o
, 
__x
, \

531 
__vue
; \

532 
__vީe
 
__cw
; \

533 
__vީe
 
__cwtmp
; \

534 
__asm
 
	`__vީe
 ("cw %0" : "=m" (
__cw
)); \

535 
__cwtmp
 = (
__cw
 & 0xf3ff) | 0x0400; \

536 
__asm
 
	`__vީe
 ("dcw %0" : : "m" (
__cwtmp
)); \

537 
__asm
 
	`__vީe
 ("ndt" : "" (
__vue
: "0" (
__x
)); \

538 
__asm
 
	`__vީe
 ("dcw %0" : : "m" (
__cw
)); \

539  
__vue
)

541 
	`__le_mhcodeNP
 (

, 
__x
, \

542 
__vue
; \

543 
__vީe
 
__cw
; \

544 
__vީe
 
__cwtmp
; \

545 
__asm
 
	`__vީe
 ("cw %0" : "=m" (
__cw
)); \

546 
__cwtmp
 = (
__cw
 & 0xf3ff) | 0x0800; \

547 
__asm
 
	`__vީe
 ("dcw %0" : : "m" (
__cwtmp
)); \

548 
__asm
 
	`__vީe
 ("ndt" : "" (
__vue
: "0" (
__x
)); \

549 
__asm
 
	`__vީe
 ("dcw %0" : : "m" (
__cw
)); \

550  
__vue
)

552 #ifde
__FAST_MATH__


553 
	#__ldexp_code
 \

554 
__vue
; \

555 
__asm
 
__vީe__
 \

557 : "" (
__vue
: "0" (
__x
), "u" ((
__y
)); \

558  
__vue


	)

560 
__MATH_INLINE
 

561 
	`__NTH
 (
	$ldexp
 (
__x
, 
__y
))

563 
__ldexp_code
;

564 
	}
}

569 #i
defed
 
__USE_ISOC99
 || defed 
__USE_MISC


571 #ifde
__FAST_MATH__


572 
	$__le_mhcodeNP
 (
expm1
, 
__x
, 
__expm1_code
)

576 
	#__M_SQRT2
 1.41421356237309504880L

	)

578 #i!
	`__GNUC_PREREQ
 (3, 5)

579 
	`__le_mhcodeNP
 (
log1p
, 
__x
, \

580 
__vue
; \

581 i(
	`__b
 (
__x
>1.0 - 0.5 * 
__M_SQRT2
) \

582 
__vue
 = 
	`logl
 (1.0 + 
__x
); \

584 
__asm
 
__vީe__
 \

588 : "" (
__vue
: "0" (
__x
) : "st(1)"); \

589  
__vue
)

594 
	`__le_mhcodeNP
 (
ash
, 
__x
, \

595 
__y
 = 
	`__b
 (
__x
); \

596  (
	`log1
 (
__y
 * __y / (
	`__libc_sql
 (__y * __y + 1.0) + 1.0) + __y) \

597 * 
	$__sgn1l
 (
__x
)))

599 
	`__le_mhcodeNP
 (
acosh
, 
__x
, \

600  
	`logl
 (
__x
 + 
	`__libc_sql
 (__x - 1.0) * __libc_sqrtl (__x + 1.0)))

602 
	`__le_mhcodeNP
 (
h
, 
__x
, \

603 
__y
 = 
	`__b
 (
__x
); \

604  -0.5 * 
	`log1
 (-(
__y
 + __y/ (1.0 + __y)* 
	$__sgn1l
 (
__x
))

607 
	`__le_mhcodeNP2
 (
hyp
, 
__x
, 
__y
,

608  
	`__libc_sql
 (
__x
 * __x + 
__y
 * __y))

610 #i!
	`__GNUC_PREREQ
 (3, 5)

611 
	`__le_mhcodeNP
(
logb
, 
__x
, \

612 
__vue
; \

613 
__junk
; \

614 
__asm
 
__vީe__
 \

616 : "" (
__junk
), "=u" (
__vue
: "0" (
__x
)); \

617  
__vue
)

623 #ifde
__USE_ISOC99


624 #ifde
__FAST_MATH__


626 #i!
	`__GNUC_PREREQ
 (3, 5)

627 
	`__le_mh_deNP
 (
log2
, "d1; fxch; fyl2x", "0" (
__x
) : "st(1)")

630 
__MATH_INLINE
 

631 
	`__NTH
 (
	$ldexpf
 (
__x
, 
__y
))

633 
__ldexp_code
;

634 
	}
}

636 
__MATH_INLINE
 

637 
__NTH
 (
	$ldex
 (
__x
, 
__y
))

639 
__ldexp_code
;

640 
	}
}

642 
__le_mhcodeNP3
 (
fma
, 
__x
, 
__y
, 
__z
,  (__x * __y) + __z)

644 
__le_mhNP
 (
rt
, "frndint")

647 
	#__̚t_code
 \

648 
__̚es
; \

649 
__asm__
 
__vީe__
 \

651 : "=m" (
__̚es
: "t" (
__x
) : "st"); \

652  
__̚es


	)

653 
__MATH_INLINE
 

654 
__NTH
 (
	$̚tf
 (
__x
))

656 
__̚t_code
;

657 
	}
}

658 
__MATH_INLINE
 

659 
__NTH
 (
	$̚t
 (
__x
))

661 
__̚t_code
;

662 
	}
}

663 
__MATH_INLINE
 

664 
__NTH
 (
	$̚
 (
__x
))

666 
__̚t_code
;

667 
	}
}

668 #unde
__̚t_code


670 
	#__rt_code
 \

671 
__res
; \

672 
__asm__
 
__vީe__
 \

674 : "=m" (
__res
: "t" (
__x
) : "st"); \

675  
__res


	)

676 
__MATH_INLINE
 

677 
__NTH
 (
	$rtf
 (
__x
))

679 
__rt_code
;

680 
	}
}

681 
__MATH_INLINE
 

682 
__NTH
 (
	$rt
 (
__x
))

684 
__rt_code
;

685 
	}
}

686 
__MATH_INLINE
 

687 
__NTH
 (
	$r
 (
__x
))

689 
__rt_code
;

690 
	}
}

691 #unde
__rt_code


696 #ifde
__USE_MISC


698 #i
defed
 
__FAST_MATH__
 && !
__GNUC_PREREQ
 (3, 5)

699 
__le_mhcodeNP2
 (
dm
, 
__x
, 
__y
, \

700 
__vue
; \

701 
__obbed
; \

702 
__asm
 
__vީe__
 \

707 : "" (
__vue
), "=&a" (
__obbed
: "0" (
__x
), "u" (
__y
) : "cc"); \

708  
__vue
)

713 
__MATH_INLINE
 

714 
__NTH
 (
	$__fe
 (
__x
))

716  (
__exnsi__


717 (((((uni { 
__d
; 
__i
[2]; }{__d: 
__x
}).__i[1]

719 
	}
}

722 #ifde
__FAST_MATH__


723 
__le_mhcode
 (
__coshm1
, 
__x
, \

724 
__exm1
 = 
__expm1l
 (
__b
 (
__x
)); \

725  0.5 * (
__exm1
 / (__exm1 + 1.0)) * __exm1)

727 
__le_mhcode
 (
__acosh1p
, 
__x
, \

728  
log1
 (
__x
 + 
__libc_sql
 (__x) * __libc_sqrtl (__x + 2.0)))

734 #unde
__2_code


735 #ifde
__FAST_MATH__


736 #unde
__expm1_code


737 #unde
__exp_code


738 #unde
__scos_code


745 #ifde
__LIBC_INTERNAL_MATH_INLINES


746 
__le_mh
 (
__754_sq
, "fsqrt")

747 
__le_mhcode2
 (
__754_2
, 
__y
, 
__x
,

748 
__vue
;

749 
__asm
 
__vީe__
 ("fpatan\n\t"

750 : "" (
__vue
)

751 : "0" (
__x
), "u" (
__y
) : "st(1)");

752  
__vue
;)

	@/usr/include/bits/nan.h

20 #ide
_MATH_H


27 #i
__GNUC_PREREQ
(3,3)

29 
	#NAN
 (
	`__but_nf
(""))

	)

31 #i
defed__GNUC__


33 
	#NAN
 \

34 (
__exnsi__
 \

35 ((uni { 
__l
 
	`__ibu__
((
	`__mode__
(
__SI__
))); 
__d
; }) \

36 { 
__l
: 0x7fc00000UL }).
__d
)

	)

40 
	~<dn.h
>

42 #i
__BYTE_ORDER
 =
__BIG_ENDIAN


43 
	#__n_bys
 { 0x7f, 0xc0, 0, 0 }

	)

45 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


46 
	#__n_bys
 { 0, 0, 0xc0, 0x7}

	)

49 uni { 
	m__c
[4]; 
	m__d
; } 
__n_uni


50 
	g__ibu_ud__
 = { 
__n_bys
 };

51 
	#NAN
 (
__n_uni
.
__d
)

	)

	@/usr/include/bits/stdio_lim.h

19 #i!
defed
 
_STDIO_H
 && !defed 
__ed_FOPEN_MAX
 && !defed 
__ed_IOV_MAX


23 #ifde
_STDIO_H


24 
	#L_tmam
 20

	)

25 
	#TMP_MAX
 238328

	)

26 
	#FILENAME_MAX
 4096

	)

28 #ifde
__USE_POSIX


29 
	#L_mid
 9

	)

30 
	#L_curid
 9

	)

34 #i
defed
 
__ed_FOPEN_MAX
 || defed 
_STDIO_H


35 #unde
FOPEN_MAX


36 
	#FOPEN_MAX
 16

	)

39 #i
defed
 
__ed_IOV_MAX
 && !defed 
IOV_MAX


40 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/typesizes.h

20 #ide
_BITS_TYPES_H


24 #idef 
_BITS_TYPESIZES_H


25 
	#_BITS_TYPESIZES_H
 1

	)

30 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

31 
	#__UID_T_TYPE
 
__U32_TYPE


	)

32 
	#__GID_T_TYPE
 
__U32_TYPE


	)

33 
	#__INO_T_TYPE
 
__ULONGWORD_TYPE


	)

34 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

35 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

36 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

37 
	#__OFF_T_TYPE
 
__SLONGWORD_TYPE


	)

38 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

39 
	#__PID_T_TYPE
 
__S32_TYPE


	)

40 
	#__RLIM_T_TYPE
 
__ULONGWORD_TYPE


	)

41 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

42 
	#__BLKCNT_T_TYPE
 
__SLONGWORD_TYPE


	)

43 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

44 
	#__FSBLKCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

45 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

46 
	#__FSFILCNT_T_TYPE
 
__ULONGWORD_TYPE


	)

47 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

48 
	#__ID_T_TYPE
 
__U32_TYPE


	)

49 
	#__CLOCK_T_TYPE
 
__SLONGWORD_TYPE


	)

50 
	#__TIME_T_TYPE
 
__SLONGWORD_TYPE


	)

51 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

52 
	#__SUSECONDS_T_TYPE
 
__SLONGWORD_TYPE


	)

53 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

54 
	#__SWBLK_T_TYPE
 
__SLONGWORD_TYPE


	)

55 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

56 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

57 
	#__TIMER_T_TYPE
 
__S32_TYPE


	)

58 
	#__BLKSIZE_T_TYPE
 
__SLONGWORD_TYPE


	)

59 
	#__FSID_T_TYPE
 su { 
__v
[2]; }

	)

60 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

63 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/gnu/stubs.h

6 #ifde
_LIBC


7 #r 
Alitis
 
may
 
n
 
defe
 
the
 
mao
 
_LIBC


10 
	#__ub___kl_co


	)

11 
	#__ub___kl_sl


	)

12 
	#__ub___kl_


	)

13 
	#__ub_chags


	)

14 
	#__ub_ach


	)

15 
	#__ub_fchags


	)

16 
	#__ub_fdach


	)

17 
	#__ub_gy


	)

18 
	#__ub_lchmod


	)

19 
	#__ub_lutimes


	)

20 
	#__ub_voke


	)

21 
	#__ub_og


	)

22 
	#__ub_sk


	)

23 
	#__ub_ty


	)

	@/usr/include/sys/cdefs.h

19 #idef 
_SYS_CDEFS_H


20 
	#_SYS_CDEFS_H
 1

	)

23 #ide
_FEATURES_H


24 
	~<us.h
>

30 #i
defed
 
__GNUC__
 && !defed 
__STDC__


35 #unde
__P


36 #unde
__PMT


38 #ifde
__GNUC__


45 #i!
defed
 
__lulus
 && 
__GNUC_PREREQ
 (3, 3)

46 
	#__THROW
 
	`__ibu__
 ((
__nhrow__
))

	)

47 
	#__NTH
(
f

	`__ibu__
 ((
__nhrow__
)
	)
fct

49 #i
defed
 
__lulus
 && 
__GNUC_PREREQ
 (2,8)

50 
	#__THROW
 
	`throw
 ()

	)

51 
	#__NTH
(
f
f 
	`throw
 ()

	)

53 
	#__THROW


	)

54 
	#__NTH
(
f

	)
fct

60 
	#__le


	)

62 
	#__THROW


	)

63 
	#__NTH
(
f

	)
fct

65 
	#__cڡ
 cڡ

	)

66 
	#__sigd
 sigd

	)

67 
	#__vީe
 vީe

	)

73 
	#__P
(
gs

	)
args

74 
	#__PMT
(
gs

	)
args

79 
	#__CONCAT
(
x
,
y
x ## 
	)
y

80 
	#__STRING
(
x
#x

	)

83 
	#__r_t
 *

	)

84 
	#__lg_doub_t
 

	)

88 #ifdef 
__lulus


89 
	#__BEGIN_DECLS
 "C" {

	)

90 
	#__END_DECLS
 }

	)

92 
	#__BEGIN_DECLS


	)

93 
	#__END_DECLS


	)

102 #i
defed
 
__lulus
 && defed 
_GLIBCPP_USE_NAMESPACES


103 
	#__BEGIN_NAMESPACE_STD
 
mea
 
d
 {

	)

104 
	#__END_NAMESPACE_STD
 }

	)

105 
	#__USING_NAMESPACE_STD
(
me

usg
 
d
::me;

	)

106 
	#__BEGIN_NAMESPACE_C99
 
mea
 
__c99
 {

	)

107 
	#__END_NAMESPACE_C99
 }

	)

108 
	#__USING_NAMESPACE_C99
(
me

usg
 
__c99
::me;

	)

113 
	#__BEGIN_NAMESPACE_STD


	)

114 
	#__END_NAMESPACE_STD


	)

115 
	#__USING_NAMESPACE_STD
(
me
)

	)

116 
	#__BEGIN_NAMESPACE_C99


	)

117 
	#__END_NAMESPACE_C99


	)

118 
	#__USING_NAMESPACE_C99
(
me
)

	)

123 #ide
__BOUNDED_POINTERS__


124 
	#__bounded


	)

125 
	#__unbounded


	)

126 
	#__rvue


	)

131 
	#__bos
(
r

	`__but_obje_size
 (r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

132 
	#__bos0
(
r

	`__but_obje_size
 (r, 0)

	)

136 #i
__GNUC_PREREQ
 (2,97)

138 
	#__exr
 []

	)

140 #ifde
__GNUC__


141 
	#__exr
 [0]

	)

143 #i
defed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

144 
	#__exr
 []

	)

147 
	#__exr
 [1]

	)

163 #i
defed
 
__GNUC__
 && __GNUC__ >= 2

165 
	#__REDIRECT
(
me
, 
o
, 
s
m
	`__asm__
 (
	`__ASMNAME
 (#s))

	)

166 #ifde
__lulus


167 
	#__REDIRECT_NTH
(
me
, 
o
, 
s
) \

168 
me
 
o
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#s))

	)

170 
	#__REDIRECT_NTH
(
me
, 
o
, 
s
) \

171 
me
 
o
 
	`__asm__
 (
	`__ASMNAME
 (#s)
__THROW


	)

173 
	#__ASMNAME
(
ame

	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cme)

	)

174 
	#__ASMNAME2
(
efix
, 
ame

	`__STRING
 (efix
	)
cname

187 #i!
defed
 
__GNUC__
 || __GNUC__ < 2

188 
	#__ibu__
(
xyz


	)

194 #i
__GNUC_PREREQ
 (2,96)

195 
	#__ibu_mloc__
 
	`__ibu__
 ((
__mloc__
))

	)

197 
	#__ibu_mloc__


	)

203 #i
__GNUC_PREREQ
 (2,96)

204 
	#__ibu_pu__
 
	`__ibu__
 ((
__pu__
))

	)

206 
	#__ibu_pu__


	)

212 #i
__GNUC_PREREQ
 (3,1)

213 
	#__ibu_ud__
 
	`__ibu__
 ((
__ud__
))

	)

214 
	#__ibu_nole__
 
	`__ibu__
 ((
__nole__
))

	)

216 
	#__ibu_ud__
 
	`__ibu__
 ((
__unud__
))

	)

217 
	#__ibu_nole__


	)

221 #i
__GNUC_PREREQ
 (3,2)

222 
	#__ibu_dd__
 
	`__ibu__
 ((
__dd__
))

	)

224 
	#__ibu_dd__


	)

233 #i
__GNUC_PREREQ
 (2,8)

234 
	#__ibu_fm_g__
(
x

	`__ibu__
 ((
	`__fm_g__
 (x)))

	)

236 
	#__ibu_fm_g__
(
x


	)

243 #i
__GNUC_PREREQ
 (2,97)

244 
	#__ibu_fm_rfm__
(
a
,
b
) \

245 
	`__ibu__
 ((
	`__fm__
 (
__rfm__
, 
a
, 
b
)))

	)

247 
	#__ibu_fm_rfm__
(
a
,
b


	)

252 #i
__GNUC_PREREQ
 (3,3)

253 
	#__nnu
(
ms

	`__ibu__
 ((
__nnu__
ams))

	)

255 
	#__nnu
(
ms
)

	)

262 #i!
__GNUC_PREREQ
 (2,8)

263 
	#__exnsi__


	)

267 #i!
__GNUC_PREREQ
 (2,92)

268 
	#__ri


	)

274 #i
__GNUC_PREREQ
 (3,1&& !
defed
 
__GNUG__


275 
	#__ri_r
 
__ri


	)

277 #ifde
__GNUC__


278 
	#__ri_r


	)

280 #i
defed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

281 
	#__ri_r
 
ri


	)

284 
	#__ri_r


	)

	@/usr/include/endian.h

19 #idef 
_ENDIAN_H


20 
	#_ENDIAN_H
 1

	)

22 
	~<us.h
>

32 
	#__LITTLE_ENDIAN
 1234

	)

33 
	#__BIG_ENDIAN
 4321

	)

34 
	#__PDP_ENDIAN
 3412

	)

37 
	~<bs/dn.h
>

41 #ide
__FLOAT_WORD_ORDER


42 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

45 #ifdef 
__USE_BSD


46 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

47 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

48 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

49 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

52 #i
__BYTE_ORDER
 =
__LITTLE_ENDIAN


53 
	#__LONG_LONG_PAIR
(
HI
, 
LO
LO, 
	)
HI

54 #i
__BYTE_ORDER
 =
__BIG_ENDIAN


55 
	#__LONG_LONG_PAIR
(
HI
, 
LO
HI, 
	)
LO

	@/usr/include/linux/limits.h

1 #ide
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#CHILD_MAX
 999

	)

9 
	#OPEN_MAX
 256

	)

10 
	#LINK_MAX
 127

	)

11 
	#MAX_CANON
 255

	)

12 
	#MAX_INPUT
 255

	)

13 
	#NAME_MAX
 255

	)

14 
	#PATH_MAX
 4096

	)

15 
	#PIPE_BUF
 4096

	)

16 
	#XATTR_NAME_MAX
 255

	)

17 
	#XATTR_SIZE_MAX
 65536

	)

18 
	#XATTR_LIST_MAX
 65536

	)

20 
	#RTSIG_MAX
 32

	)

	@/usr/include/bits/endian.h

3 #ide
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@
1
.
1
/usr/include
40
993
cmd.h
const.h
func.h
jinyong.c
typedef.h
/usr/include/SDL/SDL.h
/usr/include/SDL/SDL_events.h
/usr/include/SDL/SDL_gfxPrimitives.h
/usr/include/SDL/SDL_mixer.h
/usr/include/SDL/SDL_rotozoom.h
/usr/include/SDL/SDL_ttf.h
/usr/include/SDL/SDL_video.h
/usr/include/iconv.h
/usr/include/limits.h
/usr/include/time.h
/usr/include/bits/posix1_lim.h
/usr/include/bits/posix2_lim.h
/usr/include/bits/time.h
/usr/include/bits/types.h
/usr/include/bits/wordsize.h
/usr/include/bits/xopen_lim.h
/usr/include/features.h
/usr/include/math.h
/usr/include/xlocale.h
/usr/include/bits/huge_val.h
/usr/include/bits/huge_valf.h
/usr/include/bits/huge_vall.h
/usr/include/bits/inf.h
/usr/include/bits/local_lim.h
/usr/include/bits/mathcalls.h
/usr/include/bits/mathdef.h
/usr/include/bits/mathinline.h
/usr/include/bits/nan.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/typesizes.h
/usr/include/gnu/stubs.h
/usr/include/sys/cdefs.h
/usr/include/endian.h
/usr/include/linux/limits.h
/usr/include/bits/endian.h
